@import './styles-sessions.css';
@import './styles-mentions.css';
@import './styles-claude-skills.css';
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');

:root {
  color-scheme: dark;
  --bg: #0a0e16;
  --panel: #10151e;
  --panel-2: #111820;
  --border: rgba(255, 255, 255, 0.08);
  --border-subtle: rgba(255, 255, 255, 0.04);
  --text: #f0f4f8;
  --muted: rgba(240, 244, 248, 0.7);
  --accent: #6b8afd;
  --accent-2: #22d3ee;
  --accent-3: #818cf8;
  --accent-persistent: #f472b6;
  --radius-control: 6px;
  --app-zoom-scale: 1.0;
}

/* ------------------------------------------------------------------ */
/*  Dynamic Theme Variables                                            */
/* ------------------------------------------------------------------ */

html[data-theme="green"] {
  --theme-primary: #00ff41;
  --theme-primary-dim: #00cc33;
  --theme-primary-rgb: 0, 255, 65;
  --theme-border: #003300;
  --theme-text: #00ff41;
  --theme-text-dim: #00aa2b;
}

html[data-theme="blue"] {
  --theme-primary: #00d9ff;
  --theme-primary-dim: #00a8cc;
  --theme-primary-rgb: 0, 217, 255;
  --theme-border: #002233;
  --theme-text: #00d9ff;
  --theme-text-dim: #0099bb;
}

html[data-theme="purple"] {
  --theme-primary: #a855f7;
  --theme-primary-dim: #8b44cc;
  --theme-primary-rgb: 168, 85, 247;
  --theme-border: #1a0033;
  --theme-text: #a855f7;
  --theme-text-dim: #7c3aed;
}

html[data-theme="amber"] {
  --theme-primary: #ffb000;
  --theme-primary-dim: #cc8c00;
  --theme-primary-rgb: 255, 176, 0;
  --theme-border: #332200;
  --theme-text: #ffb000;
  --theme-text-dim: #cc8c00;
}

html[data-theme="cyan"] {
  --theme-primary: #22d3ee;
  --theme-primary-dim: #1aa8bc;
  --theme-primary-rgb: 34, 211, 238;
  --theme-border: #002233;
  --theme-text: #22d3ee;
  --theme-text-dim: #0ea5c7;
}

html[data-theme="rose"] {
  --theme-primary: #f472b6;
  --theme-primary-dim: #c25a92;
  --theme-primary-rgb: 244, 114, 182;
  --theme-border: #330022;
  --theme-text: #f472b6;
  --theme-text-dim: #db2777;
}

/* Default theme fallback (green) */
html:not([data-theme]) {
  --theme-primary: #00ff41;
  --theme-primary-dim: #00cc33;
  --theme-primary-rgb: 0, 255, 65;
  --theme-border: #003300;
  --theme-text: #00ff41;
  --theme-text-dim: #00aa2b;
}

* {
  box-sizing: border-box;
}

html {
  font-size: calc(16px * var(--app-zoom-scale));
}

html,
body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Apple Color Emoji",
    "Segoe UI Emoji";
}

#root {
  height: 100%;
}

.app {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}

.appContent {
  display: flex;
  flex: 1 1 0;
  min-height: 0;
  width: 100%;
  overflow: hidden;
  /* Three-column layout: sidebar | main | rightPanel */
  /* Main area takes remaining space via flex: 1 1 0 */
}

/* ------------------------------------------------------------------ */
/*  Project Tab Bar                                                    */
/* ------------------------------------------------------------------ */

.projectTabBar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  flex-shrink: 0;
  background: #000000;
  border-bottom: 1px solid var(--theme-border);
}

.projectTabs {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  min-width: 0;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.projectTabs::-webkit-scrollbar {
  display: none;
}

.projectTab {
  display: flex;
  align-items: center;
  border: 1px solid var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
  color: rgba(var(--theme-primary-rgb), 0.6);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
  transition: all 0.2s ease;
  position: relative;
}

.projectTab::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: rgba(var(--theme-primary-rgb), 0.3);
  transition: all 0.2s ease;
}

.projectTab:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.08);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
}

.projectTab:hover::before {
  background: var(--theme-primary);
  box-shadow: 0 0 8px var(--theme-primary);
}

.projectTabActive {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.15);
}

.projectTabActive::before {
  background: var(--theme-primary);
  box-shadow: 0 0 8px var(--theme-primary);
}

.projectTabActive:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
}

.projectTabMain {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border: none;
  background: transparent;
  color: inherit;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  cursor: pointer;
}

.projectTabName {
  max-width: 140px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.projectTabCount {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: rgba(var(--theme-primary-rgb), 0.5);
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.2);
  padding: 2px 6px;
  min-width: 18px;
  text-align: center;
}

.projectTabActive .projectTabCount {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  color: var(--theme-primary);
}

.projectTabWorking {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: #00ffff;
  background: rgba(0, 255, 255, 0.1);
  border: 1px solid rgba(0, 255, 255, 0.3);
  padding: 2px 6px;
}

.projectTabWorkingDot {
  width: 5px;
  height: 5px;
  border-radius: 999px;
  background: #00ffff;
  box-shadow: 0 0 6px #00ffff;
  animation: terminalPulse 1s ease-in-out infinite;
}

@keyframes terminalPulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 6px #00ffff; }
  50% { opacity: 0.5; box-shadow: 0 0 2px #00ffff; }
}

.projectTabBarActions {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.projectTabBarBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  border: 1px solid var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
  color: rgba(var(--theme-primary-rgb), 0.6);
  cursor: pointer;
  transition: all 0.2s ease;
}

.projectTabBarBtn:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

/* Project Tab Settings Button */
.projectTabSettingsBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border: 1px solid transparent;
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.5);
  cursor: pointer;
  transition: all 0.2s ease;
  margin-left: -4px;
}

.projectTabSettingsBtn:hover {
  color: var(--theme-primary);
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

/* Project Settings Dialog */
.projectSettingsBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.projectSettingsDialog {
  background: #000000;
  border: 2px solid var(--theme-primary);
  min-width: 360px;
  max-width: 500px;
  box-shadow: 0 0 30px rgba(var(--theme-primary-rgb), 0.3), inset 0 0 60px rgba(var(--theme-primary-rgb), 0.03);
  font-family: 'JetBrains Mono', monospace;
}

.projectSettingsHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.projectSettingsTitle {
  font-size: 13px;
  font-weight: 600;
  color: var(--theme-primary);
  letter-spacing: 1px;
}

.projectSettingsClose {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--theme-border);
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.6);
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.projectSettingsClose:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.projectSettingsContent {
  padding: 16px;
}

.projectSettingsRow {
  display: flex;
  gap: 12px;
  margin-bottom: 10px;
  font-size: 12px;
}

.projectSettingsRow:last-child {
  margin-bottom: 0;
}

.projectSettingsLabel {
  color: rgba(var(--theme-primary-rgb), 0.6);
  min-width: 80px;
  flex-shrink: 0;
}

.projectSettingsValue {
  color: var(--theme-primary);
  word-break: break-all;
}

.projectSettingsPath {
  font-size: 11px;
  color: rgba(var(--theme-primary-rgb), 0.8);
}

.projectSettingsDivider {
  height: 1px;
  background: var(--theme-border);
  margin: 0;
}

.projectSettingsDeleteBtn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 14px 16px;
  border: none;
  background: rgba(255, 50, 50, 0.05);
  color: rgba(255, 100, 100, 0.8);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.projectSettingsDeleteBtn:hover {
  background: rgba(255, 50, 50, 0.15);
  color: #ff6464;
  text-shadow: 0 0 8px rgba(255, 100, 100, 0.5);
}

.projectSettingsConfirm {
  padding: 16px;
}

.projectSettingsWarning {
  padding: 12px;
  background: rgba(255, 50, 50, 0.1);
  border: 1px solid rgba(255, 100, 100, 0.3);
  color: #ff6464;
  font-size: 12px;
  margin-bottom: 16px;
  text-align: center;
}

.projectSettingsConfirmActions {
  display: flex;
  gap: 10px;
}

.projectSettingsCancelBtn {
  flex: 1;
  padding: 10px 16px;
  border: 1px solid var(--theme-border);
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.7);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.projectSettingsCancelBtn:hover {
  border-color: var(--theme-primary);
  color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.projectSettingsConfirmDeleteBtn {
  flex: 1;
  padding: 10px 16px;
  border: 1px solid rgba(255, 100, 100, 0.5);
  background: rgba(255, 50, 50, 0.15);
  color: #ff6464;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.projectSettingsConfirmDeleteBtn:hover {
  border-color: #ff6464;
  background: rgba(255, 50, 50, 0.25);
  box-shadow: 0 0 12px rgba(255, 100, 100, 0.3);
}

/* App Settings Dialog */
.appSettingsDialog {
  background: #000000;
  border: 2px solid var(--theme-primary);
  min-width: 360px;
  max-width: 420px;
  box-shadow: 0 0 30px rgba(var(--theme-primary-rgb), 0.3), inset 0 0 60px rgba(var(--theme-primary-rgb), 0.03);
  font-family: 'JetBrains Mono', monospace;
}

.appSettingsContent {
  padding: 16px;
}

.appSettingsContent .themeSwitcher {
  background: transparent;
  border: none;
  padding: 0;
}

.appSettingsContent .themeSwitcherLabel {
  color: rgba(var(--theme-primary-rgb), 0.7);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 14px;
}

.appSettingsContent .themeSwitcherGrid {
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.appSettingsContent .themeSwitcherOption {
  border-color: var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
  padding: 12px 14px;
}

.appSettingsContent .themeSwitcherOption:hover {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-color: rgba(var(--theme-primary-rgb), 0.4);
}

.appSettingsContent .themeSwitcherOptionActive {
  border-color: var(--swatch-color);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
}

.appSettingsContent .themeSwitcherName {
  font-size: 11px;
}

/* ------------------------------------------------------------------ */
/*  Panel resize performance optimizations                             */
/* ------------------------------------------------------------------ */

/* During sidebar resize: use live CSS variable, optimize for performance */
:root.sidebar-resizing .sidebar {
  width: var(--sidebar-width-live) !important;
  will-change: width;
  transition: none !important;
}

:root.sidebar-resizing .terminalPane {
  pointer-events: none;
}

:root.sidebar-resizing .main {
  /* Hint browser that main area will change size */
  will-change: width;
}

/* During right panel resize: use live CSS variable, optimize for performance */
:root.right-panel-resizing .rightPanel {
  width: var(--right-panel-width-live) !important;
  will-change: width;
  transition: none !important;
}

:root.right-panel-resizing .terminalPane {
  pointer-events: none;
}

:root.right-panel-resizing .main {
  /* Hint browser that main area will change size */
  will-change: width;
}

/* GPU acceleration during any resize */
:root.sidebar-resizing,
:root.right-panel-resizing {
  /* Prevent text selection during drag */
  user-select: none;
}

/* ------------------------------------------------------------------ */

.sidebar {
  /* width is set via inline style */
  flex-shrink: 0;
  background:
    radial-gradient(900px 520px at 10% 0%, rgba(107, 138, 253, 0.12), transparent 55%),
    linear-gradient(180deg, var(--panel), var(--panel-2));
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  padding: 12px;
  gap: 12px;
  overflow: hidden;
  container-type: inline-size;
  container-name: sidebar;
  /* Performance: isolate layout calculations */
  contain: layout style;
}

.sidebarHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.sidebarHeaderActions {
  display: flex;
  align-items: center;
  gap: 6px;
}

.sidebarActionMenu {
  position: relative;
  display: flex;
}

.btnSmall.btnIcon.btnIconActive {
  border-color: rgba(107, 138, 253, 0.4);
  background: rgba(107, 138, 253, 0.12);
}

.sidebarActionMenuDropdown {
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  min-width: 200px;
  padding: 6px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(17, 24, 34, 0.98), rgba(10, 14, 20, 0.98));
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.55);
  z-index: 300;
}

.sidebarActionMenuItem {
  width: 100%;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  text-align: left;
}

.sidebarActionMenuItem:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
}

.sidebarActionMenuItem:active {
  transform: translateY(1px);
}

.sidebarActionMenuItem svg {
  opacity: 0.9;
}

.projectList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  height: var(--projectsListMaxHeight, 290px);
  overflow: auto;
  padding-right: 2px;
}

.projectItem {
  position: relative;
  border: 1px solid transparent;
  background: rgba(255, 255, 255, 0.02);
  color: var(--text);
  border-radius: var(--radius-control);
  display: flex;
  align-items: center;
  gap: 6px;
  transition: background 0.15s ease, border-color 0.15s ease, opacity 0.15s ease;
}

.projectItemMain {
  flex: 1;
  min-width: 0;
  border: none;
  background: transparent;
  color: inherit;
  padding: 10px 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  text-align: left;
}

.projectDragHandle {
  width: 32px;
  height: 32px;
  flex: 0 0 auto;
  margin-right: 6px;
  border: 1px solid transparent;
  border-radius: var(--radius-control);
  background: transparent;
  color: var(--muted);
  cursor: grab;
  opacity: 0.35;
  touch-action: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.projectItem:hover .projectDragHandle {
  opacity: 0.75;
  border-color: rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.03);
}

.projectDragHandle:active {
  cursor: grabbing;
}

.projectDragHandle:disabled {
  opacity: 0.15;
  cursor: default;
}

.projectItemDragging {
  opacity: 0.6;
}

.projectItemDropBefore::before {
  content: "";
  position: absolute;
  left: 10px;
  right: 10px;
  top: -1px;
  height: 2px;
  border-radius: 999px;
  background: rgba(34, 211, 238, 0.75);
}

.projectItemDropAfter::after {
  content: "";
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: -1px;
  height: 2px;
  border-radius: 999px;
  background: rgba(34, 211, 238, 0.75);
}

.projectItem:hover {
  border-color: rgba(255, 255, 255, 0.08);
}

.projectItemActive {
  border-color: rgba(107, 138, 253, 0.5);
  background: rgba(107, 138, 253, 0.09);
}

.projectTitle {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 13px;
}

.projectBadges {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.projectAgentsBadge {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.88);
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: linear-gradient(180deg, rgba(107, 138, 253, 0.22), rgba(34, 211, 238, 0.14));
  border-radius: 999px;
  padding: 2px 8px;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.projectAgentsDot {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  animation: chipPulse 1.1s ease-in-out infinite;
}

.projectCount {
  font-size: 11px;
  color: var(--muted);
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  border-radius: 999px;
  padding: 2px 8px;
  white-space: nowrap;
}

.agentShortcutRow {
  display: flex;
  gap: 6px;
  overflow-x: auto;
  padding-bottom: 2px;
  scrollbar-width: none;
}

.agentShortcutRow::-webkit-scrollbar {
  display: none;
}

.agentShortcutBtn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 6px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  justify-content: flex-start;
  white-space: nowrap;
  font-size: 12px;
}

.agentShortcutBtn:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.14);
}

.agentShortcutIcon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: block;
}

.agentShortcutIconFallback {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  font-size: 11px;
}

.agentShortcutLabel {
  line-height: 1;
  font-size: 12px;
}

.sidebarResizeHandle {
  height: 14px;
  margin: -4px 0;
  position: relative;
  cursor: row-resize;
  border-radius: 6px;
  touch-action: none;
}

.sidebarResizeHandle::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 1px;
  background: var(--border);
  transform: translateY(-0.5px);
}

.sidebarResizeHandle:hover::before,
.sidebarResizeHandle:focus-visible::before {
  background: rgba(107, 138, 253, 0.35);
}

.sidebarResizeHandle:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: -2px;
}

/* Resize handle for right edge of sidebar (between sidebar and main) */
.sidebarRightResizeHandle {
  width: 8px;
  cursor: col-resize;
  background: transparent;
  transition: background 0.15s ease;
  z-index: 100;
  flex-shrink: 0;
  position: relative;
}

.sidebarRightResizeHandle::before {
  content: '';
  position: absolute;
  left: 3px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--border);
  transition: background 0.15s ease, box-shadow 0.15s ease;
}

.sidebarRightResizeHandle:hover::before,
.sidebarRightResizeHandle:focus-visible::before {
  background: rgba(var(--theme-primary-rgb), 0.8);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.5);
}

.sidebarRightResizeHandle:hover,
.sidebarRightResizeHandle:focus-visible {
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.sidebarRightResizeHandle:focus-visible {
  outline: none;
}

/* Resize handle for left edge of right panel (between main and right panel) */
.sidebarLeftResizeHandle {
  width: 0;
  cursor: col-resize;
  z-index: 100;
  flex-shrink: 0;
  position: relative;
  margin: 0;
  padding: 0;
}

/* Invisible hit target for drag interaction */
.sidebarLeftResizeHandle::before {
  content: '';
  position: absolute;
  left: -4px;
  top: 0;
  bottom: 0;
  width: 8px;
  background: transparent;
  cursor: col-resize;
  transition: background 0.15s ease;
}

.sidebarLeftResizeHandle:hover::before,
.sidebarLeftResizeHandle:focus-visible::before {
  background: rgba(var(--theme-primary-rgb), 0.5);
}

.sidebarLeftResizeHandle:focus-visible {
  outline: none;
}

.rightPanel {
  background: var(--panel);
  border-left: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  min-width: 0;
  flex-shrink: 0;
  flex-grow: 0;
  /* Performance: isolate layout calculations */
  contain: layout style;
}


.divider {
  height: 1px;
  background: var(--border);
  margin: 2px 0;
}

.title {
  font-size: 13px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
}

.btn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 8px 10px;
  border-radius: var(--radius-control);
  cursor: pointer;
  transition: background 0.15s ease, border-color 0.15s ease, transform 0.05s ease;
}

.btn svg,
.btnSmall svg,
.iconBtn svg {
  display: block;
}

.btn:hover {
  background: rgba(255, 255, 255, 0.06);
}

.btn:active {
  transform: translateY(1px);
}

.btn:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

.btn.btnDanger {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.1);
  color: rgba(255, 255, 255, 0.92);
}

.btn.btnDanger:hover {
  background: rgba(255, 80, 80, 0.14);
}

.btn.btnDanger:disabled {
  opacity: 0.55;
}

.sessionList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  overflow: auto;
  padding-right: 2px;
}

.sessionLegend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 18px;
  align-items: center;
  margin: 6px 2px 2px 2px;
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
  user-select: none;
}

.sessionLegendItem {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}

.sessionLegendSwatch {
  width: 9px;
  height: 9px;
  border-radius: 999px;
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.22);
}

.sessionLegendItemDefault {
  color: rgba(107, 138, 253, 0.75);
}

.sessionLegendItemSsh {
  color: rgba(34, 211, 238, 0.78);
}

.sessionLegendItemPersistent {
  color: rgba(244, 114, 182, 0.82);
}

.sessionLegendSwatchDefault {
  background: var(--accent);
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.22),
    0 0 0 3px rgba(107, 138, 253, 0.14);
}

.sessionLegendSwatchSsh {
  background: var(--accent-2);
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.22),
    0 0 0 3px rgba(34, 211, 238, 0.14);
}

.sessionLegendSwatchPersistent {
  background: var(--accent-persistent);
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.22),
    0 0 0 3px rgba(244, 114, 182, 0.14);
}

.empty {
  font-size: 12px;
  color: var(--muted);
  padding: 8px 2px;
}

.btn:focus-visible,
.btnSmall:focus-visible,
.sidebarActionMenuItem:focus-visible,
.agentShortcutBtn:focus-visible,
.projectItemMain:focus-visible,
.projectDragHandle:focus-visible,
.sessionItem:focus-visible,
.pathPickerItem:focus-visible,
.iconBtn:focus-visible {
  outline: 2px solid rgba(34, 211, 238, 0.55);
  outline-offset: 2px;
}

.sessionItem {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 10px;
  border-radius: var(--radius-control);
  border: 1px solid transparent;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.02);
  transition: background 0.15s ease, border-color 0.15s ease, opacity 0.15s ease;
}

.sessionItem:hover {
  border-color: rgba(255, 255, 255, 0.08);
}

.sessionItemActive {
  border-color: rgba(107, 138, 253, 0.5);
  background: rgba(107, 138, 253, 0.09);
}

.sessionItemActive.sessionItemSsh {
  border-color: rgba(34, 211, 238, 0.55);
  background: rgba(34, 211, 238, 0.085);
}

.sessionItemActive.sessionItemPersistent {
  border-color: rgba(244, 114, 182, 0.55);
  background: rgba(244, 114, 182, 0.085);
}

.sessionItemActive.sessionItemSsh .dotActive {
  background: var(--accent-2);
}

.sessionItemActive.sessionItemPersistent .dotActive {
  background: var(--accent-persistent);
}

.sessionItemExited {
  opacity: 0.75;
}

.sessionItemClosing {
  opacity: 0.7;
}

@keyframes needsInputGlow {
  0%, 100% {
    box-shadow: 0 0 4px rgba(251, 191, 36, 0.4);
    border-color: rgba(251, 191, 36, 0.5);
  }
  50% {
    box-shadow: 0 0 12px rgba(251, 191, 36, 0.7);
    border-color: rgba(251, 191, 36, 0.8);
  }
}

.sessionItemNeedsInput {
  animation: needsInputGlow 2s ease-in-out infinite;
}

.sessionItemDragging {
  opacity: 0.5;
  cursor: grabbing !important;
}

.sessionItemDragOver {
  border-color: rgba(34, 211, 238, 0.6) !important;
  background: rgba(34, 211, 238, 0.12) !important;
  box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.25);
}

.sessionItemSsh {
  /* Type color only (no left border bar). */
}

.sessionItem:not(.sessionItemActive).sessionItemDefault {
  background: rgba(107, 138, 253, 0.035);
}

.sessionItem:not(.sessionItemActive).sessionItemDefault:hover {
  border-color: rgba(107, 138, 253, 0.22);
  background: rgba(107, 138, 253, 0.055);
}

.sessionItem:not(.sessionItemActive).sessionItemSsh {
  background: rgba(34, 211, 238, 0.035);
}

.sessionItem:not(.sessionItemActive).sessionItemSsh:hover {
  border-color: rgba(34, 211, 238, 0.24);
  background: rgba(34, 211, 238, 0.055);
}

.sessionItemPersistent {
  /* Type color only (no left border bar). */
}

.sessionItemSsh .dot:not(.dotActive) {
  background: rgba(34, 211, 238, 0.78);
}

.sessionItemPersistent .dot:not(.dotActive) {
  background: rgba(244, 114, 182, 0.82);
}

.sessionItem:not(.sessionItemActive).sessionItemPersistent {
  background: rgba(244, 114, 182, 0.04);
}

.sessionItem:not(.sessionItemActive).sessionItemPersistent:hover {
  border-color: rgba(244, 114, 182, 0.24);
  background: rgba(244, 114, 182, 0.06);
}

.sessionItemDefault .dot:not(.dotActive) {
  background: rgba(107, 138, 253, 0.78);
}

.sessionDragHandle {
  width: 20px;
  height: 20px;
  flex: 0 0 auto;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  cursor: grab;
  opacity: 0.35;
  touch-action: none;
  transition: opacity 0.15s ease;
}

.sessionItem:hover .sessionDragHandle {
  opacity: 0.75;
}

.sessionItemDragging .sessionDragHandle {
  cursor: grabbing;
  opacity: 0.5;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.22);
}

.dotActive {
  background: var(--accent);
}

.sessionMeta {
  flex: 1;
  min-width: 0;
}

.sessionName {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  min-width: 0;
}

.sessionNameText {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sessionStatus {
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
}

.recordingDot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 80, 80, 0.95);
  box-shadow: 0 0 0 2px rgba(255, 80, 80, 0.14);
  animation: recordingPulse 1.2s ease-in-out infinite;
}

@keyframes recordingPulse {
  0% {
    transform: scale(0.85);
    opacity: 0.7;
  }

  50% {
    transform: scale(1.15);
    opacity: 1;
  }

  100% {
    transform: scale(0.85);
    opacity: 0.7;
  }
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  line-height: 1.6;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(255, 255, 255, 0.8);
  white-space: nowrap;
}

.agentBadge {
  position: relative;
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.agentBadge.chip-codex,
.agentBadge.chip-claude,
.agentBadge.chip-gemini {
  border: none;
  background: transparent;
  padding: 0;
}

.agentIcon {
  width: 18px;
  height: 18px;
  display: block;
}

.agentBadgeDot {
  position: absolute;
  right: -1px;
  bottom: -1px;
  box-shadow: 0 0 0 2px rgba(11, 15, 20, 0.9);
  pointer-events: none;
}

.chipActivity {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.75);
  animation: chipPulse 1.1s ease-in-out infinite;
}

.chip-codex .chipActivity {
  background: var(--accent);
}

.chip-claude .chipActivity {
  background: var(--accent-2);
}

.chip-gemini .chipActivity {
  background: var(--accent-3);
}

@keyframes chipPulse {
  0% {
    transform: scale(0.75);
    opacity: 0.55;
  }

  50% {
    transform: scale(1.15);
    opacity: 1;
  }

  100% {
    transform: scale(0.75);
    opacity: 0.55;
  }
}

.chip-codex {
  border-color: rgba(107, 138, 253, 0.45);
  background: rgba(107, 138, 253, 0.12);
  color: rgba(255, 255, 255, 0.88);
}

.chip-claude {
  border-color: rgba(34, 211, 238, 0.45);
  background: rgba(34, 211, 238, 0.12);
  color: rgba(255, 255, 255, 0.88);
}

.chip-gemini {
  border-color: rgba(129, 140, 248, 0.45);
  background: rgba(129, 140, 248, 0.12);
  color: rgba(255, 255, 255, 0.88);
}

.chip-ssh {
  border-color: rgba(34, 211, 238, 0.42);
  background: linear-gradient(180deg, rgba(34, 211, 238, 0.14), rgba(34, 211, 238, 0.06));
  color: rgba(255, 255, 255, 0.88);
  border-radius: 8px;
}

.sessionCmd {
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 2px;
}

.closeBtn {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--muted);
  padding: 6px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
}

.closeBtn:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.closeBtn:hover {
  color: var(--text);
  background: rgba(255, 255, 255, 0.05);
}

.main {
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
  min-width: 200px;
  overflow: hidden;
  /* Performance: isolate layout calculations */
  contain: layout style;
}

.topbar {
  height: 46px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 12px;
  border-bottom: 1px solid var(--border-subtle);
  background: rgba(6, 9, 15, 0.75);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
}

.topbarRight {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.topbarExternalActions {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-right: 8px;
}

.activeTitle {
  font-size: 13px;
  color: var(--muted);
}

.errorBanner {
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.08);
  padding: 8px 10px;
  border-radius: 12px;
  min-width: 0;
  max-width: min(720px, 70vw);
}

.noticeBanner {
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.12);
  padding: 8px 10px;
  border-radius: 12px;
  min-width: 0;
  max-width: min(720px, 70vw);
}

.errorText {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.35;
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-width: 0;
}

.noticeText {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.35;
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-width: 0;
}

.errorClose {
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: transparent;
  color: rgba(255, 255, 255, 0.75);
  padding: 4px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
}

.errorClose:hover {
  color: var(--text);
  background: rgba(255, 255, 255, 0.06);
}

.terminalArea {
  position: relative;
  flex: 1 1 0;
  min-height: 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.workspaceRow {
  flex: 1 1 0;
  min-height: 0;
  min-width: 0;
  display: flex;
  overflow: hidden;
}

.workspaceResizing {
  user-select: none;
}

.workspaceResize {
  flex: 0 0 6px;
  width: 6px;
  cursor: ew-resize;
  position: relative;
  z-index: 5;
}

.workspaceResize::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 2px;
  width: 2px;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.08);
}

.workspaceResize:hover::before,
.workspaceResizing .workspaceResize::before {
  background: rgba(107, 138, 253, 0.35);
}

.terminalPane {
  position: relative;
  flex: 1 1 0;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
  /* Performance: strictest containment for terminal */
  contain: strict;
  /* GPU layer for smooth compositing */
  transform: translateZ(0);
  backface-visibility: hidden;
}

.terminalContainer {
  position: absolute;
  inset: 0;
  padding: 10px;
}

.terminalHidden {
  visibility: hidden;
  pointer-events: none;
}

/* ---- Terminal Empty State ---- */
.terminalEmptyState {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  font-family: 'JetBrains Mono', monospace;
  user-select: none;
}

.terminalEmptyAscii {
  white-space: pre;
  font-size: 11px;
  line-height: 1.35;
  color: rgba(var(--theme-primary-rgb), 0.18);
  text-align: center;
  letter-spacing: 1px;
}

.terminalEmptyPrompt {
  font-size: 14px;
  color: var(--theme-primary);
}

.terminalEmptyCaretLine {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.terminalEmptyCaret {
  color: var(--theme-primary);
  font-weight: 700;
  animation: caretPulse 1.2s step-end infinite;
}

.terminalEmptyTyping {
  color: rgba(var(--theme-primary-rgb), 0.7);
  animation: blinkUnderscore 1s step-end infinite;
}

.terminalEmptyHint {
  font-size: 11px;
  color: rgba(var(--theme-primary-rgb), 0.35);
  letter-spacing: 0.5px;
}

@keyframes caretPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes blinkUnderscore {
  0%, 100% { border-right: 2px solid var(--theme-primary); }
  50% { border-right: 2px solid transparent; }
}

.rightPanel .fileExplorerPanel {
  width: 100%;
  flex: 1;
  border-left: none;
  /* rightPanel has the border */
  background: transparent;
  /* match panel bg */
}

/* File Explorer + Editor */
.fileExplorerPanel {
  width: var(--workspaceFileTreeWidthPx, 320px);
  flex: 0 1 var(--workspaceFileTreeWidthPx, 320px);
  min-width: 200px;
  min-height: 0;
  display: flex;
  flex-direction: column;
  border-left: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(15, 22, 32, 0.92), rgba(10, 14, 20, 0.98));
}

.fileExplorerHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.fileExplorerTitle {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
  font-size: 12px;
}

.fileExplorerPath {
  color: var(--muted);
  font-family: ui-monospace, monospace;
  font-size: 11px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}

.fileExplorerActions {
  display: flex;
  align-items: center;
  gap: 6px;
}

.fileExplorerList {
  flex: 1;
  min-height: 0;
  overflow: auto;
  padding: 6px 0;
}

.fileExplorerListDropTarget {
  outline: 1px dashed rgba(34, 211, 238, 0.55);
  outline-offset: -2px;
  background: rgba(34, 211, 238, 0.06);
}

.fileExplorerRow {
  width: 100%;
  border: 0;
  background: transparent;
  color: var(--text);
  padding: 6px 10px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  cursor: pointer;
  text-align: left;
}

.fileExplorerRow:hover {
  background: rgba(255, 255, 255, 0.04);
}

.fileExplorerRowActive {
  background: rgba(107, 138, 253, 0.12);
}

.fileExplorerRowContext {
  background: rgba(255, 255, 255, 0.06);
}

.fileContextMenu {
  position: fixed;
  min-width: 220px;
  max-width: 280px;
  padding: 6px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(17, 24, 34, 0.98), rgba(10, 14, 20, 0.98));
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.55);
  z-index: 640;
}

.fileContextMenuSep {
  height: 1px;
  background: var(--border-subtle);
  margin: 6px 4px;
}

.fileContextMenuItemDanger {
  color: rgba(255, 130, 130, 0.95);
}

.fileContextMenuItemDanger:hover {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.12);
}

.fileExplorerDisclosure {
  width: 12px;
  flex-shrink: 0;
  color: var(--muted);
}

.fileExplorerIcon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.85;
}

.fileExplorerName {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.fileExplorerMeta {
  color: var(--muted);
}

.fileExplorerError {
  color: rgba(255, 120, 120, 0.95);
}

.fileExplorerRowDropTarget {
  background: rgba(34, 211, 238, 0.18);
  border-color: rgba(34, 211, 238, 0.45);
  outline: 1px dashed rgba(34, 211, 238, 0.6);
  outline-offset: -1px;
}

.fileExplorerRowDragging {
  opacity: 0.5;
}

.fileExplorerRowPreparing {
  opacity: 0.7;
  cursor: progress;
}

.codeEditorPanel {
  width: var(--workspaceEditorWidthPx, 520px);
  flex: 0 1 var(--workspaceEditorWidthPx, 520px);
  min-width: 260px;
  min-height: 0;
  display: flex;
  flex-direction: column;
  border-left: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(12, 18, 26, 0.9), rgba(10, 14, 20, 0.96));
}

.codeEditorHeader {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
}

.codeEditorTabsWrapper {
  position: relative;
  display: flex;
  align-items: stretch;
  min-width: 0;
  flex: 1;
}

.codeEditorTabs {
  display: flex;
  align-items: stretch;
  gap: 0;
  min-width: 0;
  overflow-x: auto;
  scroll-behavior: smooth;
  scrollbar-width: none;
}

.codeEditorTabs::-webkit-scrollbar {
  display: none;
}

.codeEditorTabsScrollBtn {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 28px;
  border: 0;
  background: linear-gradient(90deg, rgba(16, 21, 30, 0.95), rgba(16, 21, 30, 0.4));
  color: rgba(255, 255, 255, 0.75);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  transition: color 0.1s ease, opacity 0.15s ease;
}

.codeEditorTabsScrollBtn:hover {
  color: rgba(255, 255, 255, 0.95);
}

.codeEditorTabsScrollBtn:active {
  color: var(--accent);
}

.codeEditorTabsScrollBtnLeft {
  left: 0;
  background: linear-gradient(90deg, rgba(16, 21, 30, 0.95), transparent);
}

.codeEditorTabsScrollBtnRight {
  right: 0;
  background: linear-gradient(270deg, rgba(16, 21, 30, 0.95), transparent);
}

.codeEditorTab {
  display: flex;
  align-items: center;
  border: 0;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
  border-bottom: 2px solid transparent;
  background: rgba(255, 255, 255, 0.01);
  border-radius: 0;
  overflow: hidden;
  flex-shrink: 0;
  min-width: 100px;
  max-width: 260px;
}

.codeEditorTab:last-child {
  border-right: 0;
}

.codeEditorTabActive {
  background: rgba(255, 255, 255, 0.04);
  border-bottom-color: rgba(107, 138, 253, 0.6);
}

.codeEditorTabMain {
  border: 0;
  background: transparent;
  color: var(--text);
  padding: 7px 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  min-width: 0;
}

.codeEditorTabTitle {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.codeEditorTabTitleSuffix {
  opacity: 0.6;
  font-size: 11px;
}

.codeEditorTabDirty {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: rgba(255, 100, 100, 0.95);
  flex-shrink: 0;
}

.codeEditorTabClose {
  border: 0;
  background: transparent;
  color: rgba(255, 255, 255, 0.65);
  min-width: 24px;
  min-height: 24px;
  width: 28px;
  height: 28px;
  padding: 0;
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 4px;
  transition: background 0.1s ease, color 0.1s ease;
}

.codeEditorTabClose:hover {
  color: rgba(255, 255, 255, 0.95);
  background: rgba(255, 80, 80, 0.18);
}

.codeEditorTabClose:active {
  background: rgba(255, 80, 80, 0.25);
}

.codeEditorTabsMenuRow {
  display: flex;
  align-items: center;
  gap: 6px;
}

.codeEditorTabsMenuDropdown {
  max-height: 340px;
  overflow: auto;
}

.codeEditorTabsMenuItem {
  flex: 1;
  min-width: 0;
}

.codeEditorTabsMenuItemText {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
}

.codeEditorTabsMenuItemActive {
  border-color: rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.12);
}

.codeEditorTabsMenuClose {
  width: 30px;
  height: 30px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.codeEditorTabsMenuEmpty {
  padding: 10px 10px;
  color: var(--muted);
  font-size: 12px;
}

.codeEditorActions {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.codeEditorPathBar {
  padding: 3px 10px;
  font-size: 10px;
  color: var(--muted);
  font-family: ui-monospace, monospace;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  background: rgba(0, 0, 0, 0.15);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.codeEditorBody {
  position: relative;
  z-index: 0;
  flex: 1;
  min-height: 0;
}

.codeEditorMonaco {
  position: absolute;
  inset: 0;
}

.codeEditorOverlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.38);
  color: rgba(255, 255, 255, 0.92);
  font-size: 13px;
  backdrop-filter: blur(2px);
}

.codeEditorSaveError {
  position: absolute;
  bottom: 10px;
  right: 10px;
  border: 1px solid rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.12);
  color: rgba(255, 255, 255, 0.9);
  padding: 6px 10px;
  border-radius: 12px;
  font-size: 12px;
  z-index: 4;
}

.modalBackdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
}

.modalBackdropTop {
  z-index: 650;
}

.modal {
  width: min(520px, calc(100% - 24px));
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(17, 24, 34, 0.98), rgba(10, 14, 20, 0.98));
  border-radius: 16px;
  padding: 14px;
}

.modalTitle {
  font-size: 14px;
  margin: 0 0 10px 0;
}

.agentShortcutEditorSection {
  margin-top: 12px;
}

.agentShortcutEditorTitle {
  font-size: 11px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 6px;
}

.agentShortcutEditorList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.agentShortcutEditorItem {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  padding: 8px 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.agentShortcutEditorMain {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.agentShortcutEditorIcon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  display: block;
}

.agentShortcutEditorIconFallback {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  font-size: 12px;
}

.agentShortcutEditorName {
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.agentShortcutEditorActions {
  display: flex;
  align-items: center;
  gap: 6px;
}

.agentShortcutAddRow {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.agentShortcutAddBtn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 6px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
}

.agentShortcutAddBtn:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.14);
}

.agentShortcutAddIcon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: block;
}

.agentShortcutAddIconFallback {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  font-size: 11px;
}

.agentShortcutAddLabel {
  line-height: 1;
}

.formRow {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 10px;
}

.checkRow {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--text);
  user-select: none;
}

.checkRow input[type="checkbox"] {
  width: 14px;
  height: 14px;
  accent-color: var(--accent);
}

.checkRow input[type="radio"] {
  width: 14px;
  height: 14px;
  accent-color: var(--accent);
}

.pathRow {
  display: flex;
  gap: 8px;
  align-items: stretch;
}

.pathRow .input {
  flex: 1;
  min-width: 0;
}

.pathRow .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 12px;
  border-radius: 12px;
}

.pathActions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 6px;
}

.btnSmall {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--text);
  padding: 6px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 12px;
  transition: background 0.15s ease, border-color 0.15s ease, transform 0.05s ease;
}

.btnSmall.btnIcon {
  width: 32px;
  height: 32px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  line-height: 1;
}

.btnSmall.btnRecording {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.12);
  color: rgba(255, 255, 255, 0.92);
}

.btnSmall.btnDanger {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.1);
  color: rgba(255, 255, 255, 0.92);
}

.btnSmall.btnDanger:hover {
  background: rgba(255, 80, 80, 0.14);
}

.btnSmall:hover {
  background: rgba(255, 255, 255, 0.06);
}

.btnSmall:active {
  transform: translateY(1px);
}

.btnSmall:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.pathPickerHeader {
  display: flex;
  gap: 8px;
  align-items: stretch;
  margin-bottom: 10px;
}

.pathPickerHeader .input {
  flex: 1;
  min-width: 0;
}

.pathPickerHeader .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 12px;
  border-radius: 12px;
}

.pathPickerError {
  font-size: 12px;
  color: rgba(255, 130, 130, 0.9);
  margin-bottom: 8px;
}

.pathPickerList {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 14px;
  padding: 10px;
  max-height: 260px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.replayPreview {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 14px;
  padding: 10px;
  max-height: 180px;
  overflow: auto;
  white-space: pre-wrap;
  font-family:
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace;
  font-size: 12px;
  line-height: 1.35;
}

.replayPreviewFlow {
  max-height: 320px;
  white-space: normal;
  padding: 8px;
}

.replayFlow {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.replayFlowGroup {
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  overflow: hidden;
}

.replayFlowGroupNext {
  border-color: rgba(107, 138, 253, 0.22);
  background: rgba(107, 138, 253, 0.08);
}

.replayFlowGroupNext .replayFlowGroupHeader:hover {
  background: rgba(107, 138, 253, 0.12);
}

.replayFlowGroupHeader {
  width: 100%;
  display: flex;
  align-items: baseline;
  gap: 8px;
  padding: 8px 10px;
  cursor: pointer;
  border: none;
  background: transparent;
  color: inherit;
  font: inherit;
  text-align: left;
}

.replayFlowGroupHeader:hover {
  background: rgba(255, 255, 255, 0.04);
}

.replayFlowCaret {
  width: 16px;
  flex: 0 0 16px;
  color: rgba(255, 255, 255, 0.6);
}

.replayFlowTime {
  flex: 0 0 auto;
  font-size: 11px;
  color: rgba(255, 255, 255, 0.6);
}

.replayFlowRange {
  flex: 0 0 auto;
  font-size: 11px;
  color: rgba(255, 255, 255, 0.6);
}

.replayFlowCount {
  flex: 0 0 auto;
  font-size: 11px;
  padding: 1px 7px;
  border-radius: 999px;
  border: 1px solid rgba(107, 138, 253, 0.25);
  background: rgba(107, 138, 253, 0.12);
  color: rgba(107, 138, 253, 0.95);
}

.replayFlowCountNext {
  border-color: rgba(107, 138, 253, 0.45);
  background: rgba(107, 138, 253, 0.22);
  color: rgba(255, 255, 255, 0.95);
}

.replayFlowPreview {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.replayFlowItems {
  padding: 0 10px 10px 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.replayFlowItem {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.replayFlowItemNext {
  border-radius: 10px;
  padding: 6px 8px;
  border: 1px solid rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.12);
}

.replayFlowItemSent {
  opacity: 0.55;
}

.replayFlowItemMarker {
  width: 20px;
  flex: 0 0 20px;
  color: rgba(255, 255, 255, 0.25);
}

.replayFlowItemIndex {
  width: 42px;
  flex: 0 0 42px;
  text-align: right;
  color: rgba(255, 255, 255, 0.55);
}

.replayFlowNextBadge {
  display: inline-block;
  margin-left: 6px;
  padding: 1px 6px;
  border-radius: 999px;
  border: 1px solid rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.16);
  color: rgba(255, 255, 255, 0.92);
  font-size: 10px;
  line-height: 1.4;
  vertical-align: middle;
}

.replayFlowItemText {
  margin: 0;
  flex: 1;
  min-width: 0;
  white-space: pre-wrap;
  font: inherit;
}

.recordingsModal {
  width: min(760px, calc(100% - 24px));
}

.recordingsList {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 14px;
  padding: 10px;
  max-height: 320px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.recordingItem {
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.03);
  border-radius: 14px;
  padding: 10px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.recordingMain {
  flex: 1;
  min-width: 0;
}

.recordingName {
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.recordingMeta {
  font-size: 11px;
  color: var(--muted);
  margin-top: 3px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.recordingActions {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.pathPickerItem {
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  border-radius: 14px;
  padding: 0 12px;
  min-height: 40px;
  display: flex;
  align-items: center;
  font: inherit;
  cursor: pointer;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 13px;
  line-height: 1.1;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.pathPickerItem:hover {
  border-color: rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.08);
}

.pathPickerItem:active {
  transform: translateY(1px);
}

.label {
  font-size: 12px;
  color: var(--muted);
}

.input {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  outline: none;
}

.input:focus {
  border-color: rgba(107, 138, 253, 0.5);
}

select.input {
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;
  padding-right: 38px;
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(255, 255, 255, 0.55) 50%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.55) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 12px) 50%;
  background-size: 6px 6px;
  background-repeat: no-repeat;
}

.textarea {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  outline: none;
  resize: vertical;
  min-height: 180px;
  font-family:
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace;
  font-size: 12px;
  line-height: 1.35;
}

.textarea:focus {
  border-color: rgba(107, 138, 253, 0.5);
}

.modalActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 12px;
}

.hint {
  font-size: 12px;
  color: var(--muted);
  margin-top: 6px;
}

/* Slide Panel */
.slidePanel {
  position: absolute;
  top: 10px;
  right: 10px;
  bottom: 10px;
  background: linear-gradient(180deg, rgba(15, 22, 32, 0.92), rgba(18, 27, 38, 0.92));
  border: 1px solid rgba(255, 255, 255, 0.09);
  border-radius: 16px;
  box-shadow: -18px 0 44px rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(14px) saturate(1.15);
  display: flex;
  flex-direction: column;
  z-index: 100;
  animation: slidePanelIn 0.2s ease-out;
}

@keyframes slidePanelIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.slidePanelResizing {
  user-select: none;
}

.slidePanelResize {
  position: absolute;
  left: -4px;
  top: 0;
  bottom: 0;
  width: 8px;
  cursor: ew-resize;
  z-index: 10;
}

.slidePanelResize:hover,
.slidePanelResizing .slidePanelResize {
  background: linear-gradient(90deg, transparent, rgba(107, 138, 253, 0.2), transparent);
}

.slidePanelHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(0, 0, 0, 0.12);
  gap: 10px;
}

.slidePanelTabs {
  display: flex;
  gap: 4px;
  background: rgba(255, 255, 255, 0.03);
  padding: 4px;
  border-radius: var(--radius-control);
}

.slidePanelTab {
  border: none;
  background: transparent;
  color: var(--muted);
  padding: 6px 12px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 12px;
  transition: all 0.15s ease;
}

.slidePanelTab:hover {
  color: var(--text);
  background: rgba(255, 255, 255, 0.04);
}

.slidePanelTabActive {
  color: var(--text);
  background: rgba(107, 138, 253, 0.15);
}

.slidePanelClose {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--muted);
  padding: 4px 10px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 14px;
}

.slidePanelClose:hover {
  color: var(--text);
  background: rgba(255, 255, 255, 0.05);
}

.slidePanelContent {
  flex: 1;
  overflow: auto;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Panel Search */
.panelSearch {
  position: relative;
}

.panelSearchInput {
  width: 100%;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 12px 10px 36px;
  border-radius: 10px;
  outline: none;
  font-size: 13px;
}

.panelSearchInput:focus {
  border-color: rgba(107, 138, 253, 0.5);
}

.panelSearchInput::placeholder {
  color: var(--muted);
}

.panelSearchIcon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  pointer-events: none;
}

/* Panel List */
.panelList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.panelSection {
  margin-top: 8px;
}

.panelSectionTitle {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
  padding: 0 4px;
  margin-bottom: 8px;
}

/* Panel Cards */
.panelCard {
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.panelCard:hover {
  border-color: rgba(107, 138, 253, 0.3);
  background: rgba(107, 138, 253, 0.06);
}

.panelCardHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.panelCardPin {
  color: rgba(255, 200, 50, 0.8);
  font-size: 12px;
}

.panelCardTitle {
  font-size: 13px;
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.panelCardMeta {
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.panelCardPreview {
  font-size: 11px;
  color: var(--muted);
  margin-top: 6px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.4;
}

.panelCardActions {
  display: flex;
  gap: 6px;
  margin-top: 8px;
  opacity: 0;
  transform: translateY(2px);
  transition: opacity 0.15s ease, transform 0.15s ease;
}

.panelCard:hover .panelCardActions,
.panelCard:focus-within .panelCardActions {
  opacity: 1;
  transform: translateY(0);
}

.panelCardBtn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 4px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 11px;
  transition: background 0.15s ease, border-color 0.15s ease, transform 0.05s ease;
}

.panelCardBtn:hover {
  background: rgba(255, 255, 255, 0.08);
}

.panelCardBtn:active {
  transform: translateY(1px);
}

.panelCardBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.panelCardBtn.panelCardBtnDanger {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.1);
  color: rgba(255, 255, 255, 0.92);
}

.panelCardBtn.panelCardBtnDanger:hover {
  background: rgba(255, 80, 80, 0.14);
}

/* Panel Footer */
.panelFooter {
  padding-top: 12px;
  border-top: 1px solid var(--border);
  margin-top: auto;
}

.panelFooterBtn {
  width: 100%;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 12px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 13px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.panelFooterBtn:hover {
  background: rgba(255, 255, 255, 0.06);
}

/* Date Group Headers */
.dateGroupHeader {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--muted);
  padding: 8px 4px 6px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 8px;
}

/* ------------------------------------------------------------------ */
/*  Theme Switcher                                                     */
/* ------------------------------------------------------------------ */

.themeSwitcher {
  padding: 12px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--border);
  border-radius: var(--radius-control);
}

.themeSwitcherLabel {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 12px;
  font-weight: 500;
}

.themeSwitcherGrid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

.themeSwitcherOption {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--radius-control);
  cursor: pointer;
  transition: all 0.15s ease;
}

.themeSwitcherOption:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.15);
}

.themeSwitcherOptionActive {
  border-color: var(--swatch-color);
  background: rgba(255, 255, 255, 0.04);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.15);
}

.themeSwitcherSwatch {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--swatch-color);
  box-shadow: 0 0 8px var(--swatch-color);
  flex-shrink: 0;
}

.themeSwitcherName {
  font-size: 12px;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.themeSwitcherOptionActive .themeSwitcherName {
  color: var(--swatch-color);
}

/* Command Palette */
.commandPaletteBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: 15vh;
  z-index: 1000;
  animation: fadeIn 0.1s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.commandPalette {
  width: min(560px, calc(100% - 32px));
  background: linear-gradient(180deg, rgba(20, 28, 40, 0.98), rgba(12, 18, 26, 0.98));
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  overflow: hidden;
  animation: commandPaletteIn 0.15s ease-out;
}

@keyframes commandPaletteIn {
  from {
    transform: translateY(-10px) scale(0.98);
    opacity: 0;
  }

  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.commandPaletteSearch {
  display: flex;
  align-items: center;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  gap: 10px;
}

.commandPaletteSearchIcon {
  color: var(--accent);
  font-size: 14px;
  font-family: ui-monospace, monospace;
}

.commandPaletteInput {
  flex: 1;
  border: none;
  background: transparent;
  color: var(--text);
  font-size: 15px;
  outline: none;
}

.commandPaletteInput::placeholder {
  color: var(--muted);
}

.commandPaletteList {
  max-height: 380px;
  overflow: auto;
  padding: 8px;
}

.commandPaletteEmpty {
  text-align: center;
  color: var(--muted);
  padding: 24px 16px;
  font-size: 13px;
}

.commandPaletteGroup {
  margin-bottom: 8px;
}

.commandPaletteGroupLabel {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
  padding: 8px 10px 6px;
}

.commandPaletteItem {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.1s ease;
}

.commandPaletteItem:hover {
  background: rgba(255, 255, 255, 0.04);
}

.commandPaletteItemSelected {
  background: rgba(107, 138, 253, 0.12);
}

.commandPaletteItemIcon {
  width: 20px;
  text-align: center;
  color: var(--muted);
  font-size: 12px;
}

.commandPaletteItemIconImg {
  width: 16px;
  height: 16px;
  display: block;
  margin: 0 auto;
}

.commandPaletteItemIcon.iconPinned {
  color: rgba(255, 200, 50, 0.85);
}

.commandPaletteItemIcon.iconRecording {
  color: rgba(255, 80, 80, 0.85);
}

.commandPaletteItemIcon.iconActive {
  color: var(--accent);
}

.commandPaletteItemContent {
  flex: 1;
  min-width: 0;
}

.commandPaletteItemTitle {
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.commandPaletteItemSubtitle {
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 2px;
}

.commandPaletteItemShortcut {
  font-size: 11px;
  color: var(--muted);
  background: rgba(255, 255, 255, 0.06);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: ui-monospace, monospace;
}

.commandPaletteFooter {
  padding: 10px 16px;
  border-top: 1px solid var(--border);
  background: rgba(0, 0, 0, 0.15);
}

.commandPaletteHint {
  font-size: 11px;
  color: var(--muted);
  display: flex;
  gap: 12px;
  align-items: center;
}

.commandPaletteHint kbd {
  background: rgba(255, 255, 255, 0.08);
  padding: 2px 5px;
  border-radius: 3px;
  font-family: ui-monospace, monospace;
  font-size: 10px;
  margin-right: 4px;
}

/* Quick Prompts Sidebar */
.quickPromptsSection {
  margin-bottom: 8px;
}

.quickPromptItem {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: var(--radius-control);
  border: 1px solid transparent;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.02);
  font-size: 12px;
  transition: all 0.15s ease;
}

.quickPromptItem:hover {
  border-color: rgba(107, 138, 253, 0.35);
  background: rgba(107, 138, 253, 0.08);
}

.quickPromptIcon {
  color: rgba(255, 200, 50, 0.7);
  font-size: 10px;
}

.quickPromptTitle {
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.quickPromptShortcut {
  font-size: 10px;
  color: var(--muted);
  font-family: ui-monospace, monospace;
}

/* Icon Buttons for Topbar */
.iconBtn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--text);
  padding: 6px 8px;
  border-radius: var(--radius-control);
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  white-space: nowrap;
  transition: all 0.15s ease;
}

.iconBtn.iconBtnText {
  font-size: 12px;
  padding: 6px 10px;
}

.iconBtn:hover {
  background: rgba(255, 255, 255, 0.06);
}

.iconBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.iconBtn.iconBtnRecording {
  border-color: rgba(255, 80, 80, 0.4);
  background: rgba(255, 80, 80, 0.12);
  color: rgba(255, 100, 100, 0.95);
}

.iconBtn.iconBtnActive {
  border-color: rgba(107, 138, 253, 0.4);
  background: rgba(107, 138, 253, 0.12);
}

/* Recording Timer */
.recordingTimer {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: rgba(255, 100, 100, 0.9);
  padding: 4px 10px;
  background: rgba(255, 80, 80, 0.1);
  border: 1px solid rgba(255, 80, 80, 0.25);
  border-radius: 8px;
}

.recordingTimerDot {
  width: 6px;
  height: 6px;
  background: rgba(255, 80, 80, 0.9);
  border-radius: 50%;
  animation: recordingPulse 1.2s ease-in-out infinite;
}

/* Keyboard Shortcut Hint */
.shortcutHint {
  font-size: 11px;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 4px;
}

.shortcutHint kbd {
  background: rgba(255, 255, 255, 0.06);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: ui-monospace, monospace;
}

/* SSH Modal */
.sshModal {
  width: min(720px, calc(100% - 24px));
}

.sshHeader {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 12px;
}

.sshHeaderIcon {
  width: 38px;
  height: 38px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  border: 1px solid rgba(34, 211, 238, 0.22);
  background: linear-gradient(180deg, rgba(34, 211, 238, 0.14), rgba(107, 138, 253, 0.08));
  box-shadow: 0 12px 26px rgba(0, 0, 0, 0.35);
  color: rgba(255, 255, 255, 0.92);
  flex: 0 0 auto;
}

.sshHeaderIcon svg {
  filter: none;
}

.sshHeaderText {
  min-width: 0;
}

.sshHostRow {
  display: flex;
  gap: 8px;
  align-items: center;
}

.sshHostRow .input {
  flex: 1;
  min-width: 0;
}

.sshHostList {
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  padding: 10px;
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.sshHostListHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.sshHostListHeaderTitle {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

.sshHostListHeaderMeta {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(0, 0, 0, 0.15);
  padding: 2px 6px;
  border-radius: 8px;
  white-space: nowrap;
}

.sshHostListEmpty {
  font-size: 12px;
  color: var(--muted);
  padding: 6px 2px;
}

.sshHostListItems {
  max-height: 190px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-right: 2px;
}

.sshHostItem {
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  color: var(--text);
  padding: 10px 10px;
  border-radius: var(--radius-control);
  cursor: pointer;
  text-align: left;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  transition: background 0.15s ease, border-color 0.15s ease;
}

.sshHostItem:hover {
  border-color: rgba(34, 211, 238, 0.28);
  background: rgba(34, 211, 238, 0.06);
}

.sshHostItemActive {
  border-color: rgba(34, 211, 238, 0.45);
  background: rgba(34, 211, 238, 0.08);
}

.sshHostItemMain {
  min-width: 0;
}

.sshHostAlias {
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sshHostMeta {
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 2px;
}

.sshHostPick {
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.85);
  background: rgba(34, 211, 238, 0.12);
  border: 1px solid rgba(34, 211, 238, 0.2);
}

.sshHostItem:not(.sshHostItemActive) .sshHostPick {
  background: transparent;
  border-color: transparent;
  color: transparent;
}

.sshOptionGrid {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 10px 10px;
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
}

.sshForwardList {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 8px;
}

.sshForwardRow {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  padding: 10px 10px;
  border-radius: 12px;
}

.sshForwardType {
  width: 120px;
  flex: 0 0 auto;
}

.sshForwardBind {
  width: 140px;
  flex: 0 0 auto;
}

.sshForwardPort {
  width: 90px;
  flex: 0 0 auto;
}

.sshForwardDestHost {
  flex: 1 1 180px;
  min-width: 180px;
}

.sshForwardSpacer {
  flex: 1 1 280px;
  min-width: 180px;
}

.sshForwardRemove {
  flex: 0 0 auto;
}

.sshForwardActions {
  margin-top: 10px;
  display: flex;
  justify-content: flex-end;
}

.sshCommandPreview {
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(0, 0, 0, 0.18);
  border-radius: 12px;
  padding: 10px 10px;
  display: flex;
  gap: 10px;
  align-items: flex-start;
  justify-content: space-between;
}

.sshCommandPreviewText {
  margin: 0;
  flex: 1;
  min-width: 0;
  white-space: pre-wrap;
  word-break: break-word;
  font-family:
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace;
  font-size: 12px;
  line-height: 1.35;
  color: rgba(255, 255, 255, 0.88);
}

.sshCommandPreviewActions {
  flex: 0 0 auto;
  display: flex;
  gap: 8px;
  align-items: center;
}

.btn.btnPrimary {
  border-color: rgba(107, 138, 253, 0.45);
  background: linear-gradient(180deg, rgba(107, 138, 253, 0.18), rgba(34, 211, 238, 0.1));
}

.btn.btnPrimary:hover {
  background: linear-gradient(180deg, rgba(107, 138, 253, 0.22), rgba(34, 211, 238, 0.12));
}

/* ===================================
   MAESTRO PANEL STYLES - REDESIGNED
   =================================== */

/* Main Maestro Panel */
.maestroPanel {
  /* Previously fixed position, now filling parent */
  width: 100%;
  height: 100%;
  background:
    linear-gradient(180deg,
      rgba(16, 21, 30, 0.98),
      rgba(10, 14, 22, 0.98));
  display: flex;
  flex-direction: column;
  overflow: hidden;
  /* Performance: isolate layout and contain paint */
  contain: layout style paint;
}

@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.maestroPanelHeader {
  flex: 0 0 auto;
  padding: 20px 20px 16px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background:
    radial-gradient(800px 400px at 90% 0%, rgba(107, 138, 253, 0.1), transparent 60%);
  position: relative;
}

.maestroPanelTitle {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
}

.maestroPanelTitle svg {
  font-size: 20px;
  color: var(--accent);
  filter: drop-shadow(0 2px 8px rgba(107, 138, 253, 0.3));
}

.maestroPanelTitle h2 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--text), rgba(240, 244, 248, 0.85));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.maestroPanelProjectName {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.6);
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid rgba(107, 138, 253, 0.2);
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.08), rgba(34, 211, 238, 0.05));
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
  letter-spacing: 0.01em;
}

.maestroPanelClose {
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  font-size: 26px;
  line-height: 1;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.maestroPanelClose:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Actions Section */
.maestroPanelActions {
  flex: 0 0 auto;
  padding: 16px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  background: rgba(0, 0, 0, 0.1);
}

.maestroPanelStats {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-left: auto;
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  font-weight: 500;
}

.maestroStat {
  white-space: nowrap;
  padding: 4px 8px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  letter-spacing: 0.01em;
}

/* Filters */
.maestroFilters {
  flex: 0 0 auto;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: rgba(255, 255, 255, 0.01);
}

.maestroFiltersSection {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.maestroFiltersLabel {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  min-width: 65px;
  font-weight: 600;
}

.maestroFilterButtons {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  background: rgba(0, 0, 0, 0.15);
  padding: 4px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.04);
}

.maestroFilterButton {
  border: 1px solid transparent;
  background: transparent;
  color: rgba(240, 244, 248, 0.6);
  padding: 5px 11px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.maestroFilterButton:hover {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
}

.maestroFilterButtonActive {
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.18), rgba(34, 211, 238, 0.1));
  border-color: rgba(107, 138, 253, 0.25);
  color: var(--text);
  box-shadow:
    0 2px 6px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.maestroFilterSelect {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(0, 0, 0, 0.2);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 7px;
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.maestroFilterSelect:hover {
  border-color: rgba(107, 138, 253, 0.3);
  background: rgba(0, 0, 0, 0.3);
}

.maestroFilterSelect:focus {
  outline: none;
  border-color: rgba(107, 138, 253, 0.5);
  box-shadow: 0 0 0 3px rgba(107, 138, 253, 0.1);
}

/* Content Area */
.maestroPanelContent {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px 20px;
  min-width: 0;
}

/* Custom scrollbar for maestro panel */
.maestroPanelContent::-webkit-scrollbar {
  width: 8px;
}

.maestroPanelContent::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.maestroPanelContent::-webkit-scrollbar-thumb {
  background: rgba(107, 138, 253, 0.2);
  border-radius: 4px;
}

.maestroPanelContent::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 138, 253, 0.3);
}

/* Task List */
.maestroTaskList {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Task Card - Redesigned */
.maestroTaskCard {
  border: 1px solid rgba(255, 255, 255, 0.08);
  background:
    linear-gradient(135deg,
      rgba(255, 255, 255, 0.03),
      rgba(255, 255, 255, 0.01));
  border-radius: 14px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.maestroTaskCard::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  opacity: 0.8;
  transition: all 0.25s ease;
}

.maestroTaskCard:hover {
  border-color: rgba(107, 138, 253, 0.2);
  background:
    linear-gradient(135deg,
      rgba(255, 255, 255, 0.05),
      rgba(255, 255, 255, 0.02));
  transform: translateY(-2px);
  box-shadow:
    0 8px 20px rgba(0, 0, 0, 0.25),
    0 0 0 1px rgba(107, 138, 253, 0.1);
}

.maestroTaskCardActive {
  border-color: rgba(107, 138, 253, 0.4);
  background:
    linear-gradient(135deg,
      rgba(107, 138, 253, 0.12),
      rgba(34, 211, 238, 0.06));
  box-shadow:
    0 8px 24px rgba(107, 138, 253, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.maestroTaskCard--in_progress::before {
  background: linear-gradient(180deg, rgba(107, 138, 253, 0.9), rgba(34, 211, 238, 0.7));
  box-shadow: 0 0 12px rgba(107, 138, 253, 0.4);
}

.maestroTaskCard--completed::before {
  background: linear-gradient(180deg, rgba(16, 185, 129, 0.9), rgba(5, 150, 105, 0.7));
  box-shadow: 0 0 12px rgba(16, 185, 129, 0.3);
}

.maestroTaskCard--completed {
  opacity: 0.75;
}

.maestroTaskCard--blocked::before {
  background: linear-gradient(180deg, rgba(239, 68, 68, 0.9), rgba(220, 38, 38, 0.7));
  box-shadow: 0 0 12px rgba(239, 68, 68, 0.3);
}

.maestroTaskCard--todo::before {
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.6), rgba(100, 116, 139, 0.5));
}

.maestroTaskCardHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.maestroTaskCardStatus {
  display: flex;
  align-items: center;
  gap: 7px;
}

.maestroTaskCardStatusBadge {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 4px 8px;
  border-radius: 6px;
  border: 1px solid;
  line-height: 1;
}

.maestroTaskCardStatusBadge--todo {
  background: rgba(148, 163, 184, 0.12);
  border-color: rgba(148, 163, 184, 0.25);
  color: rgba(203, 213, 225, 0.9);
}

.maestroTaskCardStatusBadge--in_progress {
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.15), rgba(34, 211, 238, 0.1));
  border-color: rgba(107, 138, 253, 0.3);
  color: rgba(139, 174, 255, 0.95);
}

.maestroTaskCardStatusBadge--completed {
  background: rgba(16, 185, 129, 0.12);
  border-color: rgba(16, 185, 129, 0.3);
  color: rgba(52, 211, 153, 0.95);
}

.maestroTaskCardStatusBadge--blocked {
  background: rgba(239, 68, 68, 0.12);
  border-color: rgba(239, 68, 68, 0.3);
  color: rgba(252, 129, 129, 0.95);
}

.maestroTaskCardPriorityBadge {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 4px 8px;
  border-radius: 6px;
  border: 1px solid;
  line-height: 1;
}

.maestroTaskCardPriorityBadge--low {
  background: rgba(100, 116, 139, 0.1);
  border-color: rgba(148, 163, 184, 0.2);
  color: rgba(203, 213, 225, 0.8);
}

.maestroTaskCardPriorityBadge--medium {
  background: rgba(245, 158, 11, 0.12);
  border-color: rgba(245, 158, 11, 0.3);
  color: rgba(251, 191, 36, 0.95);
}

.maestroTaskCardPriorityBadge--high {
  background: rgba(239, 68, 68, 0.12);
  border-color: rgba(239, 68, 68, 0.3);
  color: rgba(252, 129, 129, 0.95);
}

.maestroTaskCardMenu {
  position: relative;
}

.maestroTaskCardMenuButton {
  border: 1px solid transparent;
  background: rgba(0, 0, 0, 0.15);
  color: rgba(240, 244, 248, 0.5);
  width: 28px;
  height: 28px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.maestroTaskCardMenuButton:hover {
  border-color: rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
  transform: scale(1.05);
}

.maestroTaskCardMenuDropdown {
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  min-width: 170px;
  padding: 8px;
  border: 1px solid rgba(107, 138, 253, 0.2);
  background: linear-gradient(180deg, rgba(17, 24, 34, 0.98), rgba(10, 14, 20, 0.98));
  border-radius: 12px;
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.05);
  z-index: 200;
  backdrop-filter: blur(12px);
  animation: dropdownSlideIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.maestroTaskCardMenuDropdown button {
  width: 100%;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  padding: 9px 12px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 12px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.maestroTaskCardMenuDropdown button:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.08);
  transform: translateX(2px);
}

.maestroTaskCardMenuDelete {
  color: rgba(255, 100, 100, 0.95) !important;
}

.maestroTaskCardMenuDelete:hover {
  border-color: rgba(255, 80, 80, 0.4) !important;
  background: rgba(255, 80, 80, 0.15) !important;
}

.maestroTaskCardTitle {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-weight: 600;
  line-height: 1.5;
  letter-spacing: -0.01em;
  color: var(--text);
}

.maestroTaskCardDescription {
  margin: 0 0 12px 0;
  font-size: 12px;
  line-height: 1.6;
  color: rgba(240, 244, 248, 0.65);
}

.maestroTaskCardMeta {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 10px;
}

.maestroTaskCardMetaItem {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  font-weight: 500;
  padding: 3px 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.maestroTaskCardMetaItem svg {
  font-size: 12px;
  opacity: 0.7;
}

.maestroTaskCardLastUpdate {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 10px;
  background:
    linear-gradient(135deg,
      rgba(107, 138, 253, 0.08),
      rgba(34, 211, 238, 0.05));
  border: 1px solid rgba(107, 138, 253, 0.2);
  margin-bottom: 12px;
  font-size: 11px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.9);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.maestroTaskCardLastUpdate svg {
  font-size: 13px;
  margin-top: 1px;
  color: rgba(107, 138, 253, 0.8);
  flex-shrink: 0;
}

.maestroTaskCardActions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.maestroTaskCardActionPrimary {
  flex: 1;
  border: 1px solid rgba(107, 138, 253, 0.35);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.18),
      rgba(34, 211, 238, 0.1));
  color: var(--text);
  padding: 10px 14px;
  border-radius: 9px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow:
    0 2px 8px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
  letter-spacing: 0.01em;
}

.maestroTaskCardActionPrimary:hover {
  border-color: rgba(107, 138, 253, 0.5);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.25),
      rgba(34, 211, 238, 0.15));
  transform: translateY(-1px);
  box-shadow:
    0 4px 14px rgba(107, 138, 253, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.maestroTaskCardActionPrimary:active {
  transform: translateY(0);
}

/* Empty State */
.maestroEmptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 24px;
  text-align: center;
  color: rgba(240, 244, 248, 0.5);
}

.maestroEmptyState svg {
  font-size: 48px;
  opacity: 0.3;
  margin-bottom: 20px;
  filter: drop-shadow(0 4px 16px rgba(107, 138, 253, 0.2));
}

.maestroEmptyState h3 {
  margin: 0 0 8px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
  letter-spacing: -0.01em;
}

.maestroEmptyState p {
  margin: 0 0 24px 0;
  font-size: 13px;
  color: rgba(240, 244, 248, 0.5);
  line-height: 1.5;
}

/* Timeline */
.maestroTimeline {
  padding: 20px 0;
}

.maestroTimelineTitle {
  margin: 0 0 20px 0;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(240, 244, 248, 0.5);
}

.maestroTimelineEvents {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.maestroTimelineEvent {
  display: grid;
  grid-template-columns: 12px 2px 1fr;
  gap: 16px;
  padding-bottom: 20px;
}

.maestroTimelineEventDot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  box-shadow:
    0 0 0 3px rgba(107, 138, 253, 0.15),
    0 2px 8px rgba(0, 0, 0, 0.3);
  margin-top: 4px;
}

.maestroTimelineEventLine {
  position: relative;
  display: flex;
  justify-content: center;
}

.maestroTimelineEventLineBar {
  width: 2px;
  background: linear-gradient(180deg,
      rgba(107, 138, 253, 0.2),
      rgba(107, 138, 253, 0.05));
  position: absolute;
  top: 6px;
  bottom: -20px;
  border-radius: 1px;
}

.maestroTimelineEventContent {
  padding-top: 2px;
}

.maestroTimelineEventHeader {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 6px;
}

.maestroTimelineEventLabel {
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
  letter-spacing: -0.01em;
}

.maestroTimelineEventTime {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.45);
  white-space: nowrap;
  font-weight: 500;
}

.maestroTimelineEventMessage {
  margin: 6px 0 0 0;
  font-size: 12px;
  line-height: 1.6;
  color: rgba(240, 244, 248, 0.7);
  padding: 8px 12px;
  background: rgba(107, 138, 253, 0.05);
  border-left: 2px solid rgba(107, 138, 253, 0.3);
  border-radius: 6px;
}

.maestroTimelineEventSession {
  display: inline-block;
  margin-top: 6px;
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: rgba(240, 244, 248, 0.6);
  font-family: ui-monospace, monospace;
  font-weight: 500;
  letter-spacing: 0.02em;
}

.maestroTimelineEmpty {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 60px 20px;
  color: rgba(240, 244, 248, 0.4);
  text-align: center;
}

.maestroTimelineEmpty svg {
  font-size: 32px;
  opacity: 0.3;
}

.maestroTimelineEmpty p {
  margin: 0;
  font-size: 12px;
  color: rgba(240, 244, 248, 0.5);
}

/* Buttons */
.maestroButton {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  padding: 9px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.maestroButton:hover {
  border-color: rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.08);
  transform: translateY(-1px);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

.maestroButton:active {
  transform: translateY(0);
}

.maestroButton:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
}

.maestroButtonPrimary {
  border-color: rgba(107, 138, 253, 0.35);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.18),
      rgba(34, 211, 238, 0.1));
  box-shadow:
    0 2px 8px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.maestroButtonPrimary:hover {
  border-color: rgba(107, 138, 253, 0.5);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.25),
      rgba(34, 211, 238, 0.15));
  box-shadow:
    0 4px 14px rgba(107, 138, 253, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.maestroButtonSecondary {
  background: rgba(255, 255, 255, 0.04);
}

.maestroButtonSecondary:hover {
  background: rgba(255, 255, 255, 0.08);
}

.maestroButtonSuccess {
  border-color: rgba(16, 185, 129, 0.35);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.18),
      rgba(5, 150, 105, 0.1));
  box-shadow:
    0 2px 8px rgba(16, 185, 129, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.maestroButtonSuccess:hover {
  border-color: rgba(16, 185, 129, 0.5);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.25),
      rgba(5, 150, 105, 0.15));
  box-shadow:
    0 4px 14px rgba(16, 185, 129, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

/* Modals */
.maestroModalOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.maestroModal {
  width: 90%;
  max-width: 540px;
  max-height: 90vh;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.65);
  display: flex;
  flex-direction: column;
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.maestroModalHeader {
  flex: 0 0 auto;
  padding: 20px 24px 16px 24px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.maestroModalTitle {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 10px;
}

.maestroModalClose {
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  font-size: 28px;
  line-height: 1;
  width: 36px;
  height: 36px;
  border-radius: var(--radius-control);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s ease;
}

.maestroModalClose:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
}

.maestroModalContent {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
}

.maestroModalActions {
  flex: 0 0 auto;
  padding: 16px 24px 20px 24px;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

/* Form Elements */
.maestroFormGroup {
  margin-bottom: 20px;
}

.maestroFormLabel {
  display: block;
  margin-bottom: 6px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text);
}

.maestroFormRequired {
  color: rgba(239, 68, 68, 0.9);
}

.maestroFormInput,
.maestroFormTextarea {
  width: 100%;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 12px;
  border-radius: var(--radius-control);
  font-size: 13px;
  font-family: inherit;
  transition: all 0.15s ease;
}

.maestroFormInput:hover,
.maestroFormTextarea:hover {
  border-color: rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.05);
}

.maestroFormInput:focus,
.maestroFormTextarea:focus {
  outline: none;
  border-color: rgba(107, 138, 253, 0.5);
  background: rgba(255, 255, 255, 0.04);
  box-shadow: 0 0 0 3px rgba(107, 138, 253, 0.12);
}

.maestroFormTextarea {
  resize: vertical;
  min-height: 80px;
}

.maestroFormRadioGroup {
  display: flex;
  gap: 16px;
}

.maestroFormRadio {
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  font-size: 13px;
}

.maestroFormRadio input[type="radio"] {
  cursor: pointer;
}

/* Detail Panel */
.maestroDetailPanel {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg,
      rgba(16, 21, 30, 0.98),
      rgba(10, 14, 22, 0.98));
  z-index: 150;
  display: flex;
  flex-direction: column;
  animation: slideInFromRight 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: -4px 0 24px rgba(0, 0, 0, 0.3);
}

.maestroDetailHeader {
  flex: 0 0 auto;
  padding: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: center;
  gap: 14px;
  background: radial-gradient(600px 300px at 50% 0%, rgba(107, 138, 253, 0.08), transparent 60%);
}

.maestroDetailBack {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(240, 244, 248, 0.6);
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  font-weight: 600;
}

.maestroDetailBack:hover {
  border-color: rgba(107, 138, 253, 0.3);
  background: rgba(107, 138, 253, 0.1);
  color: var(--text);
  transform: translateX(-2px);
}

.maestroDetailHeader h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  letter-spacing: -0.01em;
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text);
}

.maestroDetailContent {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.maestroDetailContent::-webkit-scrollbar {
  width: 8px;
}

.maestroDetailContent::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.maestroDetailContent::-webkit-scrollbar-thumb {
  background: rgba(107, 138, 253, 0.2);
  border-radius: 4px;
}

.maestroDetailContent::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 138, 253, 0.3);
}

/* ===================================
   CREATE TASK MODAL - REDESIGNED
   =================================== */

.createTaskModal {
  width: 92%;
  max-width: 680px;
  max-height: 90vh;
  background: linear-gradient(180deg,
      rgba(16, 21, 30, 0.98),
      rgba(10, 14, 22, 0.98));
  border: 1px solid rgba(107, 138, 253, 0.2);
  border-radius: 20px;
  box-shadow:
    0 24px 80px rgba(0, 0, 0, 0.7),
    0 0 0 1px rgba(107, 138, 253, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  display: flex;
  flex-direction: column;
  animation: slideUpScale 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
}

@keyframes slideUpScale {
  from {
    transform: translateY(30px) scale(0.96);
    opacity: 0;
  }

  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.createTaskModalHeader {
  flex: 0 0 auto;
  padding: 28px 28px 24px 28px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  background:
    radial-gradient(800px 400px at 50% 0%, rgba(107, 138, 253, 0.08), transparent 60%);
}

.createTaskModalHeaderContent {
  display: flex;
  align-items: center;
  gap: 16px;
  flex: 1;
}

.createTaskModalIcon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.15), rgba(34, 211, 238, 0.1));
  border: 1px solid rgba(107, 138, 253, 0.25);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  color: var(--accent);
  box-shadow:
    0 4px 16px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.createTaskModalTitle {
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--text), rgba(240, 244, 248, 0.8));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.createTaskModalSubtitle {
  margin: 4px 0 0 0;
  font-size: 13px;
  color: var(--muted);
  font-weight: 400;
}

.createTaskModalClose {
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-size: 18px;
}

.createTaskModalClose:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  transform: scale(1.05);
}

.createTaskModalBody {
  flex: 1;
  overflow-y: auto;
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* Form Label */
.createTaskLabel {
  display: block;
  margin-bottom: 10px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  letter-spacing: -0.01em;
}

/* Title Input Container */
.createTaskTitleContainer {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.createTaskTitleInput {
  width: 100%;
  border: 2px solid rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 12px 16px;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    sans-serif;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

.createTaskTitleInput::placeholder {
  color: rgba(240, 244, 248, 0.35);
}

.createTaskTitleInput:hover {
  border-color: rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.05);
}

.createTaskTitleInput:focus {
  outline: none;
  border-color: rgba(107, 138, 253, 0.5);
  background: rgba(255, 255, 255, 0.04);
  box-shadow:
    0 4px 16px rgba(107, 138, 253, 0.2),
    0 0 0 4px rgba(107, 138, 253, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transform: translateY(-1px);
}

/* Prompt Container - Hero Element */
.createTaskPromptContainer {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.createTaskPromptWrapper {
  position: relative;
}

.createTaskPromptArea {
  width: 100%;
  min-height: 200px;
  border: 2px solid transparent;
  background:
    linear-gradient(var(--panel-2), var(--panel-2)) padding-box,
    linear-gradient(135deg,
      rgba(107, 138, 253, 0.3),
      rgba(34, 211, 238, 0.2),
      rgba(107, 138, 253, 0.3)) border-box;
  color: var(--text);
  padding: 18px 20px;
  border-radius: 14px;
  font-size: 15px;
  line-height: 1.6;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    sans-serif;
  resize: vertical;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  z-index: 1;
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

.createTaskPromptArea::placeholder {
  color: rgba(240, 244, 248, 0.35);
}

.createTaskPromptArea:hover {
  background:
    linear-gradient(rgba(16, 21, 30, 0.98), rgba(16, 21, 30, 0.98)) padding-box,
    linear-gradient(135deg,
      rgba(107, 138, 253, 0.4),
      rgba(34, 211, 238, 0.3),
      rgba(107, 138, 253, 0.4)) border-box;
}

.createTaskPromptArea:focus {
  outline: none;
  background:
    linear-gradient(rgba(10, 14, 22, 0.98), rgba(10, 14, 22, 0.98)) padding-box,
    linear-gradient(135deg,
      rgba(107, 138, 253, 0.6),
      rgba(34, 211, 238, 0.4),
      rgba(107, 138, 253, 0.6)) border-box;
  box-shadow:
    0 12px 32px rgba(107, 138, 253, 0.25),
    0 0 0 4px rgba(107, 138, 253, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transform: translateY(-1px);
}

.createTaskPromptGlow {
  position: absolute;
  inset: -20px;
  background: radial-gradient(circle at 50% 0%,
      rgba(107, 138, 253, 0.15),
      transparent 70%);
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
  z-index: 0;
}

.createTaskPromptArea:focus+.createTaskPromptGlow {
  opacity: 1;
}

.createTaskPromptHint {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: rgba(240, 244, 248, 0.5);
  padding: 0 4px;
}

.createTaskPromptHint svg {
  font-size: 14px;
  color: rgba(107, 138, 253, 0.6);
}

/* Options Section */
.createTaskOptions {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 20px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.04);
  border-radius: 12px;
}

.createTaskOptionRow {
  display: flex;
  align-items: center;
  gap: 16px;
}

.createTaskOptionLabel {
  font-size: 13px;
  font-weight: 500;
  color: var(--muted);
  min-width: 70px;
}

.createTaskPrioritySelector {
  display: flex;
  gap: 8px;
  background: rgba(0, 0, 0, 0.2);
  padding: 4px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.04);
}

.createTaskPriorityBtn {
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  padding: 7px 16px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
}

.createTaskPriorityBtn:hover {
  color: var(--text);
  background: rgba(255, 255, 255, 0.04);
}

.createTaskPriorityBtn.active {
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.2), rgba(34, 211, 238, 0.12));
  border-color: rgba(107, 138, 253, 0.3);
  color: var(--text);
  box-shadow:
    0 2px 8px rgba(107, 138, 253, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transform: translateY(-1px);
}

.createTaskAdvancedToggle {
  border: none;
  background: transparent;
  color: rgba(107, 138, 253, 0.8);
  padding: 8px 0;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
  align-self: flex-start;
}

.createTaskAdvancedToggle:hover {
  color: var(--accent);
}

.createTaskAdvancedChevron {
  font-size: 16px;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  display: inline-block;
}

.createTaskAdvancedChevron.open {
  transform: rotate(90deg);
}

.createTaskAdvancedOptions {
  padding: 16px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  border: 1px dashed rgba(255, 255, 255, 0.1);
  animation: expandDown 0.3s ease-out;
}

@keyframes expandDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.createTaskAdvancedPlaceholder {
  margin: 0;
  font-size: 12px;
  color: var(--muted);
  font-style: italic;
}

/* Footer */
.createTaskModalFooter {
  flex: 0 0 auto;
  padding: 20px 28px 24px 28px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(0, 0, 0, 0.15);
}

.createTaskModalFooterLeft {
  display: flex;
  align-items: center;
}

.createTaskModalKeyboardHint {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.4);
  padding: 4px 10px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 6px;
  font-family: ui-monospace, monospace;
  letter-spacing: 0.02em;
}

.createTaskModalFooterRight {
  display: flex;
  align-items: center;
  gap: 10px;
}

.createTaskBtn {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--text);
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
}

.createTaskBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.createTaskBtn:active {
  transform: translateY(0);
}

.createTaskBtn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
}

.createTaskBtnSecondary {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.1);
}

.createTaskBtnSecondary:hover:not(:disabled) {
  border-color: rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.08);
}

.createTaskBtnPrimary {
  border-color: rgba(107, 138, 253, 0.4);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.2),
      rgba(34, 211, 238, 0.12));
  box-shadow:
    0 2px 12px rgba(107, 138, 253, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.createTaskBtnPrimary:hover:not(:disabled) {
  border-color: rgba(107, 138, 253, 0.6);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.28),
      rgba(34, 211, 238, 0.18));
  box-shadow:
    0 6px 20px rgba(107, 138, 253, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.createTaskBtnSuccess {
  border-color: rgba(16, 185, 129, 0.4);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.2),
      rgba(5, 150, 105, 0.12));
  box-shadow:
    0 2px 12px rgba(16, 185, 129, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.createTaskBtnSuccess:hover:not(:disabled) {
  border-color: rgba(16, 185, 129, 0.6);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.28),
      rgba(5, 150, 105, 0.18));
  box-shadow:
    0 6px 20px rgba(16, 185, 129, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* ===================================
   TASK LIST VIEW STYLES
   =================================== */

.taskList {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Task List Item */
.taskListItem {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 10px;
  overflow: hidden;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.taskListItem:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(107, 138, 253, 0.2);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

.taskListItemMain {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  cursor: pointer;
  gap: 16px;
  position: relative;
}

.taskListItemLeft {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
}

.taskListItemExpand {
  border: none;
  background: rgba(255, 255, 255, 0.04);
  color: rgba(240, 244, 248, 0.6);
  width: 24px;
  height: 24px;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  flex-shrink: 0;
}

.taskListItemExpand svg {
  font-size: 14px;
  transition: transform 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  transform: rotate(-90deg);
}

.taskListItemExpand.expanded svg {
  transform: rotate(0deg);
}

.taskListItemExpand:hover {
  background: rgba(107, 138, 253, 0.15);
  color: var(--accent);
}

.taskListItemExpandSpacer {
  width: 24px;
  flex-shrink: 0;
}

.taskListItemContent {
  flex: 1;
  min-width: 0;
}

.taskListItemHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.taskListItemTitle {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
  letter-spacing: -0.01em;
  line-height: 1.4;
  flex: 1;
  min-width: 0;
}

.taskListItemBadges {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.taskListItemStatusBadge {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 3px 7px;
  border-radius: 5px;
  border: 1px solid;
  line-height: 1;
}

.taskListItemStatusBadge--todo {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.2);
  color: rgba(203, 213, 225, 0.85);
}

.taskListItemStatusBadge--in_progress {
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.12), rgba(34, 211, 238, 0.08));
  border-color: rgba(107, 138, 253, 0.25);
  color: rgba(139, 174, 255, 0.9);
}

.taskListItemStatusBadge--completed {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.25);
  color: rgba(52, 211, 153, 0.9);
}

.taskListItemStatusBadge--cancelled {
  background: rgba(128, 128, 128, 0.1);
  border-color: rgba(128, 128, 128, 0.2);
  color: rgba(160, 160, 160, 0.9);
}

.taskListItemStatusBadge--blocked {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.25);
  color: rgba(252, 129, 129, 0.9);
}

.taskListItemPriorityBadge {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 3px 7px;
  border-radius: 5px;
  border: 1px solid;
  line-height: 1;
}

.taskListItemPriorityBadge--low {
  background: rgba(100, 116, 139, 0.08);
  border-color: rgba(148, 163, 184, 0.18);
  color: rgba(203, 213, 225, 0.75);
}

.taskListItemPriorityBadge--medium {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.25);
  color: rgba(251, 191, 36, 0.9);
}

.taskListItemPriorityBadge--high {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.25);
  color: rgba(252, 129, 129, 0.9);
}

.taskListItemMeta {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.taskListItemMetaItem {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  font-weight: 500;
}

.taskListItemMetaItem svg {
  font-size: 12px;
  opacity: 0.6;
}

.taskListItemRight {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}

.taskListItemActionBtn {
  border: 1px solid rgba(107, 138, 253, 0.3);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.15),
      rgba(34, 211, 238, 0.08));
  color: var(--text);
  padding: 7px 12px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.taskListItemActionBtn:hover {
  border-color: rgba(107, 138, 253, 0.5);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.22),
      rgba(34, 211, 238, 0.12));
  transform: translateY(-1px);
  box-shadow: 0 3px 10px rgba(107, 138, 253, 0.2);
}

.taskListItemActionBtn svg {
  font-size: 12px;
}

.taskListItemMenu {
  position: relative;
}

.taskListItemMenuBtn {
  border: none;
  background: rgba(255, 255, 255, 0.04);
  color: rgba(240, 244, 248, 0.5);
  width: 28px;
  height: 28px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.taskListItemMenuBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.taskListItemMenuDropdown {
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  min-width: 150px;
  padding: 8px;
  border: 1px solid rgba(107, 138, 253, 0.2);
  background: linear-gradient(180deg, rgba(17, 24, 34, 0.98), rgba(10, 14, 20, 0.98));
  border-radius: 10px;
  box-shadow:
    0 16px 48px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.05);
  z-index: 200;
  backdrop-filter: blur(12px);
  animation: dropdownSlideIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.taskListItemMenuDropdown button {
  width: 100%;
  border: none;
  background: transparent;
  color: var(--text);
  padding: 8px 10px;
  border-radius: 7px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
}

.taskListItemMenuDropdown button:hover {
  background: rgba(255, 255, 255, 0.08);
}

.taskListItemMenuDelete {
  color: rgba(255, 100, 100, 0.95) !important;
}

.taskListItemMenuDelete:hover {
  background: rgba(255, 80, 80, 0.12) !important;
}

/* Agent Selector & Work Area */
.maestroAgentSelector {
  border: 1px solid rgba(107, 138, 253, 0.25);
  background: rgba(0, 0, 0, 0.3);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 90px;
}

.maestroAgentSelector:hover {
  border-color: rgba(107, 138, 253, 0.4);
  background: rgba(0, 0, 0, 0.4);
}

.maestroAgentSelector:focus {
  outline: none;
  border-color: rgba(107, 138, 253, 0.6);
  box-shadow: 0 0 0 2px rgba(107, 138, 253, 0.1);
}

.taskListItemWorkArea {
  display: flex;
  align-items: center;
  gap: 8px;
}

.taskDetailWorkArea {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto;
}

.taskDetailAgentLabel {
  font-size: 13px;
  font-weight: 500;
  color: rgba(240, 244, 248, 0.7);
  white-space: nowrap;
}

/* Subtasks */
.taskListItemSubtasks {
  border-top: 1px solid rgba(255, 255, 255, 0.04);
  background: rgba(0, 0, 0, 0.15);
  padding: 8px 16px 8px 52px;
  animation: expandDown 0.25s cubic-bezier(0.16, 1, 0.3, 1);
}

.taskSubtaskItem {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 7px;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: 4px;
}

.taskSubtaskItem:last-child {
  margin-bottom: 0;
}

.taskSubtaskItem:hover {
  background: rgba(255, 255, 255, 0.04);
}

.taskSubtaskItem.completed {
  opacity: 0.6;
}

.taskSubtaskItem.completed .taskSubtaskTitle {
  text-decoration: line-through;
}

.taskSubtaskCheckbox {
  color: rgba(107, 138, 253, 0.8);
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.taskSubtaskCheckboxEmpty {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(148, 163, 184, 0.4);
  border-radius: 4px;
  transition: all 0.2s ease;
}

.taskSubtaskItem:hover .taskSubtaskCheckboxEmpty {
  border-color: rgba(107, 138, 253, 0.6);
}

.taskSubtaskTitle {
  flex: 1;
  font-size: 12px;
  color: rgba(240, 244, 248, 0.8);
  font-weight: 500;
}

.taskSubtaskTime {
  font-size: 10px;
  color: rgba(240, 244, 248, 0.4);
  font-weight: 500;
}

/* ===================================
   TASK DETAIL MODAL STYLES
   =================================== */

.taskDetailModal {
  width: 92%;
  max-width: 720px;
  max-height: 90vh;
  background: linear-gradient(180deg,
      rgba(16, 21, 30, 0.98),
      rgba(10, 14, 22, 0.98));
  border: 1px solid rgba(107, 138, 253, 0.2);
  border-radius: 20px;
  box-shadow:
    0 24px 80px rgba(0, 0, 0, 0.7),
    0 0 0 1px rgba(107, 138, 253, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  display: flex;
  flex-direction: column;
  animation: slideUpScale 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
}

.taskDetailModalHeader {
  flex: 0 0 auto;
  padding: 24px 24px 20px 24px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  background:
    radial-gradient(800px 400px at 50% 0%, rgba(107, 138, 253, 0.08), transparent 60%);
}

.taskDetailModalHeaderContent {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  flex: 1;
}

.taskDetailModalIcon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.15), rgba(34, 211, 238, 0.1));
  border: 1px solid rgba(107, 138, 253, 0.25);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  color: var(--accent);
  box-shadow:
    0 4px 12px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  flex-shrink: 0;
}

.taskDetailModalTitle {
  margin: 0 0 10px 0;
  font-size: 18px;
  font-weight: 600;
  letter-spacing: -0.02em;
  color: var(--text);
  line-height: 1.4;
}

.taskDetailModalMeta {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.taskDetailStatusBadge {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 4px 9px;
  border-radius: 6px;
  border: 1px solid;
  line-height: 1;
}

.taskDetailStatusBadge--todo {
  background: rgba(148, 163, 184, 0.12);
  border-color: rgba(148, 163, 184, 0.25);
  color: rgba(203, 213, 225, 0.9);
}

.taskDetailStatusBadge--in_progress {
  background: linear-gradient(135deg, rgba(107, 138, 253, 0.15), rgba(34, 211, 238, 0.1));
  border-color: rgba(107, 138, 253, 0.3);
  color: rgba(139, 174, 255, 0.95);
}

.taskDetailStatusBadge--completed {
  background: rgba(16, 185, 129, 0.12);
  border-color: rgba(16, 185, 129, 0.3);
  color: rgba(52, 211, 153, 0.95);
}

.taskDetailStatusBadge--cancelled {
  background: rgba(128, 128, 128, 0.12);
  border-color: rgba(128, 128, 128, 0.25);
  color: rgba(160, 160, 160, 0.95);
}

.taskDetailStatusBadge--blocked {
  background: rgba(239, 68, 68, 0.12);
  border-color: rgba(239, 68, 68, 0.3);
  color: rgba(252, 129, 129, 0.95);
}

.taskDetailPriorityBadge {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 4px 9px;
  border-radius: 6px;
  border: 1px solid;
  line-height: 1;
}

.taskDetailPriorityBadge--low {
  background: rgba(100, 116, 139, 0.1);
  border-color: rgba(148, 163, 184, 0.2);
  color: rgba(203, 213, 225, 0.8);
}

.taskDetailPriorityBadge--medium {
  background: rgba(245, 158, 11, 0.12);
  border-color: rgba(245, 158, 11, 0.3);
  color: rgba(251, 191, 36, 0.95);
}

.taskDetailPriorityBadge--high {
  background: rgba(239, 68, 68, 0.12);
  border-color: rgba(239, 68, 68, 0.3);
  color: rgba(252, 129, 129, 0.95);
}

.taskDetailMetaItem {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  font-weight: 500;
}

.taskDetailModalClose {
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-size: 18px;
  flex-shrink: 0;
}

.taskDetailModalClose:hover {
  border-color: rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  transform: scale(1.05);
}

.taskDetailModalBody {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.taskDetailModalBody::-webkit-scrollbar {
  width: 8px;
}

.taskDetailModalBody::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.taskDetailModalBody::-webkit-scrollbar-thumb {
  background: rgba(107, 138, 253, 0.2);
  border-radius: 4px;
}

.taskDetailModalBody::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 138, 253, 0.3);
}

.taskDetailSection {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.taskDetailSectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.taskDetailSectionTitle {
  margin: 0;
  font-size: 13px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: rgba(240, 244, 248, 0.6);
  display: flex;
  align-items: center;
  gap: 8px;
}

.taskDetailSectionTitle svg {
  font-size: 14px;
  color: rgba(107, 138, 253, 0.7);
}

.taskDetailSubtaskCount {
  font-size: 11px;
  font-weight: 600;
  color: rgba(240, 244, 248, 0.4);
  margin-left: 8px;
}

.taskDetailPromptBox {
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.05),
      rgba(34, 211, 238, 0.03));
  border: 1px solid rgba(107, 138, 253, 0.2);
  border-radius: 12px;
  padding: 16px 18px;
  font-size: 13px;
  line-height: 1.7;
  color: rgba(240, 244, 248, 0.85);
  white-space: pre-wrap;
  word-wrap: break-word;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.taskDetailAddSubtaskBtn {
  border: 1px solid rgba(107, 138, 253, 0.25);
  background: rgba(107, 138, 253, 0.08);
  color: rgba(139, 174, 255, 0.95);
  padding: 6px 12px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.2s ease;
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.taskDetailAddSubtaskBtn:hover {
  border-color: rgba(107, 138, 253, 0.4);
  background: rgba(107, 138, 253, 0.15);
  transform: translateY(-1px);
}

.taskDetailSubtaskInput {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(107, 138, 253, 0.15);
  border-radius: 10px;
  animation: expandDown 0.25s ease-out;
}

.taskDetailSubtaskInput input {
  width: 100%;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  padding: 9px 12px;
  border-radius: 7px;
  font-size: 12px;
  font-family: inherit;
  transition: all 0.2s ease;
}

.taskDetailSubtaskInput input:focus {
  outline: none;
  border-color: rgba(107, 138, 253, 0.5);
  background: rgba(255, 255, 255, 0.06);
  box-shadow: 0 0 0 3px rgba(107, 138, 253, 0.1);
}

.taskDetailSubtaskInputActions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.taskDetailSubtaskList {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.taskDetailSubtaskItem {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 10px;
  transition: all 0.2s ease;
}

.taskDetailSubtaskItem:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(107, 138, 253, 0.15);
}

.taskDetailSubtaskItem.completed {
  opacity: 0.65;
}

.taskDetailSubtaskItem.completed .taskDetailSubtaskTitle {
  text-decoration: line-through;
}

.taskDetailSubtaskCheckbox {
  color: rgba(107, 138, 253, 0.8);
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.taskDetailSubtaskCheckbox:hover {
  color: rgba(107, 138, 253, 1);
  transform: scale(1.1);
}

.taskDetailSubtaskCheckboxEmpty {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(148, 163, 184, 0.4);
  border-radius: 5px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.taskDetailSubtaskCheckbox:hover .taskDetailSubtaskCheckboxEmpty {
  border-color: rgba(107, 138, 253, 0.7);
  background: rgba(107, 138, 253, 0.1);
}

.taskDetailSubtaskTitle {
  flex: 1;
  font-size: 13px;
  color: rgba(240, 244, 248, 0.85);
  font-weight: 500;
  line-height: 1.5;
}

.taskDetailSubtaskTime {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.4);
  font-weight: 500;
}

.taskDetailSubtaskDelete {
  border: none;
  background: transparent;
  color: rgba(255, 100, 100, 0.6);
  width: 28px;
  height: 28px;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.taskDetailSubtaskDelete:hover {
  background: rgba(255, 80, 80, 0.15);
  color: rgba(255, 100, 100, 1);
}

.taskDetailEmptyState {
  padding: 40px 20px;
  text-align: center;
  color: rgba(240, 244, 248, 0.4);
  font-size: 12px;
  border: 1px dashed rgba(255, 255, 255, 0.08);
  border-radius: 10px;
}

.taskDetailStats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.taskDetailStatItem {
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.taskDetailStatLabel {
  font-size: 11px;
  color: rgba(240, 244, 248, 0.5);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.taskDetailStatValue {
  font-size: 16px;
  color: var(--text);
  font-weight: 600;
  letter-spacing: -0.01em;
}

.taskDetailModalFooter {
  flex: 0 0 auto;
  padding: 16px 24px 20px 24px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px;
  background: rgba(0, 0, 0, 0.15);
}

.taskDetailBtn {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  padding: 9px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.taskDetailBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

.taskDetailBtn:active {
  transform: translateY(0);
}

.taskDetailBtn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
}

.taskDetailBtnSecondary {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.1);
}

.taskDetailBtnSecondary:hover {
  border-color: rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.08);
}

.taskDetailBtnPrimary {
  border-color: rgba(107, 138, 253, 0.35);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.18),
      rgba(34, 211, 238, 0.1));
  box-shadow:
    0 2px 8px rgba(107, 138, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.taskDetailBtnPrimary:hover {
  border-color: rgba(107, 138, 253, 0.5);
  background: linear-gradient(135deg,
      rgba(107, 138, 253, 0.25),
      rgba(34, 211, 238, 0.15));
  box-shadow:
    0 4px 14px rgba(107, 138, 253, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.taskDetailBtnSuccess {
  border-color: rgba(16, 185, 129, 0.35);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.18),
      rgba(5, 150, 105, 0.1));
  box-shadow:
    0 2px 8px rgba(16, 185, 129, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.taskDetailBtnSuccess:hover {
  border-color: rgba(16, 185, 129, 0.5);
  background: linear-gradient(135deg,
      rgba(16, 185, 129, 0.25),
      rgba(5, 150, 105, 0.15));
  box-shadow:
    0 4px 14px rgba(16, 185, 129, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

/* ===================================
   TERMINAL TASK DETAIL MODAL
   =================================== */

.terminalTaskModal {
  width: 92%;
  max-width: 700px;
  max-height: 90vh;
  background: #0a0a0a;
  border: 2px solid var(--terminal-green);
  box-shadow:
    0 0 40px rgba(var(--theme-primary-rgb), 0.4),
    0 24px 80px rgba(0, 0, 0, 0.9),
    inset 0 1px 0 rgba(var(--theme-primary-rgb), 0.1);
  display: flex;
  flex-direction: column;
  animation: terminalModalSlide 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
  font-family: 'JetBrains Mono', monospace;
}

@keyframes terminalModalSlide {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.terminalModalHeader {
  flex: 0 0 auto;
  padding: 16px 20px;
  border-bottom: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
}

.terminalModalHeaderContent {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.terminalModalTitle {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--terminal-text);
  letter-spacing: -0.01em;
}

.terminalModalMeta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.terminalModalStatusBadge,
.terminalModalPriorityBadge {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 3px 7px;
  border-radius: 3px;
  border: 1px solid;
  line-height: 1;
}

.terminalModalStatusBadge--todo {
  background: rgba(128, 128, 128, 0.15);
  border-color: rgba(128, 128, 128, 0.3);
  color: var(--terminal-text-dim);
}

.terminalModalStatusBadge--in_progress {
  background: rgba(0, 217, 255, 0.15);
  border-color: var(--terminal-cyan);
  color: var(--terminal-cyan);
}

.terminalModalStatusBadge--completed {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--terminal-green);
  color: var(--terminal-green);
}

.terminalModalStatusBadge--cancelled {
  background: rgba(128, 128, 128, 0.15);
  border-color: rgba(128, 128, 128, 0.3);
  color: var(--terminal-gray);
}

.terminalModalStatusBadge--blocked {
  background: rgba(255, 59, 59, 0.15);
  border-color: var(--terminal-red);
  color: var(--terminal-red);
}

.terminalModalPriorityBadge--low {
  background: rgba(128, 128, 128, 0.15);
  border-color: rgba(128, 128, 128, 0.3);
  color: var(--terminal-text-dim);
}

.terminalModalPriorityBadge--medium {
  background: rgba(255, 176, 0, 0.15);
  border-color: var(--terminal-amber);
  color: var(--terminal-amber);
}

.terminalModalPriorityBadge--high {
  background: rgba(255, 59, 59, 0.15);
  border-color: var(--terminal-red);
  color: var(--terminal-red);
}

.terminalModalMetaItem {
  font-size: 10px;
  color: var(--terminal-text-dim);
  font-weight: 500;
}

.terminalModalBody {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  background: rgba(0, 0, 0, 0.5);
}

.terminalModalBody::-webkit-scrollbar {
  width: 8px;
}

.terminalModalBody::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.4);
}

.terminalModalBody::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.3);
  border-radius: 4px;
}

.terminalModalBody::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.5);
}

.terminalModalSection {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.terminalModalSectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.terminalModalSectionTitle {
  margin: 0;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--terminal-amber);
  display: flex;
  align-items: center;
  gap: 6px;
}

.terminalModalSubtaskCount {
  font-size: 10px;
  font-weight: 600;
  color: var(--terminal-text-dim);
  margin-left: 6px;
}

.terminalModalPromptBox {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  border-left: 3px solid var(--terminal-green);
  padding: 14px 16px;
  font-size: 12px;
  line-height: 1.6;
  color: var(--terminal-text-dim);
  white-space: pre-wrap;
  word-wrap: break-word;
  font-family: 'JetBrains Mono', monospace;
}

.terminalModalPromptBoxEditable {
  cursor: pointer;
  transition: all 0.15s ease;
}

.terminalModalPromptBoxEditable:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

/* Editable title styles */
.terminalModalTitleEditable {
  cursor: pointer;
  transition: color 0.15s ease;
}

.terminalModalTitleEditable:hover {
  color: var(--terminal-green);
}

.terminalModalEditableTitle {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.terminalModalTitleInput {
  background: rgba(0, 0, 0, 0.6);
  border: 1px solid var(--terminal-green);
  padding: 8px 12px;
  font-size: 16px;
  font-weight: 600;
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  outline: none;
  width: 100%;
  box-sizing: border-box;
}

.terminalModalTitleInput:focus {
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

/* Editable prompt styles */
.terminalModalEditablePrompt {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.terminalModalPromptTextarea {
  background: rgba(0, 0, 0, 0.6);
  border: 1px solid var(--terminal-green);
  border-left: 3px solid var(--terminal-green);
  padding: 14px 16px;
  font-size: 12px;
  line-height: 1.6;
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  outline: none;
  width: 100%;
  box-sizing: border-box;
  resize: vertical;
  min-height: 100px;
}

.terminalModalPromptTextarea:focus {
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

/* Edit action buttons */
.terminalModalEditActions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.terminalModalEditBtn {
  border: 1px solid var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
  padding: 4px 12px;
  font-size: 11px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  transition: all 0.15s ease;
}

.terminalModalEditBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.2);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalModalEditBtnCancel {
  border-color: var(--terminal-border);
  background: transparent;
  color: var(--terminal-text-dim);
}

.terminalModalEditBtnCancel:hover {
  border-color: var(--terminal-text-dim);
  background: rgba(255, 255, 255, 0.05);
  box-shadow: none;
}

.terminalModalAddBtn {
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
  color: var(--terminal-green);
  padding: 4px 10px;
  border-radius: 3px;
  cursor: pointer;
  font-size: 10px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  transition: all 0.2s ease;
  white-space: nowrap;
  letter-spacing: 0.02em;
}

.terminalModalAddBtn:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalModalSubtaskInput {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--terminal-border);
  border-radius: 4px;
  animation: expandDown 0.2s ease-out;
}

.terminalModalSubtaskInput input {
  width: 100%;
  border: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.6);
  color: var(--terminal-text);
  padding: 8px 12px;
  border-radius: 3px;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  transition: all 0.2s ease;
}

.terminalModalSubtaskInput input:focus {
  outline: none;
  border-color: var(--terminal-green);
  background: rgba(0, 0, 0, 0.8);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalModalSubtaskInputActions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.terminalModalSubtaskList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.terminalModalSubtaskItem {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: rgba(var(--theme-primary-rgb), 0.03);
  border: 1px solid var(--terminal-border);
  border-radius: 3px;
  transition: all 0.2s ease;
  font-family: 'JetBrains Mono', monospace;
}

.terminalModalSubtaskItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-color: var(--terminal-green);
  transform: translateX(4px);
}

.terminalModalSubtaskItem.completed {
  opacity: 0.5;
}

.terminalModalSubtaskItem.completed .terminalModalSubtaskTitle {
  text-decoration: line-through;
}

.terminalModalSubtaskCheckbox {
  color: var(--terminal-green);
  font-size: 14px;
  cursor: pointer;
  flex-shrink: 0;
  transition: all 0.2s ease;
  font-weight: 700;
}

.terminalModalSubtaskCheckbox:hover {
  transform: scale(1.2);
  text-shadow: 0 0 8px var(--terminal-green);
}

.terminalModalSubtaskTitle {
  flex: 1;
  font-size: 12px;
  color: var(--terminal-text);
  font-weight: 500;
  line-height: 1.4;
}

.terminalModalSubtaskTime {
  font-size: 10px;
  color: var(--terminal-text-dim);
  font-weight: 500;
}

.terminalModalSubtaskDelete {
  border: none;
  background: transparent;
  color: var(--terminal-red);
  width: 24px;
  height: 24px;
  border-radius: 3px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
  font-size: 16px;
  font-weight: 700;
}

.terminalModalSubtaskDelete:hover {
  background: rgba(255, 59, 59, 0.15);
  box-shadow: 0 0 8px rgba(255, 59, 59, 0.3);
}

.terminalModalEmptyState {
  padding: 32px 20px;
  text-align: center;
  color: var(--terminal-text-dim);
  font-size: 11px;
  border: 1px dashed var(--terminal-border);
  border-radius: 4px;
  background: rgba(0, 0, 0, 0.3);
}

.terminalModalStats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

.terminalModalStatItem {
  padding: 12px 14px;
  background: rgba(var(--theme-primary-rgb), 0.03);
  border: 1px solid var(--terminal-border);
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.terminalModalStatLabel {
  font-size: 10px;
  color: var(--terminal-amber);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.terminalModalStatValue {
  font-size: 14px;
  color: var(--terminal-text);
  font-weight: 600;
  letter-spacing: -0.01em;
}

.terminalModalFooter {
  flex: 0 0 auto;
  padding: 14px 20px;
  border-top: 1px solid var(--terminal-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  background: rgba(0, 0, 0, 0.5);
}

.terminalModalFooterLeft,
.terminalModalFooterRight {
  display: flex;
  align-items: center;
  gap: 10px;
}

.terminalModalFooterLabel {
  font-size: 10px;
  color: var(--terminal-amber);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.terminalModalBtn {
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
  color: var(--terminal-text);
  padding: 6px 14px;
  border-radius: 3px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: all 0.2s ease;
  white-space: nowrap;
  letter-spacing: 0.02em;
  text-transform: lowercase;
}

.terminalModalBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalModalBtn:active {
  transform: translateY(0);
}

.terminalModalBtn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
}

.terminalModalBtnSecondary {
  background: rgba(0, 0, 0, 0.6);
  border-color: var(--terminal-border);
  color: var(--terminal-text-dim);
}

.terminalModalBtnSecondary:hover {
  border-color: var(--terminal-text-dim);
  background: rgba(0, 0, 0, 0.8);
}

.terminalModalBtnPrimary {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
}

.terminalModalBtnPrimary:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.2);
  box-shadow: 0 0 20px rgba(var(--theme-primary-rgb), 0.4);
}

.terminalModalBtnSuccess {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
}

.terminalModalBtnSuccess:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.2);
  box-shadow: 0 0 20px rgba(var(--theme-primary-rgb), 0.4);
}

/* ===================================
   TERMINAL THEME - MAESTRO PANEL
   CYBERPUNK RETRO CLI AESTHETIC
   =================================== */

/* Terminal theme root variables - aliased to dynamic theme vars */
.terminalTheme {
  --terminal-green: var(--theme-primary);
  --terminal-green-dim: var(--theme-primary-dim);
  --terminal-amber: #ffb000;
  --terminal-cyan: #00d9ff;
  --terminal-blue: #6b8afd;
  --terminal-red: #ff3b3b;
  --terminal-bg: #000000;
  --terminal-bg-alt: #0a0a0a;
  --terminal-border: var(--theme-border);
  --terminal-text: var(--theme-text);
  --terminal-text-dim: var(--theme-text-dim);
  font-family: 'JetBrains Mono', 'Courier New', monospace;
}

/* Main terminal panel with scanline effects */
.maestroPanel.terminalTheme {
  background: var(--terminal-bg);
  border-left: 2px solid var(--terminal-border);
  box-shadow:
    -8px 0 32px rgba(var(--theme-primary-rgb), 0.15),
    inset 0 0 100px rgba(var(--theme-primary-rgb), 0.03);
  position: relative;
}

/* Scanline effect overlay */
.maestroPanel.terminalTheme::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.15) 0px,
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px);
  pointer-events: none;
  z-index: 1000;
  opacity: 0.3;
  animation: scanlineMove 8s linear infinite;
}

@keyframes scanlineMove {
  0% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(100%);
  }
}

/* CRT glow effect */
.maestroPanel.terminalTheme::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at center,
      rgba(var(--theme-primary-rgb), 0.1) 0%,
      transparent 70%);
  pointer-events: none;
  z-index: 999;
}

/* Terminal window chrome (macOS style) */
.terminalWindowChrome {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
  border-bottom: 1px solid var(--terminal-border);
  gap: 12px;
  position: relative;
  z-index: 1001;
}

.terminalWindowButtons {
  display: flex;
  gap: 8px;
}

.terminalWindowBtn {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 8px;
  color: transparent;
}

.terminalWindowBtnClose {
  background: #ff5f57;
}

.terminalWindowBtnClose:hover {
  background: #ff3b30;
  color: #5a0000;
}

.terminalWindowBtnMinimize {
  background: #ffbd2e;
}

.terminalWindowBtnMinimize:hover {
  background: #ffa500;
  color: #5a3b00;
}

.terminalWindowBtnMaximize {
  background: #28ca42;
}

.terminalWindowBtnMaximize:hover {
  background: #1fa033;
  color: #004a0d;
}

.terminalWindowTitle {
  flex: 1;
  font-size: 12px;
  color: var(--terminal-text-dim);
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 8px;
  letter-spacing: 0.02em;
}

.terminalPromptSymbol {
  color: var(--terminal-green);
  font-weight: 700;
  text-shadow: 0 0 8px var(--terminal-green);
  animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.7;
  }
}

.terminalPath {
  color: var(--terminal-amber);
  font-style: italic;
}

.terminalDisconnected {
  color: var(--terminal-red);
  font-size: 10px;
  padding: 2px 6px;
  border: 1px solid var(--terminal-red);
  background: rgba(255, 59, 59, 0.1);
  border-radius: 3px;
  animation: blinkAlert 1s infinite;
}

@keyframes blinkAlert {

  0%,
  50%,
  100% {
    opacity: 1;
  }

  25%,
  75% {
    opacity: 0.3;
  }
}

.terminalWindowSpacer {
  width: 80px;
}

/* ASCII border */
.terminalBorder {
  font-size: 10px;
  line-height: 1;
  color: var(--terminal-border);
  padding: 0 16px;
  overflow: hidden;
  white-space: nowrap;
  text-shadow: 0 0 4px rgba(var(--theme-primary-rgb), 0.3);
  position: relative;
  z-index: 1001;
}

/* Error banner */
.terminalErrorBanner {
  background: rgba(255, 59, 59, 0.15);
  border: 1px solid var(--terminal-red);
  border-left: 4px solid var(--terminal-red);
  padding: 12px 16px;
  margin: 12px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 12px;
  position: relative;
  z-index: 1001;
  animation: errorPulse 2s ease-in-out infinite;
}

@keyframes errorPulse {

  0%,
  100% {
    box-shadow: 0 0 0 rgba(255, 59, 59, 0.4);
  }

  50% {
    box-shadow: 0 0 12px rgba(255, 59, 59, 0.6);
  }
}

.terminalErrorSymbol {
  color: var(--terminal-red);
  font-weight: 700;
  text-shadow: 0 0 8px var(--terminal-red);
}

.terminalErrorText {
  flex: 1;
  color: var(--terminal-text);
}

.terminalErrorClose {
  background: transparent;
  border: 1px solid var(--terminal-red);
  color: var(--terminal-red);
  width: 24px;
  height: 24px;
  border-radius: 3px;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
  transition: all 0.2s ease;
}

.terminalErrorClose:hover {
  background: rgba(255, 59, 59, 0.2);
  transform: rotate(90deg);
}

/* Command bar */
.terminalCommandBar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border-bottom: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.02);
  position: relative;
  z-index: 1001;
}

.terminalCommands {
  display: flex;
  gap: 8px;
  flex: 1;
}

.terminalCmd {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  padding: 8px 14px;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
  letter-spacing: 0.03em;
  text-transform: lowercase;
}

.terminalCmd:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
  transform: translateY(-1px);
}

.terminalCmdPrimary {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.terminalCmdPrimary:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.4);
}

.terminalPrompt {
  color: var(--terminal-amber);
  font-weight: 700;
}

.terminalStats {
  display: flex;
  gap: 16px;
  font-size: 11px;
  font-weight: 500;
}

.terminalStat {
  display: flex;
  align-items: center;
  gap: 4px;
  letter-spacing: 0.02em;
}

.terminalStatActive {
  color: var(--terminal-cyan);
  text-shadow: 0 0 6px var(--terminal-cyan);
}

.terminalStatPending {
  color: var(--terminal-text-dim);
}

.terminalStatDone {
  color: var(--terminal-green);
  text-shadow: 0 0 6px var(--terminal-green);
}

/* Content area */
.terminalContent {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px;
  position: relative;
  z-index: 1001;
  min-width: 0;
}

/* Custom scrollbar */
.terminalContent::-webkit-scrollbar {
  width: 8px;
}

.terminalContent::-webkit-scrollbar-track {
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.terminalContent::-webkit-scrollbar-thumb {
  background: var(--terminal-border);
  border-radius: 0;
}

.terminalContent::-webkit-scrollbar-thumb:hover {
  background: var(--terminal-green-dim);
}

/* Custom scrollbar for xterm viewport */
.xterm-viewport::-webkit-scrollbar {
  width: 8px;
}

.xterm-viewport::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

.xterm-viewport::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.3);
  border-radius: 0;
}

.xterm-viewport::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.5);
}

.xterm-viewport::-webkit-scrollbar-thumb:active {
  background: rgba(var(--theme-primary-rgb), 0.6);
}

/* Firefox scrollbar support */
.xterm-viewport {
  scrollbar-width: thin;
  scrollbar-color: rgba(var(--theme-primary-rgb), 0.3) rgba(0, 0, 0, 0.2);
}

/* Loading state */
.terminalLoadingState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  gap: 16px;
  color: var(--terminal-text);
}

.terminalSpinner {
  display: flex;
  gap: 8px;
}

.terminalSpinnerDot {
  color: var(--terminal-green);
  font-size: 20px;
  animation: terminalDotPulse 1.4s infinite both;
}

.terminalSpinnerDot:nth-child(2) {
  animation-delay: 0.2s;
}

.terminalSpinnerDot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes terminalDotPulse {

  0%,
  80%,
  100% {
    opacity: 0.3;
    text-shadow: 0 0 0 var(--terminal-green);
  }

  40% {
    opacity: 1;
    text-shadow: 0 0 12px var(--terminal-green);
  }
}

.terminalLoadingText {
  font-size: 13px;
  color: var(--terminal-text-dim);
  letter-spacing: 0.05em;
}

.terminalCursor {
  color: var(--terminal-green);
  animation: cursorBlink 1s infinite;
}

@keyframes cursorBlink {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

/* Empty state */
.terminalEmptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  gap: 20px;
  color: var(--terminal-text);
}

.terminalAsciiArt {
  color: var(--terminal-green);
  font-size: 10px;
  line-height: 1.4;
  text-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.4);
  font-family: 'JetBrains Mono', monospace;
  margin: 0;
}

/* Error state */
.terminalErrorState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  gap: 20px;
  padding: 32px;
}

.terminalErrorAscii {
  color: var(--terminal-red);
  font-size: 11px;
  line-height: 1.4;
  text-shadow: 0 0 8px rgba(255, 59, 59, 0.5);
  font-family: 'JetBrains Mono', monospace;
  margin: 0;
}

.terminalErrorBox {
  width: 100%;
  background: rgba(255, 59, 59, 0.08);
  border: 1px solid var(--terminal-red);
  border-left: 4px solid var(--terminal-red);
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.terminalErrorLabel {
  color: var(--terminal-red);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.1em;
}

.terminalErrorMessage {
  color: var(--terminal-text);
  font-size: 11px;
  line-height: 1.6;
  margin: 0;
  font-family: 'JetBrains Mono', monospace;
}

.terminalErrorHint {
  color: var(--terminal-amber);
  font-size: 12px;
  margin: 0;
}

/* Task list */
.terminalTaskList {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
  max-width: 100%;
  width: 100%;
  overflow: hidden;
}

.terminalTaskHeader {
  display: none; /* Hide the header as it doesn't match the responsive flex layout */
}

/* Task group - wraps parent and its children */
.terminalTaskGroup {
  border: 1px solid var(--terminal-border);
  border-radius: 6px;
  margin-bottom: 8px;
  background: rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.terminalTaskGroup--expanded {
  border-color: rgba(0, 255, 255, 0.3);
  box-shadow: 0 0 8px rgba(0, 255, 255, 0.1);
}

.terminalTaskGroup--collapsed {
  border-color: var(--terminal-border);
}

.terminalTaskGroup > .terminalTaskRow {
  margin-bottom: 0;
  border: none;
  border-bottom: 1px solid var(--terminal-border);
  border-radius: 0;
}

.terminalTaskGroup--collapsed > .terminalTaskRow {
  border-bottom: none;
}

.terminalTaskGroupChildren {
  background: rgba(0, 255, 255, 0.02);
  padding-left: 4px;
  border-left: 2px solid rgba(0, 255, 255, 0.2);
  margin-left: 12px;
}

.terminalTaskGroupChildren .terminalTaskRow {
  border-radius: 0;
  margin-bottom: 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.terminalTaskGroupChildren .terminalTaskRow:last-child {
  border-bottom: none;
}

/* Task row */
.terminalTaskRow {
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
  margin-bottom: 4px;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
  min-width: 0;
  max-width: 100%;
  width: 100%;
  box-sizing: border-box;
}

.terminalTaskRow::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  transition: all 0.2s ease;
}

.terminalTaskRow--todo::before {
  background: var(--terminal-text-dim);
}

.terminalTaskRow--in_progress::before {
  background: var(--terminal-cyan);
  box-shadow: 0 0 8px var(--terminal-cyan);
}

.terminalTaskRow--completed::before {
  background: var(--terminal-green);
  box-shadow: 0 0 8px var(--terminal-green);
}

.terminalTaskRow--cancelled::before {
  background: var(--terminal-gray);
}

.terminalTaskRow--blocked::before {
  background: var(--terminal-red);
  box-shadow: 0 0 8px var(--terminal-red);
}

.terminalTaskRow:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
}

/* Disable hover effects when dropdown is open */
.terminalTaskRow--dropdownOpen,
.terminalTaskRow--dropdownOpen:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
  z-index: 1001;
  position: relative;
  overflow: visible; /* Allow dropdown to show outside row bounds */
}

/* Allow overflow on all parent elements when dropdown is open */
.terminalTaskRow--dropdownOpen .terminalTaskMain,
.terminalTaskRow--dropdownOpen .terminalTaskPrimaryContent,
.terminalTaskRow--dropdownOpen .terminalTaskMeta {
  overflow: visible;
}

/* Prevent hover on other rows when a dropdown is open */
.terminalTaskList:has(.terminalTaskRow--dropdownOpen) .terminalTaskRow:not(.terminalTaskRow--dropdownOpen):hover {
  border-color: rgba(var(--theme-primary-rgb), 0.15);
  background: rgba(var(--theme-primary-rgb), 0.02);
  box-shadow: none;
  transform: none;
}

/* Subtask styling */
.terminalTaskRow--subtask {
  background: rgba(var(--theme-primary-rgb), 0.015);
  border-color: rgba(var(--theme-primary-rgb), 0.15);
}

.terminalTaskRow--subtask .terminalTaskTitle {
  font-size: 12px;
  color: var(--terminal-text-dim);
}

.terminalTreePrefix {
  font-family: var(--terminal-font);
  color: var(--terminal-text-dim);
  margin-right: 8px;
  font-size: 12px;
  user-select: none;
}

/* Tree collapse toggle for parent tasks with children */
.terminalTreeCollapseBtn {
  background: rgba(0, 255, 255, 0.08);
  border: 1px solid rgba(0, 255, 255, 0.3);
  color: var(--terminal-cyan);
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  padding: 0;
  margin-right: 10px;
  border-radius: 50%;
  transition: all 0.2s ease;
  flex-shrink: 0;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 6px rgba(0, 255, 255, 0.15);
}

.terminalTreeCollapseBtn.collapsed {
  color: var(--terminal-cyan);
  border-color: rgba(0, 255, 255, 0.4);
  background: rgba(0, 255, 255, 0.1);
}

.terminalTreeCollapseBtn.expanded {
  color: var(--terminal-green);
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.terminalTreeCollapseBtn:hover {
  transform: scale(1.15);
}

.terminalTreeCollapseBtn.collapsed:hover {
  background: rgba(0, 255, 255, 0.2);
  border-color: var(--terminal-cyan);
  box-shadow: 0 0 12px rgba(0, 255, 255, 0.4);
}

.terminalTreeCollapseBtn.expanded:hover {
  background: rgba(var(--theme-primary-rgb), 0.2);
  border-color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.4);
}

.terminalTreeCollapseBtn:active {
  transform: scale(0.9);
}

/* Spacer for alignment when task has no children */
.terminalTreeCollapseSpacer {
  width: 24px;
  margin-right: 8px;
  flex-shrink: 0;
}

.terminalTaskMain {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  cursor: pointer;
  gap: 16px;
  position: relative;
  min-width: 0;
  max-width: 100%;
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
}

.terminalTaskContent {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
  font-size: 13px;
}

.terminalTaskPrimaryContent {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex: 1;
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
}

.terminalTaskTitleRow {
  display: flex;
  align-items: center;
  width: 100%;
  min-width: 0;
}

.terminalTaskTitleBlock {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
  min-width: 0;
}

.terminalTaskMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
}

.terminalTaskStatus {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

/* Expand button - highlighted and visible */
.terminalExpandBtn {
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-green);
  width: 18px;
  height: 18px;
  cursor: pointer;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
  border-radius: 3px;
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.terminalExpandBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.2);
  border-color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.4);
  transform: scale(1.1);
}

.terminalExpandBtn.expanded {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.4);
}

/* Expand indicator (non-interactive, shows expand state) */
.terminalExpandIndicator {
  color: var(--terminal-text-dim);
  font-size: 10px;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: color 0.2s ease;
}

.terminalExpandIndicator.expanded {
  color: var(--terminal-green);
}

.terminalExpandSpacer {
  width: 18px;
  flex-shrink: 0;
}

/* Status indicators */
.terminalStatus {
  font-size: 14px;
  width: 20px;
  text-align: center;
  flex-shrink: 0;
}

.terminalStatus--todo {
  color: var(--terminal-text-dim);
}

.terminalStatus--in_progress {
  color: var(--terminal-cyan);
  text-shadow: 0 0 8px var(--terminal-cyan);
  animation: statusPulse 2s ease-in-out infinite;
}

.terminalStatus--completed {
  color: var(--terminal-green);
  text-shadow: 0 0 6px var(--terminal-green);
}

.terminalStatus--cancelled {
  color: var(--terminal-gray);
}

.terminalStatus--blocked {
  color: var(--terminal-red);
  text-shadow: 0 0 8px var(--terminal-red);
  animation: statusPulse 1s ease-in-out infinite;
}

@keyframes statusPulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

.terminalPriority {
  font-size: 14px;
  width: 20px;
  text-align: center;
  flex-shrink: 0;
}

.terminalPriority--low {
  color: var(--terminal-text-dim);
}

.terminalPriority--medium {
  color: var(--terminal-amber);
}

.terminalPriority--high {
  color: var(--terminal-red);
  text-shadow: 0 0 6px var(--terminal-red);
}

.terminalStatusLabel {
  font-size: 10px;
  font-weight: 700;
  padding: 2px 6px;
  border: 1px solid;
  letter-spacing: 0.05em;
  flex-shrink: 0;
}

.terminalStatusLabel--todo {
  color: var(--terminal-text-dim);
  border-color: var(--terminal-border);
}

.terminalStatusLabel--in_progress {
  color: var(--terminal-cyan);
  border-color: var(--terminal-cyan);
  background: rgba(0, 217, 255, 0.1);
}

.terminalStatusLabel--completed {
  color: var(--terminal-green);
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.terminalStatusLabel--cancelled {
  color: var(--terminal-gray);
  border-color: var(--terminal-gray);
  background: rgba(128, 128, 128, 0.1);
}

.terminalStatusLabel--blocked {
  color: var(--terminal-red);
  border-color: var(--terminal-red);
  background: rgba(255, 59, 59, 0.1);
}

.terminalTaskTitle {
  color: var(--terminal-text);
  font-weight: 600;
  font-size: 13px;
  letter-spacing: -0.01em;
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.terminalDescriptionPreview {
  font-size: 11px;
  color: var(--terminal-text-dim);
  font-weight: 400;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  opacity: 0.6;
  letter-spacing: 0.01em;
  line-height: 1.4;
  max-width: 100%;
}

.terminalMetaBadge {
  font-size: 10px;
  padding: 3px 7px;
  border-radius: 3px;
  font-weight: 500;
  flex-shrink: 0;
  letter-spacing: 0.02em;
  transition: all 0.2s ease;
}

.terminalMetaBadge--subtask {
  color: var(--terminal-amber);
  background: rgba(255, 176, 0, 0.12);
  border: 1px solid rgba(255, 176, 0, 0.25);
}

.terminalMetaBadge--subtask:hover {
  background: rgba(255, 176, 0, 0.2);
}

/* Task Status Badges */
.terminalMetaBadge--status {
  font-weight: 600;
  border: 1px solid;
}

.terminalMetaBadge--status-todo {
  color: var(--terminal-gray);
  background: rgba(128, 128, 128, 0.12);
  border-color: rgba(128, 128, 128, 0.25);
}

.terminalMetaBadge--status-in_progress {
  color: var(--terminal-blue);
  background: rgba(0, 150, 255, 0.12);
  border-color: rgba(0, 150, 255, 0.25);
}

.terminalMetaBadge--status-completed {
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.12);
  border-color: rgba(var(--theme-primary-rgb), 0.25);
}

.terminalMetaBadge--status-cancelled {
  color: var(--terminal-gray);
  background: rgba(128, 128, 128, 0.12);
  border-color: rgba(128, 128, 128, 0.25);
}

.terminalMetaBadge--status-blocked {
  color: var(--terminal-red);
  background: rgba(255, 50, 50, 0.12);
  border-color: rgba(255, 50, 50, 0.25);
}

/* Priority Badges */
.terminalMetaBadge--priority {
  font-size: 9px;
  border: 1px solid;
}

.terminalMetaBadge--priority-low {
  color: var(--terminal-gray);
  background: rgba(128, 128, 128, 0.08);
  border-color: rgba(128, 128, 128, 0.2);
}

.terminalMetaBadge--priority-medium {
  color: var(--terminal-amber);
  background: rgba(255, 176, 0, 0.1);
  border-color: rgba(255, 176, 0, 0.25);
}

.terminalMetaBadge--priority-high {
  color: var(--terminal-red);
  background: rgba(255, 50, 50, 0.1);
  border-color: rgba(255, 50, 50, 0.25);
}

/* Model Badges */
.terminalMetaBadge--model {
  font-size: 9px;
  font-weight: 600;
  border: 1px solid;
}

.terminalMetaBadge--model-haiku {
  color: #00d4ff;
  background: rgba(0, 212, 255, 0.12);
  border-color: rgba(0, 212, 255, 0.3);
}

.terminalMetaBadge--model-sonnet {
  color: #a78bfa;
  background: rgba(167, 139, 250, 0.12);
  border-color: rgba(167, 139, 250, 0.3);
}

.terminalMetaBadge--model-opus {
  color: #fbbf24;
  background: rgba(251, 191, 36, 0.12);
  border-color: rgba(251, 191, 36, 0.3);
}

/* Session Status Badges */
.terminalMetaBadge--session {
  font-weight: 600;
  border: 1px solid;
}

.terminalMetaBadge--session-queued {
  color: #888;
  background: rgba(136, 136, 136, 0.12);
  border-color: rgba(136, 136, 136, 0.3);
}

.terminalMetaBadge--session-working {
  color: #00d4ff;
  background: rgba(0, 212, 255, 0.12);
  border-color: rgba(0, 212, 255, 0.3);
}

.terminalMetaBadge--session-blocked {
  color: #ff6b9d;
  background: rgba(255, 107, 157, 0.12);
  border-color: rgba(255, 107, 157, 0.3);
}

.terminalMetaBadge--session-needs_input {
  color: #ffaa00;
  background: rgba(255, 170, 0, 0.12);
  border-color: rgba(255, 170, 0, 0.3);
}

.terminalMetaBadge--session-completed {
  color: #00e5a0;
  background: rgba(0, 229, 160, 0.12);
  border-color: rgba(0, 229, 160, 0.3);
}

.terminalMetaBadge--session-failed {
  color: #ff4d6a;
  background: rgba(255, 77, 106, 0.12);
  border-color: rgba(255, 77, 106, 0.3);
}

.terminalMetaBadge--session-skipped {
  color: #999;
  background: rgba(153, 153, 153, 0.12);
  border-color: rgba(153, 153, 153, 0.3);
}

/* Completion Status Badge */
.terminalMetaBadge--completed {
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.12);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.25);
  font-weight: 600;
}

/* ------------------------------------------------------------------ */
/*  Inline Status Picker                                               */
/* ------------------------------------------------------------------ */

.terminalInlineStatusPicker {
  position: relative;
  display: inline-flex;
}

.terminalMetaBadge--clickable {
  cursor: pointer;
  transition: all 0.15s ease;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.terminalMetaBadge--clickable:hover {
  filter: brightness(1.2);
  box-shadow: 0 0 8px currentColor;
}

.terminalMetaBadge--open {
  box-shadow: 0 0 8px currentColor;
}

.terminalMetaBadge--updating {
  opacity: 0.7;
  cursor: wait;
}

.terminalMetaBadgeCaret {
  font-size: 8px;
  margin-left: 2px;
  opacity: 0.7;
}

.terminalStatusSpinner {
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.terminalInlineStatusOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9998;
  background: rgba(0, 0, 0, 0.3); /* Semi-transparent to show it's a modal overlay */
}

.terminalInlineStatusDropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  background: #0a0e14;
  border: 1px solid var(--terminal-green);
  border-radius: 4px;
  min-width: 140px;
  z-index: 9999;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 0 12px rgba(var(--theme-primary-rgb), 0.15);
  overflow: hidden;
  /* Prevent hover events from affecting underlying elements */
  isolation: isolate;
}

.terminalInlineStatusDropdown--fixed {
  position: fixed;
  margin-top: 0;
}

/* Backdrop to catch clicks outside dropdown */
.terminalInlineStatusPicker::before {
  content: '';
  display: none;
}

.terminalTaskRow--dropdownOpen .terminalInlineStatusPicker::before {
  display: block;
  position: fixed;
  inset: 0;
  z-index: 9998;
}

.terminalInlineStatusOption {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 12px;
  background: transparent;
  border: none;
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.1s ease;
  text-align: left;
}

.terminalInlineStatusOption:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-text);
}

.terminalInlineStatusOption--current {
  background: rgba(var(--theme-primary-rgb), 0.15);
  color: var(--terminal-green);
}

.terminalInlineStatusOption .terminalStatusSymbol {
  width: 14px;
  text-align: center;
}

.terminalInlineStatusOption .terminalStatusLabel {
  flex: 1;
}

.terminalInlineStatusOption .terminalStatusCheck {
  color: var(--terminal-green);
  font-size: 10px;
}

/* ------------------------------------------------------------------ */
/*  Inline Priority Picker                                             */
/* ------------------------------------------------------------------ */

.terminalInlinePriorityPicker {
  position: relative;
  display: inline-flex;
}

.terminalInlinePriorityDropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  background: #0a0e14;
  border: 1px solid var(--terminal-yellow, #ffaa00);
  border-radius: 4px;
  min-width: 100px;
  z-index: 9999;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 0 12px rgba(255, 170, 0, 0.15);
  overflow: hidden;
}

.terminalInlinePriorityDropdown--fixed {
  position: fixed;
  margin-top: 0;
}

.terminalInlinePriorityOption {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  width: 100%;
  padding: 8px 12px;
  background: transparent;
  border: none;
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.1s ease;
  text-align: left;
}

.terminalInlinePriorityOption:hover {
  background: rgba(255, 170, 0, 0.1);
  color: var(--terminal-text);
}

.terminalInlinePriorityOption--current {
  background: rgba(255, 170, 0, 0.15);
}

.terminalInlinePriorityOption--high {
  color: #ff4d6a;
}

.terminalInlinePriorityOption--high:hover,
.terminalInlinePriorityOption--high.terminalInlinePriorityOption--current {
  color: #ff4d6a;
  background: rgba(255, 77, 106, 0.15);
}

.terminalInlinePriorityOption--medium {
  color: #ffaa00;
}

.terminalInlinePriorityOption--medium:hover,
.terminalInlinePriorityOption--medium.terminalInlinePriorityOption--current {
  color: #ffaa00;
  background: rgba(255, 170, 0, 0.15);
}

.terminalInlinePriorityOption--low {
  color: #888;
}

.terminalInlinePriorityOption--low:hover,
.terminalInlinePriorityOption--low.terminalInlinePriorityOption--current {
  color: #aaa;
  background: rgba(136, 136, 136, 0.15);
}

.terminalInlinePriorityOption .terminalPriorityLabel {
  flex: 1;
}

.terminalInlinePriorityOption .terminalStatusCheck {
  font-size: 10px;
}

/* Session indicator with blinking dot */
.terminalSessionIndicator {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 3px 7px;
  background: rgba(var(--theme-primary-rgb), 0.08);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.25);
  border-radius: 3px;
  flex-shrink: 0;
}

.terminalSessionDot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--terminal-green);
  box-shadow: 0 0 8px var(--terminal-green);
  animation: sessionBlink 2s ease-in-out infinite;
}

@keyframes sessionBlink {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 8px var(--terminal-green);
  }
  50% {
    opacity: 0.3;
    box-shadow: 0 0 4px var(--terminal-green);
  }
}

.terminalSessionNumber {
  font-size: 10px;
  font-weight: 700;
  color: var(--terminal-green);
  letter-spacing: 0.02em;
}

/* Session statuses container - displays session status badges inline */
.terminalSessionStatuses {
  display: flex;
  align-items: center;
  gap: 3px;
  flex-shrink: 0;
  min-width: 0;
}

/* Session status chip - status icon + optional strategy tag */
.terminalSessionStatusChip {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  height: 18px;
  padding: 0 4px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 3px;
  transition: all 0.15s ease;
  cursor: default;
  white-space: nowrap;
  flex-shrink: 0;
}

.terminalSessionStatusIcon {
  line-height: 1;
}

.terminalSessionStrategyTag {
  font-size: 8px;
  font-weight: 700;
  line-height: 1;
  padding: 1px 3px;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.1);
  opacity: 0.8;
}

.terminalSessionStatusChip--spawning {
  color: var(--terminal-amber);
  background: rgba(255, 176, 0, 0.12);
  border: 1px solid rgba(255, 176, 0, 0.35);
  animation: sessionBlink 1.5s ease-in-out infinite;
}

.terminalSessionStatusChip--idle {
  color: var(--terminal-text-dim);
  background: rgba(128, 128, 128, 0.12);
  border: 1px solid rgba(128, 128, 128, 0.3);
}

.terminalSessionStatusChip--working {
  color: var(--terminal-cyan);
  background: rgba(0, 217, 255, 0.12);
  border: 1px solid rgba(0, 217, 255, 0.4);
  animation: statusPulse 2s ease-in-out infinite;
}

.terminalSessionStatusChip--completed {
  color: var(--terminal-green);
  background: rgba(0, 255, 102, 0.12);
  border: 1px solid rgba(0, 255, 102, 0.35);
}

.terminalSessionStatusChip--failed {
  color: var(--terminal-red);
  background: rgba(255, 59, 59, 0.12);
  border: 1px solid rgba(255, 59, 59, 0.4);
}

.terminalSessionStatusChip--stopped {
  color: var(--terminal-text-dim);
  background: rgba(128, 128, 128, 0.08);
  border: 1px solid rgba(128, 128, 128, 0.25);
  opacity: 0.7;
}

.terminalSessionStatusChip--breathing {
  animation: statusPulse 2s ease-in-out infinite;
}

.terminalSessionStatusLabel {
  font-size: 9px;
  letter-spacing: 0.5px;
  line-height: 1;
}

/* Legacy badge aliases for TaskDetailModal */
.terminalSessionStatusBadge { display: inline-flex; align-items: center; gap: 4px; padding: 0 5px; font-size: 11px; font-weight: 600; border-radius: 3px; }
.terminalSessionStatusBadge--spawning { color: var(--terminal-amber); background: rgba(255, 176, 0, 0.12); border: 1px solid rgba(255, 176, 0, 0.35); }
.terminalSessionStatusBadge--idle { color: var(--terminal-text-dim); background: rgba(128, 128, 128, 0.12); border: 1px solid rgba(128, 128, 128, 0.3); }
.terminalSessionStatusBadge--working { color: var(--terminal-cyan); background: rgba(0, 217, 255, 0.12); border: 1px solid rgba(0, 217, 255, 0.4); }
.terminalSessionStatusBadge--completed { color: var(--terminal-green); background: rgba(0, 255, 102, 0.12); border: 1px solid rgba(0, 255, 102, 0.35); }
.terminalSessionStatusBadge--failed { color: var(--terminal-red); background: rgba(255, 59, 59, 0.12); border: 1px solid rgba(255, 59, 59, 0.4); }
.terminalSessionStatusBadge--stopped { color: var(--terminal-text-dim); background: rgba(128, 128, 128, 0.08); border: 1px solid rgba(128, 128, 128, 0.25); opacity: 0.7; }

/* Session overflow indicator */
.terminalSessionMore {
  font-size: 9px;
  font-weight: 600;
  color: var(--terminal-text-dim);
  padding: 2px 4px;
  background: rgba(128, 128, 128, 0.1);
  border-radius: 2px;
  letter-spacing: 0.02em;
}

.terminalTimeAgo {
  font-size: 10px;
  color: var(--terminal-text-dim);
  flex-shrink: 1;
  font-weight: 500;
  letter-spacing: 0.02em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

/* Status Pills - compact, color-coded */
.terminalStatusPill {
  font-size: 10px;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: 700;
  flex-shrink: 0;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  transition: all 0.2s ease;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 22px;
}

/* Priority pills */
.terminalStatusPill--priority-low {
  color: var(--terminal-text-dim);
  background: rgba(128, 128, 128, 0.15);
  border: 1px solid rgba(128, 128, 128, 0.3);
}

.terminalStatusPill--priority-medium {
  color: var(--terminal-amber);
  background: rgba(255, 176, 0, 0.15);
  border: 1px solid rgba(255, 176, 0, 0.4);
}

.terminalStatusPill--priority-high {
  color: var(--terminal-red);
  background: rgba(255, 59, 59, 0.15);
  border: 1px solid rgba(255, 59, 59, 0.4);
  box-shadow: 0 0 8px rgba(255, 59, 59, 0.2);
}

/* Status pills */
.terminalStatusPill--todo {
  color: var(--terminal-text-dim);
  background: rgba(128, 128, 128, 0.15);
  border: 1px solid rgba(128, 128, 128, 0.3);
}

.terminalStatusPill--in_progress {
  color: var(--terminal-cyan);
  background: rgba(0, 217, 255, 0.15);
  border: 1px solid rgba(0, 217, 255, 0.4);
  animation: statusPulse 2s ease-in-out infinite;
}

.terminalStatusPill--completed {
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.15);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.4);
}

.terminalStatusPill--cancelled {
  color: var(--terminal-gray);
  background: rgba(128, 128, 128, 0.15);
  border: 1px solid rgba(128, 128, 128, 0.3);
}

.terminalStatusPill--blocked {
  color: var(--terminal-red);
  background: rgba(255, 59, 59, 0.15);
  border: 1px solid rgba(255, 59, 59, 0.4);
  animation: statusPulse 1s ease-in-out infinite;
}

/* Task actions - compact, right-aligned */
.terminalTaskActions {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
  min-width: 32px; /* Minimum space for play button */
}

.maestroAgentSelector {
  position: relative;
  font-family: 'JetBrains Mono', monospace;
}

.maestroAgentSelectorTrigger {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  padding: 4px 8px;
  font-size: 10px;
  font-family: inherit;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 3px;
  display: flex;
  align-items: center;
  gap: 5px;
  min-width: 85px;
  position: relative;
}

.maestroAgentSelectorTrigger:hover {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

.maestroAgentIcon {
  font-size: 11px;
  line-height: 1;
  color: var(--terminal-green);
  flex-shrink: 0;
}

.maestroAgentLabel {
  flex: 1;
  text-align: left;
  font-size: 10px;
}

.maestroAgentCaret {
  font-size: 8px;
  color: var(--terminal-text-dim);
  flex-shrink: 0;
  transition: transform 0.2s ease;
}

.maestroAgentDropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  min-width: 180px;
  background: #0a0a0a;
  border: 1px solid var(--terminal-green);
  border-radius: 4px;
  box-shadow:
    0 0 20px rgba(var(--theme-primary-rgb), 0.4),
    0 8px 32px rgba(0, 0, 0, 0.9);
  z-index: 300;
  animation: agentDropdownSlide 0.2s ease;
  overflow: hidden;
}

@keyframes agentDropdownSlide {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.maestroAgentOption {
  width: 100%;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  padding: 8px 10px;
  cursor: pointer;
  font-size: 10px;
  font-family: inherit;
  text-align: left;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.maestroAgentOption:last-child {
  border-bottom: none;
}

.maestroAgentOption:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  padding-left: 14px;
}

.maestroAgentOption.selected {
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.maestroAgentOptionContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.maestroAgentOptionLabel {
  font-weight: 600;
  color: var(--terminal-text);
  font-size: 10px;
}

.maestroAgentOptionDesc {
  font-size: 9px;
  color: var(--terminal-text-dim);
  line-height: 1.3;
}

.maestroAgentCheck {
  color: var(--terminal-green);
  font-size: 10px;
  font-weight: 700;
  flex-shrink: 0;
}

.terminalPlayBtn {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.5);
  color: var(--terminal-green);
  width: 26px;
  height: 26px;
  font-size: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(var(--theme-primary-rgb), 0.25);
  flex-shrink: 0;
}

.terminalPlayBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.3);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.5);
  transform: scale(1.15);
  border-color: var(--terminal-green);
}

.terminalPlayBtn:active {
  transform: scale(0.9);
}

/* Subtask Button */
.terminalSubtaskBtn {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--terminal-text-dim);
  width: 26px;
  height: 26px;
  font-size: 13px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  transition: all 0.2s ease;
  border-radius: 4px;
  flex-shrink: 0;
  position: relative;
}

.terminalSubtaskBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  color: var(--terminal-green);
}

.terminalSubtaskBtn--expanded {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-color: rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-green);
}

.terminalSubtaskBtn--collapsed {
  border-color: rgba(255, 255, 255, 0.15);
}

.terminalSubtaskBtn--adding {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: rgba(var(--theme-primary-rgb), 0.5);
  color: var(--terminal-green);
}

.terminalSubtaskBtn--empty:hover {
  border-color: rgba(var(--theme-primary-rgb), 0.5);
}

.terminalSubtaskIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
}

.terminalSubtaskIcon svg {
  display: block;
}

.terminalSubtaskCount {
  font-size: 9px;
  font-weight: 700;
  color: var(--terminal-green);
  position: absolute;
  top: -4px;
  right: -4px;
  background: rgba(0, 0, 0, 0.8);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.4);
  border-radius: 8px;
  min-width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 3px;
}

/* Inline Add Subtask Input */
.terminalAddSubtaskRow {
  display: flex;
  align-items: center;
  padding: 6px 12px 6px 16px;
  background: rgba(0, 0, 0, 0.15);
  border-top: 1px solid rgba(255, 255, 255, 0.04);
}

.terminalAddSubtaskMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.terminalAddSubtaskInput {
  display: flex;
  align-items: center;
  gap: 8px;
  position: relative;
}

.terminalAddSubtaskPrefix {
  color: var(--terminal-green);
  font-size: 14px;
  font-weight: 700;
  opacity: 0.6;
  flex-shrink: 0;
}

.terminalAddSubtaskField {
  flex: 1;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.2);
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 12px;
  font-family: var(--terminal-font);
  color: var(--terminal-text);
  outline: none;
  transition: all 0.2s ease;
}

.terminalAddSubtaskField::placeholder {
  color: var(--terminal-text-dim);
  opacity: 0.5;
}

.terminalAddSubtaskField:focus {
  border-color: rgba(var(--theme-primary-rgb), 0.5);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.15);
  background: rgba(0, 0, 0, 0.4);
}

.terminalAddSubtaskSpinner {
  position: absolute;
  right: 8px;
  color: var(--terminal-green);
  font-size: 14px;
  animation: terminalSpin 1s linear infinite;
}

.terminalAddSubtaskHint {
  font-size: 10px;
  color: var(--terminal-text-dim);
  opacity: 0.6;
  padding-left: 2px;
}

.terminalAddSubtaskHint kbd {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 3px;
  padding: 0 4px;
  font-size: 9px;
  font-family: var(--terminal-font);
}

@keyframes terminalSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Menu */
.terminalMenu {
  position: relative;
}

.terminalMenuBtn {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
  width: 24px;
  height: 24px;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.terminalMenuBtn:hover {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalMenuDropdown {
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  min-width: 140px;
  background: #0a0a0a;
  border: 1px solid var(--terminal-green);
  box-shadow:
    0 0 20px rgba(var(--theme-primary-rgb), 0.4),
    0 8px 32px rgba(0, 0, 0, 0.8);
  z-index: 200;
  animation: terminalDropdownSlide 0.2s ease;
}

@keyframes terminalDropdownSlide {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.terminalMenuDropdown button {
  width: 100%;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  padding: 10px 12px;
  cursor: pointer;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.terminalMenuDropdown button:last-child {
  border-bottom: none;
}

.terminalMenuDropdown button:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
  box-shadow: inset 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
  padding-left: 16px;
}

.terminalMenuDelete:hover {
  background: rgba(255, 59, 59, 0.1) !important;
  color: var(--terminal-red) !important;
  box-shadow: inset 0 0 12px rgba(255, 59, 59, 0.2) !important;
}

/* Subtasks */
.terminalSubtasks {
  border-top: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.3);
  padding: 8px 12px 8px 40px;
  position: relative;
}

.terminalTreeConnector {
  color: var(--terminal-gray, #888);
  font-size: 14px;
  line-height: 1;
  margin-bottom: 4px;
  padding-left: 2px;
  font-family: monospace;
}

.terminalSubtaskRow {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 0;
  font-size: 11px;
  color: var(--terminal-text);
  cursor: pointer;
  transition: all 0.2s ease;
}

.terminalSubtaskRow:hover {
  color: var(--terminal-green);
  padding-left: 8px;
}

.terminalSubtaskRow.completed {
  opacity: 0.6;
}

.terminalSubtaskRow.completed .terminalSubtaskTitle {
  text-decoration: line-through;
}

.terminalSubtaskPrefix {
  color: var(--terminal-border);
  font-size: 10px;
}

.terminalSubtaskCheckbox {
  color: var(--terminal-green);
  font-weight: 700;
}

.terminalSubtaskTitle {
  flex: 1;
}

.terminalSubtaskTime {
  font-size: 9px;
  color: var(--terminal-text-dim);
}

/* Task Expanded Content */
.terminalTaskExpanded {
  border-top: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.2);
}

/* Task Tabs */
.terminalTaskTabs {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-bottom: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.15);
}

.terminalTaskTab {
  background: transparent;
  border: none;
  color: var(--terminal-text-dim);
  padding: 4px 8px;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  transition: all 0.15s ease;
}

.terminalTaskTab:hover {
  color: var(--terminal-text);
}

.terminalTaskTab--active {
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-radius: 3px;
}

/* Tab Content */
.terminalTaskTabContent {
  padding: 12px;
  min-height: 80px;
}

.terminalTabPane {
  animation: tabFadeIn 0.15s ease;
}

@keyframes tabFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Details Tab */
.terminalTabPane--details {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.terminalDetailBlock {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.terminalDetailBlockLabel {
  font-size: 10px;
  font-weight: 600;
  color: var(--terminal-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.terminalDetailBlockContent {
  font-size: 12px;
  color: var(--terminal-text);
  line-height: 1.5;
  padding: 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  border-left: 2px solid var(--terminal-border);
}

/* Empty State - reset absolute positioning from global .terminalEmptyState */
.terminalTabPane .terminalEmptyState,
.terminalTaskExpanded .terminalEmptyState {
  position: static;
  inset: auto;
  text-align: center;
  padding: 24px 12px;
  color: var(--terminal-text-dim);
  font-size: 12px;
  font-style: italic;
  min-height: auto;
}

/* Task Actions Bar */
.terminalTaskActionsBar {
  padding: 12px 12px 12px 40px;
  display: flex;
  align-items: center;
  gap: 8px;
  border-top: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.15);
}

.terminalTaskActionsBar--right {
  justify-content: flex-end;
  padding: 12px;
}

.terminalCompleteBtn {
  background: rgba(var(--theme-primary-rgb), 0.12);
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
  padding: 6px 12px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 3px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'JetBrains Mono', monospace;
  display: flex;
  align-items: center;
  gap: 6px;
}

.terminalCompleteBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.25);
  box-shadow: 0 0 15px rgba(var(--theme-primary-rgb), 0.4);
  border-color: var(--terminal-green);
  transform: scale(1.05);
}

.terminalCompleteBtn:active {
  transform: scale(0.95);
}

.terminalViewDetailsBtn {
  background: rgba(0, 150, 255, 0.12);
  border: 1px solid var(--terminal-cyan);
  color: var(--terminal-cyan);
  padding: 6px 12px;
  font-size: 11px;
  font-family: var(--terminal-font);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.terminalViewDetailsBtn:hover {
  background: rgba(0, 150, 255, 0.25);
  box-shadow: 0 0 15px rgba(0, 150, 255, 0.4);
  border-color: var(--terminal-cyan);
  transform: scale(1.05);
}

.terminalViewDetailsBtn:active {
  transform: scale(0.95);
}

.terminalDeleteBtn {
  background: rgba(255, 59, 59, 0.12);
  border: 1px solid var(--terminal-red);
  color: var(--terminal-red);
  padding: 6px 12px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 3px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'JetBrains Mono', monospace;
  display: flex;
  align-items: center;
  gap: 6px;
}

.terminalDeleteBtn:hover {
  background: rgba(255, 59, 59, 0.25);
  box-shadow: 0 0 15px rgba(255, 59, 59, 0.4);
  border-color: var(--terminal-red);
  transform: scale(1.05);
}

.terminalDeleteBtn:active {
  transform: scale(0.95);
}

/* Sessions Subsection */
.terminalSessions {
  padding: 8px 12px 8px 40px;
}

.terminalSubsectionHeader {
  background: none;
  border: none;
  color: var(--terminal-amber);
  font-size: 11px;
  font-weight: 600;
  padding: 6px 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'JetBrains Mono', monospace;
  transition: all 0.2s ease;
}

.terminalSubsectionHeader:hover {
  color: var(--terminal-green);
  padding-left: 4px;
}

.terminalSubsectionContent {
  padding-top: 8px;
  padding-left: 12px;
}

.terminalSessionItem {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 6px 8px;
  margin-bottom: 4px;
  font-size: 11px;
  color: var(--terminal-text);
  background: rgba(107, 138, 253, 0.08);
  border: 1px solid rgba(107, 138, 253, 0.2);
  border-radius: 3px;
  transition: all 0.2s ease;
}

.terminalSessionItem:hover {
  background: rgba(107, 138, 253, 0.15);
  border-color: rgba(107, 138, 253, 0.4);
}

.terminalSessionName {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--terminal-blue);
  font-weight: 500;
}

.terminalSessionActions {
  display: flex;
  align-items: center;
  gap: 6px;
}

.terminalSessionBtn {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  padding: 2px 6px;
  font-size: 10px;
  border-radius: 2px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'JetBrains Mono', monospace;
}

.terminalSessionBtn:hover {
  background: rgba(0, 0, 0, 0.5);
  border-color: var(--terminal-green);
  color: var(--terminal-green);
}

.terminalSessionBtn.remove {
  color: var(--terminal-red);
}

.terminalSessionBtn.remove:hover {
  border-color: var(--terminal-red);
  background: rgba(255, 59, 59, 0.1);
}

.terminalLoading {
  font-size: 11px;
  color: var(--terminal-text-dim);
  font-style: italic;
  padding: 6px 0;
}

/* Description Section */
.terminalDescriptionSection {
  padding: 8px 12px 8px 40px;
  border-bottom: 1px solid var(--terminal-border);
}

.terminalDescriptionText {
  font-size: 11px;
  color: var(--terminal-text-dim);
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: break-word;
  padding: 8px;
  background: rgba(0, 0, 0, 0.4);
  border-left: 2px solid var(--terminal-green);
  font-family: 'JetBrains Mono', monospace;
}

/* Details Section */
.terminalDetailsSection {
  padding: 8px 12px 8px 40px;
  border-bottom: 1px solid var(--terminal-border);
}

.terminalDetailGrid {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding-top: 8px;
}

.terminalDetailRow {
  display: flex;
  gap: 12px;
  font-size: 11px;
  padding: 4px 0;
  align-items: flex-start;
}

.terminalDetailRowFull {
  flex-direction: column;
  gap: 4px;
}

.terminalDetailLabel {
  color: var(--terminal-amber);
  font-weight: 600;
  min-width: 100px;
  flex-shrink: 0;
}

.terminalDetailValue {
  color: var(--terminal-text);
  flex: 1;
  word-break: break-word;
}

/* Status values in details section */
.terminalStatusValue {
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
}

.terminalStatusValue--todo {
  color: var(--terminal-amber);
}

.terminalStatusValue--in_progress {
  color: var(--terminal-blue);
}

.terminalStatusValue--completed {
  color: var(--terminal-green);
}

.terminalStatusValue--cancelled {
  color: var(--terminal-gray);
}

.terminalStatusValue--blocked {
  color: var(--terminal-red);
}

.terminalSessionStatusValue {
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
}

.terminalSessionStatusValue--queued {
  color: #888;
}

.terminalSessionStatusValue--working {
  color: #00d4ff;
}

.terminalSessionStatusValue--blocked {
  color: #ff6b9d;
}

.terminalSessionStatusValue--needs_input {
  color: #ffaa00;
}

.terminalSessionStatusValue--completed {
  color: #00e5a0;
}

.terminalSessionStatusValue--failed {
  color: #ff4d6a;
}

.terminalSessionStatusValue--skipped {
  color: #999;
}

/* Task Status Control Component */
.terminalStatusControl {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.terminalStatusSelector {
  position: relative;
}

.terminalStatusTrigger {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 2px;
  min-width: 120px;
}

.terminalStatusTrigger:hover:not(:disabled) {
  border-color: var(--terminal-green);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalStatusTrigger.open {
  border-color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.4);
}

.terminalStatusTrigger.loading {
  opacity: 0.6;
  cursor: wait;
}

.terminalStatusTrigger.success {
  animation: successPulse 0.5s ease;
}

.terminalStatusTrigger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Status-specific border colors */
.terminalStatusTrigger--todo {
  border-color: #808080;
}

.terminalStatusTrigger--in_progress {
  border-color: var(--terminal-blue);
}

.terminalStatusTrigger--completed {
  border-color: var(--terminal-green);
}

.terminalStatusTrigger--cancelled {
  border-color: #808080;
}

.terminalStatusTrigger--blocked {
  border-color: var(--terminal-red);
}

.terminalStatusSymbol {
  font-size: 12px;
  line-height: 1;
}

.terminalStatusLabel {
  flex: 1;
  letter-spacing: 0.05em;
}

.terminalStatusCaret {
  font-size: 10px;
  opacity: 0.7;
}

.terminalStatusSpinner {
  font-size: 12px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Dropdown menu */
.terminalStatusDropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  min-width: 140px;
  background: rgba(0, 0, 0, 0.95);
  border: 1px solid var(--terminal-green);
  box-shadow: 0 4px 16px rgba(var(--theme-primary-rgb), 0.3);
  z-index: 1000;
  animation: statusDropdownSlide 0.2s ease;
  border-radius: 2px;
  overflow: hidden;
}

@keyframes statusDropdownSlide {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dropdown options */
.terminalStatusOption {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
  width: 100%;
  text-align: left;
}

.terminalStatusOption:last-child {
  border-bottom: none;
}

.terminalStatusOption:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
}

.terminalStatusOption.current {
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: inset 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.terminalStatusCheck {
  margin-left: auto;
  color: var(--terminal-green);
  font-size: 12px;
}

/* Error message */
.terminalStatusError {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  padding: 6px 8px;
  background: rgba(255, 59, 59, 0.1);
  border: 1px solid var(--terminal-red);
  color: var(--terminal-red);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  z-index: 999;
  animation: errorShake 0.3s ease;
  border-radius: 2px;
}

@keyframes errorShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

/* Success pulse animation */
@keyframes successPulse {
  0% {
    box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.4);
  }
  50% {
    box-shadow: 0 0 32px rgba(var(--theme-primary-rgb), 0.8);
    transform: scale(1.02);
  }
  100% {
    box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.4);
  }
}

/* Session Status Display (Read-only) */
.terminalSessionStatusDisplay {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--terminal-border);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  border-radius: 2px;
  letter-spacing: 0.05em;
}

.terminalSessionStatusPrefix {
  color: var(--terminal-text-dim);
  font-size: 10px;
}

.terminalSessionStatusLabel {
  color: var(--terminal-text);
}

/* Session status colors - distinct from user status */
.terminalSessionStatusDisplay--queued {
  border-color: #888;
}

.terminalSessionStatusDisplay--queued .terminalSessionStatusLabel {
  color: #888;
}

.terminalSessionStatusDisplay--working {
  border-color: #00d4ff;
}

.terminalSessionStatusDisplay--working .terminalSessionStatusLabel {
  color: #00d4ff;
}

.terminalSessionStatusDisplay--blocked {
  border-color: #ff6b9d;
}

.terminalSessionStatusDisplay--blocked .terminalSessionStatusLabel {
  color: #ff6b9d;
}

.terminalSessionStatusDisplay--needs_input {
  border-color: #ffaa00;
}

.terminalSessionStatusDisplay--needs_input .terminalSessionStatusLabel {
  color: #ffaa00;
}

.terminalSessionStatusDisplay--completed {
  border-color: #00e5a0;
}

.terminalSessionStatusDisplay--completed .terminalSessionStatusLabel {
  color: #00e5a0;
}

.terminalSessionStatusDisplay--failed {
  border-color: #ff4d6a;
}

.terminalSessionStatusDisplay--failed .terminalSessionStatusLabel {
  color: #ff4d6a;
}

.terminalSessionStatusDisplay--skipped {
  border-color: #999;
}

.terminalSessionStatusDisplay--skipped .terminalSessionStatusLabel {
  color: #999;
}

.terminalSessionStatusDisplay--none {
  border-color: var(--terminal-border);
}

.terminalSessionStatusDisplay--none .terminalSessionStatusLabel {
  color: var(--terminal-text-dim);
  opacity: 0.5;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Timeline Section */
.terminalTimelineSection {
  padding: 8px 12px 8px 40px;
  border-bottom: 1px solid var(--terminal-border);
}

.terminalTimelineList {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding-top: 8px;
}

.terminalTimelineEvent {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 10px;
  padding: 4px 8px;
  background: rgba(0, 0, 0, 0.3);
  border-left: 2px solid var(--terminal-border);
  transition: all 0.2s ease;
}

.terminalTimelineEvent:hover {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border-left-color: var(--terminal-green);
}

.terminalTimelineType {
  padding: 2px 6px;
  border: 1px solid;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  flex-shrink: 0;
}

.terminalTimelineType--created {
  color: var(--terminal-text-dim);
  border-color: var(--terminal-border);
}

.terminalTimelineType--session_started {
  color: var(--terminal-cyan);
  border-color: var(--terminal-cyan);
}

.terminalTimelineType--session_ended {
  color: var(--terminal-text-dim);
  border-color: var(--terminal-border);
}

.terminalTimelineType--update {
  color: var(--terminal-amber);
  border-color: var(--terminal-amber);
}

.terminalTimelineType--milestone {
  color: var(--terminal-green);
  border-color: var(--terminal-green);
}

.terminalTimelineType--blocker {
  color: var(--terminal-red);
  border-color: var(--terminal-red);
}

.terminalTimelineTime {
  color: var(--terminal-text-dim);
  flex-shrink: 0;
  min-width: 60px;
}

.terminalTimelineMessage {
  color: var(--terminal-text);
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Responsive behavior for narrow screens */
@media (max-width: 900px) {
  .terminalTaskContent {
    flex-wrap: wrap;
    gap: 8px;
  }

  .terminalTaskMeta {
    order: 3;
    margin-left: 0;
  }

  .terminalTaskStatus {
    order: 2;
  }
}

@media (max-width: 768px) {
  .terminalTaskMain {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    padding: 10px 12px;
  }

  .terminalTaskContent {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .terminalTaskPrimaryContent {
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .terminalTaskTitle {
    max-width: 100%;
  }

  .terminalDescriptionPreview {
    font-size: 10px;
  }

  .terminalTaskMeta {
    flex-wrap: wrap;
  }

  .terminalTaskStatus {
    align-self: flex-start;
  }

  .terminalTaskActions {
    flex-wrap: wrap;
    justify-content: flex-start;
  }
}

@media (max-width: 480px) {
  .terminalTaskMain {
    padding: 8px 10px;
  }

  .terminalTaskTitle {
    font-size: 12px;
  }

  .terminalDescriptionPreview {
    font-size: 10px;
  }

  .terminalMetaBadge,
  .terminalTimeAgo {
    font-size: 9px;
  }

  .terminalStatusPill {
    font-size: 9px;
    padding: 3px 6px;
  }

  .terminalExecBtn {
    font-size: 14px;
    padding: 4px 8px;
  }

  .maestroAgentSelector {
    font-size: 9px;
    padding: 4px 7px;
  }
}

/* Container query support for narrow right panels */
.rightPanel {
  container-type: inline-size;
  container-name: right-panel;
}

.maestroPanel {
  container-type: inline-size;
  container-name: maestro-panel;
}

/* Responsive styles for narrow right panel using container queries */
@container maestro-panel (max-width: 400px) {
  .terminalTaskMain {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
    padding: 10px;
  }

  .terminalTaskPrimaryContent {
    order: 1;
  }

  .terminalTaskActions {
    order: 2;
    justify-content: flex-end;
  }

  .terminalTaskMeta {
    gap: 4px;
  }

  .terminalMetaBadge {
    font-size: 9px;
    padding: 2px 5px;
  }

  .terminalTimeAgo {
    display: none;
  }

  .terminalTreeCollapseBtn {
    width: 18px;
    height: 18px;
    font-size: 12px;
    margin-right: 6px;
  }

  .terminalTreeCollapseSpacer {
    width: 18px;
    margin-right: 6px;
  }
}

@container maestro-panel (max-width: 320px) {
  .terminalTaskTitle {
    font-size: 12px;
  }

  .terminalTaskMeta {
    gap: 3px;
  }

  .terminalMetaBadge {
    font-size: 8px;
    padding: 1px 4px;
  }

  .terminalSessionStatuses {
    display: none;
  }

  .terminalPlayBtn {
    width: 26px;
    height: 26px;
    font-size: 12px;
  }
}

@container maestro-panel (max-width: 280px) {
  .terminalTaskMain {
    padding: 8px;
    gap: 6px;
  }

  .terminalTaskTitle {
    font-size: 11px;
  }

  .terminalMetaBadgeCaret {
    display: none;
  }

  /* Hide priority badge on very narrow panels */
  .terminalInlinePriorityPicker {
    display: none;
  }

  /* Compact tabs for narrow panels */
  .maestroPanelTabs {
    padding: 0 6px;
    gap: 0;
  }

  .maestroPanelTab {
    padding: 8px 10px;
    font-size: 10px;
  }

  .maestroPanelTabCount {
    display: none;
  }

  .terminalCommandBar {
    flex-direction: column;
    gap: 8px;
  }

  .terminalCommands {
    flex-wrap: wrap;
  }

  .terminalStats {
    justify-content: flex-start;
  }
}

/* Connection status */
.maestroConnectionStatus {
  color: var(--terminal-amber);
  font-size: 10px;
  padding: 2px 6px;
  border: 1px solid var(--terminal-amber);
  background: rgba(255, 176, 0, 0.1);
  border-radius: 3px;
  animation: blinkAlert 1s infinite;
}

/* ========== Filter Bar (Redesigned) ========== */

.filterBar {
  padding: 0 16px;
  border-bottom: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.2);
  position: relative;
  z-index: 1001;
}

.filterBar--expanded {
  padding-bottom: 12px;
}

/* Toggle button */
.filterBar__toggle {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 0;
  background: none;
  border: none;
  color: var(--terminal-text-dim);
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  transition: color 0.15s ease;
  width: 100%;
}

.filterBar__toggle:hover {
  color: var(--terminal-text);
}

.filterBar__toggleIcon {
  font-size: 12px;
  opacity: 0.6;
}

.filterBar__toggleLabel {
  font-weight: 600;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  font-size: 10px;
}

.filterBar__badge {
  background: var(--terminal-green);
  color: #000;
  font-size: 9px;
  font-weight: 700;
  min-width: 16px;
  height: 16px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}

.filterBar__arrow {
  margin-left: auto;
  font-size: 10px;
  transition: transform 0.2s ease;
}

.filterBar__arrow--open {
  transform: rotate(180deg);
}

/* Active filter summary (collapsed state) */
.filterBar__activeSummary {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  padding: 0 0 8px 0;
}

/* Expanded panel */
.filterBar__panel {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-top: 4px;
}

/* Filter groups */
.filterGroup {
  display: flex;
  align-items: center;
  gap: 10px;
}

.filterGroup__label {
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  color: var(--terminal-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 56px;
  flex-shrink: 0;
}

.filterGroup__chips {
  display: flex;
  gap: 5px;
  flex-wrap: wrap;
}

/* Filter chips (pill buttons) */
.filterChip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  border-radius: 12px;
  border: 1px solid var(--terminal-border);
  background: transparent;
  color: var(--terminal-text-dim);
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
}

.filterChip:hover {
  border-color: var(--terminal-text-dim);
  color: var(--terminal-text);
}

.filterChip__icon {
  font-size: 10px;
  line-height: 1;
}

.filterChip__dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  flex-shrink: 0;
}

.filterChip__remove {
  background: none;
  border: none;
  color: inherit;
  font-size: 11px;
  cursor: pointer;
  padding: 0 0 0 2px;
  line-height: 1;
  opacity: 0.6;
  transition: opacity 0.15s ease;
}

.filterChip__remove:hover {
  opacity: 1;
}

/* Status semantic colors */
.filterChip--todo:hover,
.filterChip--todo.filterChip--active {
  border-color: var(--terminal-amber);
  color: var(--terminal-amber);
}
.filterChip--todo.filterChip--active {
  background: rgba(255, 176, 0, 0.15);
}

.filterChip--inProgress:hover,
.filterChip--inProgress.filterChip--active {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
}
.filterChip--inProgress.filterChip--active {
  background: rgba(var(--theme-primary-rgb), 0.15);
}

.filterChip--completed:hover,
.filterChip--completed.filterChip--active {
  border-color: var(--terminal-cyan);
  color: var(--terminal-cyan);
}
.filterChip--completed.filterChip--active {
  background: rgba(0, 217, 255, 0.12);
}

.filterChip--blocked:hover,
.filterChip--blocked.filterChip--active {
  border-color: var(--terminal-red);
  color: var(--terminal-red);
}
.filterChip--blocked.filterChip--active {
  background: rgba(255, 59, 59, 0.12);
}

.filterChip--cancelled:hover,
.filterChip--cancelled.filterChip--active {
  border-color: var(--terminal-text-dim);
  color: var(--terminal-text-dim);
}
.filterChip--cancelled.filterChip--active {
  background: rgba(255, 255, 255, 0.06);
}

/* Priority semantic colors */
.filterChip--high:hover,
.filterChip--high.filterChip--active {
  border-color: var(--terminal-red);
  color: var(--terminal-red);
}
.filterChip--high.filterChip--active {
  background: rgba(255, 59, 59, 0.12);
}

.filterChip--medium:hover,
.filterChip--medium.filterChip--active {
  border-color: var(--terminal-amber);
  color: var(--terminal-amber);
}
.filterChip--medium.filterChip--active {
  background: rgba(255, 176, 0, 0.12);
}

.filterChip--low:hover,
.filterChip--low.filterChip--active {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
}
.filterChip--low.filterChip--active {
  background: rgba(var(--theme-primary-rgb), 0.12);
}

/* Sort chip */
.filterChip--sort:hover,
.filterChip--sort.filterChip--active {
  border-color: var(--terminal-blue);
  color: var(--terminal-blue);
}
.filterChip--sort.filterChip--active {
  background: rgba(107, 138, 253, 0.12);
}

/* Segmented control for sort */
.filterGroup__segmented {
  display: flex;
  border: 1px solid var(--terminal-border);
  border-radius: 6px;
  overflow: hidden;
}

.filterSegment {
  padding: 4px 12px;
  background: transparent;
  border: none;
  border-right: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
}

.filterSegment:last-child {
  border-right: none;
}

.filterSegment:hover {
  color: var(--terminal-text);
  background: rgba(255, 255, 255, 0.04);
}

.filterSegment--active {
  background: rgba(var(--theme-primary-rgb), 0.15);
  color: var(--terminal-green);
  font-weight: 600;
}

/* Clear all button */
.filterBar__clearAll {
  background: none;
  border: none;
  color: var(--terminal-text-dim);
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  padding: 2px 6px;
  transition: color 0.15s ease;
  opacity: 0.7;
}

.filterBar__clearAll:hover {
  color: var(--terminal-red);
  opacity: 1;
}

/* Terminal Modal Styles */
.maestroModal.terminalModal {
  background: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(8px);
}

.maestroModal.terminalModal .maestroModalContainer {
  background: #000000;
  border: 2px solid var(--terminal-green);
  box-shadow:
    0 0 40px rgba(var(--theme-primary-rgb), 0.4),
    0 20px 60px rgba(0, 0, 0, 0.9);
  max-width: 600px;
  position: relative;
}

/* Scanline effect for modals */
.maestroModal.terminalModal .maestroModalContainer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.15) 0px,
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px);
  pointer-events: none;
  z-index: 10;
  opacity: 0.3;
}

.maestroModal.terminalModal .maestroModalHeader {
  background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
  border-bottom: 1px solid var(--terminal-border);
}

.maestroModal.terminalModal .maestroModalTitle {
  color: var(--terminal-green);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  text-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.5);
}

.maestroModal.terminalModal .maestroModalTitle::before {
  content: '$ ';
  color: var(--terminal-amber);
}

.maestroModal.terminalModal .maestroModalContent {
  background: rgba(var(--theme-primary-rgb), 0.02);
}

.maestroModal.terminalModal .maestroFormLabel {
  color: var(--terminal-amber);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  text-transform: lowercase;
  letter-spacing: 0.03em;
}

.maestroModal.terminalModal .maestroFormLabel::before {
  content: '--';
  margin-right: 4px;
}

.maestroModal.terminalModal .maestroFormInput,
.maestroModal.terminalModal .maestroFormTextarea,
.maestroModal.terminalModal .maestroFormSelect {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
}

.maestroModal.terminalModal .maestroFormInput:focus,
.maestroModal.terminalModal .maestroFormTextarea:focus,
.maestroModal.terminalModal .maestroFormSelect:focus {
  outline: none;
  border-color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.maestroModal.terminalModal .maestroButton {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  text-transform: lowercase;
  letter-spacing: 0.03em;
}

.maestroModal.terminalModal .maestroButtonPrimary {
  background: transparent;
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
}

.maestroModal.terminalModal .maestroButtonPrimary::before {
  content: '$ ';
  color: var(--terminal-amber);
  margin-right: 4px;
}

.maestroModal.terminalModal .maestroButtonPrimary:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.5);
}

.maestroModal.terminalModal .maestroButtonSecondary {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
}

.maestroModal.terminalModal .maestroButtonSecondary:hover {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

/* Terminal checkbox styling */
.maestroModal.terminalModal input[type="checkbox"] {
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--terminal-border);
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.maestroModal.terminalModal input[type="checkbox"]:checked {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.maestroModal.terminalModal input[type="checkbox"]:checked::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--terminal-green);
  font-size: 12px;
  font-weight: 700;
}

.maestroModal.terminalModal input[type="checkbox"]:hover {
  border-color: var(--terminal-green);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

/* Terminal-themed CreateTaskModal */
.createTaskModal.terminalTheme {
  background: #000000;
  border: 2px solid var(--terminal-green);
  box-shadow:
    0 0 40px rgba(var(--theme-primary-rgb), 0.5),
    0 20px 80px rgba(0, 0, 0, 0.9);
}

.createTaskModal.terminalTheme::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.15) 0px,
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px);
  pointer-events: none;
  z-index: 1;
  opacity: 0.3;
}

.createTaskModal.terminalTheme .createTaskModalHeader {
  background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
  border-bottom: 1px solid var(--terminal-border);
  position: relative;
  z-index: 2;
}

.createTaskModal.terminalTheme .createTaskModalIcon {
  color: var(--terminal-green);
  text-shadow: 0 0 10px var(--terminal-green);
}

.createTaskModal.terminalTheme .createTaskModalTitle {
  color: var(--terminal-green);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  text-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.4);
}

.createTaskModal.terminalTheme .createTaskModalTitle::before {
  content: '$ ';
  color: var(--terminal-amber);
  margin-right: 6px;
}

.createTaskModal.terminalTheme .createTaskModalSubtitle {
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
}

.createTaskModal.terminalTheme .createTaskModalBody {
  background: rgba(var(--theme-primary-rgb), 0.02);
  position: relative;
  z-index: 2;
}

.createTaskModal.terminalTheme .createTaskLabel {
  color: var(--terminal-amber);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  font-size: 11px;
  text-transform: lowercase;
  letter-spacing: 0.03em;
}

.createTaskModal.terminalTheme .createTaskLabel::before {
  content: '--';
  margin-right: 4px;
  color: var(--terminal-text-dim);
}

.createTaskModal.terminalTheme .createTaskTitleInput {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px;
  font-weight: 500;
}

.createTaskModal.terminalTheme .createTaskTitleInput:focus {
  outline: none;
  border-color: var(--terminal-green);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.createTaskModal.terminalTheme .createTaskTitleInput::placeholder {
  color: var(--terminal-text-dim);
  opacity: 0.5;
}

.createTaskModal.terminalTheme .createTaskPromptArea {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  line-height: 1.6;
}

.createTaskModal.terminalTheme .createTaskPromptArea:focus {
  outline: none;
  border-color: var(--terminal-green);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.createTaskModal.terminalTheme .createTaskPromptArea::placeholder {
  color: var(--terminal-text-dim);
  opacity: 0.5;
}

.createTaskModal.terminalTheme .createTaskPromptHint {
  color: var(--terminal-cyan);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
}

.createTaskModal.terminalTheme .createTaskOptionLabel {
  color: var(--terminal-amber);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  font-size: 11px;
}

.createTaskModal.terminalTheme .createTaskPriorityBtn {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500;
  font-size: 11px;
  text-transform: lowercase;
}

.createTaskModal.terminalTheme .createTaskPriorityBtn:hover {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.createTaskModal.terminalTheme .createTaskPriorityBtn.active {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.12);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
  font-weight: 700;
}

.createTaskModal.terminalTheme .createTaskAdvancedToggle {
  color: var(--terminal-cyan);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
}

.createTaskModal.terminalTheme .createTaskAdvancedToggle:hover {
  color: var(--terminal-green);
}

.createTaskModal.terminalTheme .createTaskModalFooter {
  background: linear-gradient(180deg, #0d0d0d 0%, #000000 100%);
  border-top: 1px solid var(--terminal-border);
  position: relative;
  z-index: 2;
}

.createTaskModal.terminalTheme .createTaskModalKeyboardHint {
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  padding: 4px 8px;
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.createTaskModal.terminalTheme .createTaskBtn {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  text-transform: lowercase;
  letter-spacing: 0.03em;
  font-size: 12px;
}

.createTaskModal.terminalTheme .createTaskBtnSecondary {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
}

.createTaskModal.terminalTheme .createTaskBtnSecondary:hover:not(:disabled) {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.createTaskModal.terminalTheme .createTaskBtnPrimary {
  background: transparent;
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
}

.createTaskModal.terminalTheme .createTaskBtnPrimary::before {
  content: '$ ';
  color: var(--terminal-amber);
  margin-right: 4px;
}

.createTaskModal.terminalTheme .createTaskBtnPrimary:hover:not(:disabled) {
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: 0 0 20px rgba(var(--theme-primary-rgb), 0.5);
}

.createTaskModal.terminalTheme .createTaskBtnSuccess {
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.3);
}

.createTaskModal.terminalTheme .createTaskBtnSuccess::before {
  content: ' ';
  margin-right: 4px;
}

.createTaskModal.terminalTheme .createTaskBtnSuccess:hover:not(:disabled) {
  background: rgba(var(--theme-primary-rgb), 0.2);
  box-shadow: 0 0 24px rgba(var(--theme-primary-rgb), 0.6);
  transform: scale(1.02);
}

.createTaskModal.terminalTheme .createTaskBtn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  border-color: var(--terminal-border);
}

.createTaskModal.terminalTheme .createTaskBtnDanger {
  background: rgba(255, 80, 80, 0.1);
  border: 1px solid rgba(255, 80, 80, 0.6);
  color: #ff5050;
}

.createTaskModal.terminalTheme .createTaskBtnDanger:hover:not(:disabled) {
  background: rgba(255, 80, 80, 0.2);
  box-shadow: 0 0 20px rgba(255, 80, 80, 0.4);
}

/* Confirmation Dialog */
.confirmDialogOverlay {
  z-index: 10001;
  background: rgba(0, 0, 0, 0.8);
}

.confirmDialog {
  width: 90%;
  max-width: 400px;
  border-radius: 8px;
  overflow: hidden;
}

.confirmDialog.terminalTheme {
  background: #000000;
  border: 2px solid var(--terminal-amber);
  box-shadow: 0 0 30px rgba(255, 191, 0, 0.3);
}

.confirmDialogHeader {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 16px 20px;
  background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
  border-bottom: 1px solid var(--terminal-border);
  color: var(--terminal-amber);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  font-size: 14px;
}

.confirmDialogIcon {
  font-size: 18px;
  text-shadow: 0 0 8px rgba(255, 191, 0, 0.5);
}

.confirmDialogBody {
  padding: 20px;
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  line-height: 1.5;
}

.confirmDialogFooter {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 16px 20px;
  background: linear-gradient(180deg, #0d0d0d 0%, #000000 100%);
  border-top: 1px solid var(--terminal-border);
}

/* Terminal input cursor animation */
.terminalTheme input:focus,
.terminalTheme textarea:focus {
  caret-color: var(--terminal-green);
}

/* Glowing text selection */
.terminalTheme ::selection {
  background: rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-text);
}

/* Additional terminal effects */
@keyframes terminalFlicker {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.97;
  }
}

.terminalTheme {
  animation: terminalFlicker 0.15s infinite;
}

/* Phosphor glow on hover for interactive elements */
.terminalTheme button:not(:disabled):hover,
.terminalTheme select:hover,
.terminalTheme input:hover {
  position: relative;
}

.terminalTheme button:not(:disabled):hover::after,
.terminalTheme select:hover::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center,
      rgba(var(--theme-primary-rgb), 0.1) 0%,
      transparent 70%);
  pointer-events: none;
}
/* ===================================
   SIDEBAR REDESIGN - CYBERPUNK TERMINAL
   Matching the Maestro Panel Aesthetic
   =================================== */

.sidebar {
  /* Terminal Theme Variables - aliased to dynamic theme vars */
  --terminal-green: var(--theme-primary);
  --terminal-green-dim: var(--theme-primary-dim);
  --terminal-amber: #ffb000;
  --terminal-cyan: #00d9ff;
  --terminal-blue: #6b8afd;
  --terminal-red: #ff3b3b;
  --terminal-bg: #000000;
  --terminal-bg-alt: #0a0a0a;
  --terminal-border: var(--theme-border);
  --terminal-text: var(--theme-text);
  --terminal-text-dim: var(--theme-text-dim);
  
  /* Overrides */
  --text: var(--terminal-text);
  --muted: var(--terminal-text-dim);
  --border: var(--terminal-border);
  --panel: var(--terminal-bg);
  --panel-2: var(--terminal-bg-alt);
  --accent: var(--terminal-green);
  --accent-2: var(--terminal-cyan);
  
  /* Base Sidebar Styles */
  background: var(--terminal-bg) !important;
  border-right: 1px solid var(--terminal-border) !important;
  font-family: 'JetBrains Mono', 'Courier New', monospace;
  position: relative;
  overflow: hidden; /* For scanlines */
}

/* Scanline Overlay for Sidebar */
.sidebar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.15) 0px,
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px
  );
  pointer-events: none;
  z-index: 1;
  opacity: 0.2;
}

/* CRT Glow for Sidebar */
.sidebar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
      ellipse at top left,
      rgba(var(--theme-primary-rgb), 0.05) 0%,
      transparent 60%
  );
  pointer-events: none;
  z-index: 2;
}

/* Ensure content is above effects */
.sidebar > * {
  position: relative;
  z-index: 3;
}

.sidebarHeader {
  border-bottom: 1px solid var(--terminal-border) !important;
  padding-bottom: 8px;
  margin-bottom: 4px;
}

.sidebarHeader .title {
  font-family: 'JetBrains Mono', monospace;
  color: var(--terminal-green) !important;
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.1em;
  text-shadow: 0 0 4px rgba(var(--theme-primary-rgb), 0.4);
}

/* Sidebar Buttons */
.sidebar .btnSmall {
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
  color: var(--terminal-green-dim);
  border-radius: 2px;
  transition: all 0.2s ease;
}

.sidebar .btnSmall:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.sidebar .btnSmall.btnIconActive {
  background: rgba(var(--theme-primary-rgb), 0.2);
  border-color: var(--terminal-green);
  color: var(--terminal-text);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.3);
}

/* Project Items */
.projectList {
  gap: 4px; /* Tighter spacing */
}

.projectItem {
  border: 1px solid transparent;
  background: transparent;
  color: var(--terminal-text-dim);
  border-radius: 2px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
}

.projectItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border-color: rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-text);
}

.projectItemActive {
  background: rgba(var(--theme-primary-rgb), 0.1) !important;
  border-color: var(--terminal-green) !important;
  color: var(--terminal-text) !important;
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.15), inset 0 0 12px rgba(var(--theme-primary-rgb), 0.05);
}

.projectTitle {
  font-weight: 500;
  letter-spacing: 0.02em;
}

.projectCount {
  color: var(--terminal-text-dim);
  border: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.3);
  padding: 1px 6px;
  border-radius: 2px;
}

.projectAgentsBadge {
  border: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--terminal-green);
  border-radius: 2px;
}

.projectAgentsDot {
  background: var(--terminal-green);
  box-shadow: 0 0 4px var(--terminal-green);
  animation: pulseGlow 2s infinite;
}

/* Session Items (Left Panel) */
.sessionList {
  gap: 4px;
}

.sessionItem {
  border-radius: 2px;
  border: 1px solid transparent;
  background: transparent;
  font-family: 'JetBrains Mono', monospace;
  color: var(--terminal-text-dim);
}

.sessionItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border-color: rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-text);
}

.sessionItemActive {
  background: rgba(var(--theme-primary-rgb), 0.1) !important;
  border-color: var(--terminal-green) !important;
  color: var(--terminal-text) !important;
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.15);
}

.sessionNameText {
  font-weight: 500;
  letter-spacing: 0.02em;
}

.sessionCmd {
  color: #008f11; /* Darker green for dim text */
  font-family: 'JetBrains Mono', monospace;
  opacity: 0.8;
}

.sessionStatus {
  color: var(--terminal-amber);
}

/* Dots */
.dot {
  background: rgba(var(--theme-primary-rgb), 0.2);
  border: 1px solid var(--terminal-border);
}

.dotActive {
  background: var(--terminal-green);
  box-shadow: 0 0 4px var(--terminal-green);
}

/* Agent Shortcuts */
.agentShortcutRow {
  padding-bottom: 8px;
  border-bottom: 1px dashed var(--terminal-border);
  margin-bottom: 8px;
}

.agentShortcutBtn {
  border: 1px solid var(--terminal-border);
  background: rgba(0, 0, 0, 0.3);
  color: var(--terminal-text-dim);
  border-radius: 2px;
  font-family: 'JetBrains Mono', monospace;
}

.agentShortcutBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-color: var(--terminal-green);
  color: var(--terminal-text);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.15);
}

/* Resize Handle */
.sidebarResizeHandle::before {
  background: var(--terminal-border);
}

.sidebarResizeHandle:hover::before {
  background: var(--terminal-green);
  box-shadow: 0 0 4px var(--terminal-green);
}

/* Dropdowns in Sidebar */
.sidebarActionMenuDropdown {
  background: var(--terminal-bg);
  border: 1px solid var(--terminal-green);
  border-radius: 2px;
  box-shadow: 0 4px 20px rgba(var(--theme-primary-rgb), 0.15);
}

.sidebarActionMenuDropdown--fixed {
  position: fixed;
  z-index: 10000;
}

.sidebarActionMenuItem {
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  border-radius: 2px;
}

.sidebarActionMenuItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-color: var(--terminal-green-dim);
}

/* Scrollbars */
.projectList::-webkit-scrollbar,
.sessionList::-webkit-scrollbar {
  width: 4px;
}

.projectList::-webkit-scrollbar-thumb,
.sessionList::-webkit-scrollbar-thumb {
  background: var(--terminal-border);
  border-radius: 2px;
}

.projectList::-webkit-scrollbar-thumb:hover,
.sessionList::-webkit-scrollbar-thumb:hover {
  background: var(--terminal-green-dim);
}

/* Skills Selector Styles */
.createTaskAdvancedSection {
  padding: 12px 0;
  border-top: 1px solid var(--terminal-border);
}

.createTaskAdvancedLabel {
  display: block;
  font-size: 12px;
  font-weight: 500;
  color: var(--terminal-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 12px;
  font-family: 'JetBrains Mono', monospace;
}

.createTaskSkillsLoading,
.createTaskSkillsError,
.createTaskSkillsEmpty {
  padding: 12px;
  border-radius: 2px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  line-height: 1.5;
}

.createTaskSkillsLoading {
  color: var(--terminal-amber);
  background: rgba(180, 83, 9, 0.1);
  border: 1px solid rgba(180, 83, 9, 0.3);
  display: flex;
  align-items: center;
  gap: 8px;
}

.createTaskSkillsSpinner {
  display: inline-block;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.createTaskSkillsError {
  color: #ff4444;
  background: rgba(255, 68, 68, 0.1);
  border: 1px solid rgba(255, 68, 68, 0.3);
}

.createTaskSkillsEmpty {
  color: var(--terminal-text-dim);
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--terminal-border);
}

.createTaskSkillsEmpty code {
  background: rgba(0, 255, 0, 0.1);
  color: var(--terminal-green);
  padding: 2px 6px;
  border-radius: 2px;
  font-family: 'JetBrains Mono', monospace;
}

.createTaskSkillsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 10px;
}

.createTaskSkillCheckbox {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px;
  border: 1px solid var(--terminal-border);
  border-radius: 2px;
  background: rgba(var(--theme-primary-rgb), 0.02);
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'JetBrains Mono', monospace;
}

.createTaskSkillCheckbox:hover {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-color: var(--terminal-green-dim);
  box-shadow: 0 0 4px rgba(var(--theme-primary-rgb), 0.1);
}

.createTaskSkillCheckbox input[type="checkbox"] {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  margin-top: 2px;
  cursor: pointer;
  accent-color: var(--terminal-green);
}

.createTaskSkillInfo {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.createTaskSkillName {
  font-weight: 500;
  color: var(--terminal-text);
  font-size: 13px;
}

.createTaskSkillDescription {
  font-size: 12px;
  color: var(--terminal-text-dim);
  line-height: 1.4;
  word-break: break-word;
}

.createTaskSkillType {
  font-size: 11px;
  color: var(--terminal-amber);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: 2px;
}

/* ------------------------------------------------------------------ */
/*  Template Management                                                */
/* ------------------------------------------------------------------ */

.templateList {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 16px;
  height: 100%;
  overflow: auto;
}

.templateListHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.templateListTitle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: 600;
  color: var(--terminal-green);
}

.templateListDescription {
  font-size: 13px;
  color: var(--terminal-text-dim);
  margin: 0;
  line-height: 1.5;
}

.templateListError,
.templateEditorError {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  background: rgba(255, 100, 100, 0.1);
  border: 1px solid rgba(255, 100, 100, 0.3);
  border-radius: 6px;
  color: #ff6b6b;
  font-size: 13px;
}

.templateListLoading,
.templateListEmpty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 40px 20px;
  color: var(--terminal-text-dim);
  font-size: 13px;
  text-align: center;
}

.templateListItems {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.templateListItem {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  background: var(--terminal-surface);
  border: 1px solid var(--terminal-border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.templateListItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border-color: var(--terminal-green-dim);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.1);
}

.templateListItemIcon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-radius: 8px;
}

.templateListItemContent {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.templateListItemHeader {
  display: flex;
  align-items: center;
  gap: 10px;
}

.templateListItemName {
  font-weight: 500;
  color: var(--terminal-text);
  font-size: 14px;
}

.templateListItemRole {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 2px 8px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-radius: 4px;
}

.templateListItemMeta {
  display: flex;
  align-items: center;
  gap: 14px;
  font-size: 12px;
  color: var(--terminal-text-dim);
}

.templateListItemId,
.templateListItemDate {
  display: flex;
  align-items: center;
  gap: 4px;
}

.templateListItemBadge {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 2px 6px;
  background: rgba(255, 200, 100, 0.15);
  color: var(--terminal-amber);
  border-radius: 3px;
}

.templateListItemAction {
  flex-shrink: 0;
  color: var(--terminal-text-dim);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.templateListItem:hover .templateListItemAction {
  opacity: 1;
}

/* Template Editor */

.templateEditor {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: var(--terminal-bg);
}

.templateEditorHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--terminal-border);
  flex-shrink: 0;
}

.templateEditorTitle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  color: var(--terminal-green);
}

.templateEditorActions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.templateEditorBody {
  flex: 1;
  display: flex;
  min-height: 0;
  overflow: hidden;
}

.templateEditorMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 16px;
  overflow: auto;
}

.templateEditorMain.withSidebar {
  width: 65%;
}

.templateEditorField {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.templateEditorFieldContent {
  flex: 1;
  min-height: 200px;
  display: flex;
  flex-direction: column;
}

.templateEditorLabel {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  font-weight: 600;
  color: var(--terminal-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.templateEditorLabelHint {
  font-weight: 400;
  text-transform: none;
  letter-spacing: normal;
  font-size: 11px;
  color: var(--terminal-text-dim);
  opacity: 0.7;
}

.templateEditorInput {
  padding: 10px 12px;
  background: var(--terminal-surface);
  border: 1px solid var(--terminal-border);
  border-radius: 6px;
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  outline: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.templateEditorInput:focus {
  border-color: var(--terminal-green-dim);
  box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.1);
}

.templateEditorTextarea {
  flex: 1;
  min-height: 300px;
  padding: 12px;
  background: var(--terminal-surface);
  border: 1px solid var(--terminal-border);
  border-radius: 6px;
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  line-height: 1.6;
  outline: none;
  resize: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.templateEditorTextarea:focus {
  border-color: var(--terminal-green-dim);
  box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.1);
}

.templateEditorSidebar {
  width: 35%;
  border-left: 1px solid var(--terminal-border);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.templateVariablesHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 14px;
  font-size: 12px;
  font-weight: 600;
  color: var(--terminal-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--terminal-border);
  flex-shrink: 0;
}

.templateVariablesList {
  flex: 1;
  overflow: auto;
  padding: 8px;
}

.templateVariableItem {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 10px 12px;
  background: transparent;
  border: 1px solid transparent;
  border-radius: 6px;
  text-align: left;
  cursor: pointer;
  width: 100%;
  transition: all 0.15s ease;
}

.templateVariableItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border-color: var(--terminal-border);
}

.templateVariableName {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  color: var(--terminal-cyan);
}

.templateVariableDesc {
  font-size: 11px;
  color: var(--terminal-text-dim);
  line-height: 1.4;
}

.templateEditorFooter {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  border-top: 1px solid var(--terminal-border);
  flex-shrink: 0;
}

.templateEditorFooterLeft,
.templateEditorFooterRight {
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Danger button variant */
.terminalBtnDanger {
  background: rgba(255, 100, 100, 0.1);
  border-color: rgba(255, 100, 100, 0.3);
  color: #ff6b6b;
}

.terminalBtnDanger:hover:not(:disabled) {
  background: rgba(255, 100, 100, 0.2);
  border-color: rgba(255, 100, 100, 0.5);
}

/* Spin animation */
.spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ------------------------------------------------------------------ */
/*  Maestro Panel Tabs                                                 */
/* ------------------------------------------------------------------ */

.maestroPanelTabs {
  display: flex;
  gap: 2px;
  padding: 0 12px;
  background: rgba(0, 0, 0, 0.3);
  border-bottom: 1px solid var(--terminal-border);
}

.maestroPanelTab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 10px 16px;
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--terminal-text-dim);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.maestroPanelTab:hover {
  color: var(--terminal-text);
  background: rgba(var(--theme-primary-rgb), 0.03);
}

.maestroPanelTabActive {
  color: var(--terminal-green);
  border-bottom-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.maestroPanelTabIcon {
  font-size: 10px;
  transition: transform 0.15s ease;
}

.maestroPanelTabActive .maestroPanelTabIcon {
  transform: rotate(90deg);
}

.maestroPanelTabContent {
  flex: 1;
  min-height: 0;
  overflow: auto;
}

.maestroPanelTabCount {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--terminal-text-dim);
  background: rgba(var(--theme-primary-rgb), 0.08);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  padding: 2px 6px;
  border-radius: 3px;
  min-width: 18px;
  text-align: center;
}

.maestroPanelTabActive .maestroPanelTabCount {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: rgba(var(--theme-primary-rgb), 0.3);
  color: var(--terminal-green);
}

/* ------------------------------------------------------------------ */
/*  Task Slide Animations                                              */
/* ------------------------------------------------------------------ */

@keyframes taskSlideOut {
  0% {
    opacity: 1;
    transform: translateX(0);
    max-height: 200px;
  }
  50% {
    opacity: 0.5;
    transform: translateX(100%);
    max-height: 200px;
  }
  100% {
    opacity: 0;
    transform: translateX(100%);
    max-height: 0;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }
}

.terminalTaskSlideOut {
  animation: taskSlideOut 0.5s ease-out forwards;
  pointer-events: none;
}

/* Completed task list styling */
.terminalTaskListCompleted .terminalTaskRow {
  opacity: 0.85;
}

.terminalTaskListCompleted .terminalTaskRow:hover {
  opacity: 1;
}

/* ==================== Strategy Selector ==================== */

.strategySelector {
  margin: 16px 0;
}

.strategySelectorTitle {
  color: var(--text-muted);
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 10px;
}

.strategySelectorOptions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.strategySelectorOption {
  display: flex;
  align-items: flex-start;
  padding: 12px 14px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.02);
  cursor: pointer;
  transition: all 0.2s ease;
}

.strategySelectorOption:hover {
  border-color: rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.04);
}

.strategySelectorOption--selected {
  border-color: rgba(34, 197, 94, 0.5);
  background: rgba(34, 197, 94, 0.08);
}

.strategySelectorOption input[type="radio"] {
  margin-right: 12px;
  margin-top: 3px;
  accent-color: #22c55e;
}

.strategySelectorOptionContent {
  flex: 1;
}

.strategySelectorOptionTitle {
  font-size: 14px;
  font-weight: 500;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 8px;
}

.strategySelectorOptionIcon {
  font-size: 14px;
  opacity: 0.7;
}

.strategySelectorOptionDefault {
  font-size: 11px;
  color: var(--text-muted);
  font-weight: normal;
}

.strategySelectorOptionDesc {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 4px;
  line-height: 1.4;
}

/* ==================== Work On Modal ==================== */

.workOnModal {
  width: 90%;
  max-width: 480px;
  background: #000000;
  border: 2px solid var(--terminal-green);
  border-radius: 12px;
  box-shadow:
    0 0 40px rgba(var(--theme-primary-rgb), 0.4),
    0 20px 60px rgba(0, 0, 0, 0.9);
  position: relative;
  overflow: hidden;
  animation: slideUp 0.3s ease-out;
}

.workOnModal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.15) 0px,
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px);
  pointer-events: none;
  z-index: 1;
  opacity: 0.3;
}

.workOnModalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
  border-bottom: 1px solid var(--terminal-border);
  position: relative;
  z-index: 2;
}

.workOnModalHeaderContent {
  display: flex;
  align-items: center;
  gap: 12px;
}

.workOnModalIcon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: rgba(var(--theme-primary-rgb), 0.15);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--terminal-green);
}

.workOnModalIcon svg {
  width: 18px;
  height: 18px;
}

.workOnModalTitle {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--terminal-green);
  font-family: 'JetBrains Mono', monospace;
  text-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.5);
}

.workOnModalSubtitle {
  margin: 2px 0 0 0;
  font-size: 12px;
  color: var(--terminal-text-dim);
}

.workOnModalClose {
  width: 32px;
  height: 32px;
  border: 1px solid var(--terminal-border);
  background: transparent;
  border-radius: 6px;
  color: var(--terminal-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.workOnModalClose:hover {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.workOnModalClose svg {
  width: 16px;
  height: 16px;
}

.workOnModalBody {
  padding: 20px;
  position: relative;
  z-index: 2;
  background: rgba(var(--theme-primary-rgb), 0.02);
}

.workOnModalTask {
  background: rgba(var(--theme-primary-rgb), 0.05);
  border: 1px solid var(--terminal-border);
  border-radius: 8px;
  padding: 14px;
  margin-bottom: 16px;
}

.workOnModalTaskLabel {
  font-size: 10px;
  color: var(--terminal-amber);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
  font-family: 'JetBrains Mono', monospace;
}

.workOnModalTaskLabel::before {
  content: '//';
  margin-right: 4px;
  opacity: 0.5;
}

.workOnModalTaskTitle {
  font-size: 14px;
  font-weight: 500;
  color: var(--terminal-text);
  margin-bottom: 4px;
}

.workOnModalTaskId {
  font-size: 11px;
  color: var(--terminal-text-dim);
  font-family: "JetBrains Mono", monospace;
}

.workOnModalHint {
  display: flex;
  gap: 10px;
  padding: 12px;
  background: rgba(59, 130, 246, 0.08);
  border: 1px solid rgba(59, 130, 246, 0.25);
  border-radius: 8px;
  margin-top: 16px;
}

.workOnModalHintIcon {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(59, 130, 246, 0.25);
  color: #60a5fa;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  flex-shrink: 0;
  font-family: 'JetBrains Mono', monospace;
}

.workOnModalHintText {
  font-size: 12px;
  color: var(--terminal-text-dim);
  line-height: 1.5;
}

.workOnModalHintText code {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border: 1px solid var(--terminal-border);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: "JetBrains Mono", monospace;
  font-size: 11px;
  color: var(--terminal-green);
}

.workOnModalActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 16px 20px;
  border-top: 1px solid var(--terminal-border);
  background: linear-gradient(180deg, #0d0d0d 0%, #000000 100%);
  position: relative;
  z-index: 2;
}

.workOnModalBtn {
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  text-transform: lowercase;
  letter-spacing: 0.03em;
  cursor: pointer;
  transition: all 0.2s ease;
}

.workOnModalBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.workOnModalBtnSecondary {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-text-dim);
}

.workOnModalBtnSecondary:hover:not(:disabled) {
  border-color: var(--terminal-green);
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.workOnModalBtnPrimary {
  background: transparent;
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
}

.workOnModalBtnPrimary:hover:not(:disabled) {
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: 0 0 16px rgba(var(--theme-primary-rgb), 0.5);
}

/* Terminal-themed Strategy Selector */
.workOnModal .strategySelector {
  margin: 0;
}

.workOnModal .strategySelectorTitle {
  color: var(--terminal-amber);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.workOnModal .strategySelectorTitle::before {
  content: '//';
  margin-right: 4px;
  opacity: 0.5;
}

.workOnModal .strategySelectorOption {
  background: rgba(var(--theme-primary-rgb), 0.03);
  border-color: var(--terminal-border);
}

.workOnModal .strategySelectorOption:hover {
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.06);
}

.workOnModal .strategySelectorOption--selected {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  box-shadow: 0 0 12px rgba(var(--theme-primary-rgb), 0.2);
}

.workOnModal .strategySelectorOptionTitle {
  color: var(--terminal-text);
  font-family: 'JetBrains Mono', monospace;
}

.workOnModal .strategySelectorOptionIcon {
  color: var(--terminal-green);
}

.workOnModal .strategySelectorOptionDefault {
  color: var(--terminal-text-dim);
}

.workOnModal .strategySelectorOptionDesc {
  color: var(--terminal-text-dim);
  font-size: 11px;
}

/* ==================== Timeline Components ==================== */

.timelineEvent {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 4px 0;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
}

.timelineEvent--compact {
  padding: 2px 0;
  font-size: 10px;
}

.timelineEvent--highlighted {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-radius: 2px;
  padding: 4px 6px;
  margin: -4px -6px;
}

.timelineEventDot {
  flex-shrink: 0;
  width: 16px;
  text-align: center;
  font-size: 12px;
}

.timelineEvent--session .timelineEventDot { color: #6B8AFD; }
.timelineEvent--started .timelineEventDot { color: #22D3EE; }
.timelineEvent--completed .timelineEventDot { color: #10B981; }
.timelineEvent--failed .timelineEventDot { color: #EF4444; }
.timelineEvent--skipped .timelineEventDot { color: #94A3B8; }
.timelineEvent--blocked .timelineEventDot { color: #F59E0B; }
.timelineEvent--warning .timelineEventDot { color: #F59E0B; }
.timelineEvent--progress .timelineEventDot { color: #8B5CF6; }
.timelineEvent--error .timelineEventDot { color: #EF4444; }
.timelineEvent--milestone .timelineEventDot { color: #F59E0B; }

.timelineEventTime {
  flex-shrink: 0;
  width: 50px;
  color: var(--muted);
  font-size: 10px;
}

.timelineEventContent {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  gap: 4px 8px;
  min-width: 0;
}

.timelineEventType {
  color: var(--text);
  font-weight: 500;
  text-transform: capitalize;
}

.timelineEventMessage {
  color: var(--muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.timelineEventTaskId {
  color: var(--accent);
  font-size: 9px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  padding: 1px 4px;
  border-radius: 2px;
}

/* Session Timeline */
.sessionTimeline {
  margin: 8px 0;
}

.sessionTimeline--empty {
  opacity: 0.6;
}

.sessionTimeline--compact .timelineEvent {
  font-size: 10px;
  padding: 2px 0;
}

.sessionTimelineHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  background: none;
  border: none;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

.sessionTimelineHeader:hover {
  color: var(--theme-primary);
}

.sessionTimelineToggle {
  color: var(--muted);
}

.sessionTimelineTitle {
  font-weight: 500;
}

.sessionTimelineCount {
  color: var(--muted);
  font-size: 10px;
}

.sessionTimelineContent {
  padding-left: 16px;
}

.sessionTimelineFilters {
  display: flex;
  gap: 4px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.sessionTimelineFilterBtn {
  padding: 2px 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s ease;
}

.sessionTimelineFilterBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.sessionTimelineFilterBtn.active {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--theme-primary);
  color: var(--theme-primary);
}

.sessionTimelineEvents {
  display: flex;
  flex-direction: column;
}

.sessionTimelineEmpty {
  color: var(--muted);
  font-size: 11px;
  font-style: italic;
  padding: 8px 0;
}

.sessionTimelineShowMore {
  margin-top: 8px;
  padding: 4px 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.3);
  border-radius: 2px;
  color: var(--theme-primary);
  cursor: pointer;
}

.sessionTimelineShowMore:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
}

/* Aggregated Timeline */
.aggregatedTimeline {
  margin: 8px 0;
}

.aggregatedTimelineHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  background: none;
  border: none;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

.aggregatedTimelineHeader:hover {
  color: var(--theme-primary);
}

.aggregatedTimelineToggle {
  color: var(--muted);
}

.aggregatedTimelineTitle {
  font-weight: 500;
}

.aggregatedTimelineCount {
  color: var(--muted);
  font-size: 10px;
}

.aggregatedTimelineContent {
  padding-left: 16px;
}

.aggregatedTimelineFilters {
  display: flex;
  gap: 4px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.aggregatedTimelineFilterBtn {
  padding: 2px 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s ease;
}

.aggregatedTimelineFilterBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.aggregatedTimelineFilterBtn.active {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--theme-primary);
  color: var(--theme-primary);
}

.aggregatedTimelineEvents {
  display: flex;
  flex-direction: column;
}

.aggregatedTimelineEventRow {
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.aggregatedTimelineEventSession {
  flex-shrink: 0;
  width: 80px;
  font-size: 9px;
  color: var(--accent);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-top: 4px;
}

.aggregatedTimelineEmpty {
  color: var(--muted);
  font-size: 11px;
  font-style: italic;
  padding: 8px 0;
}

/* ==================== Strategy Badge ==================== */

.strategyBadge {
  display: inline-flex;
  align-items: center;
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  font-weight: 500;
  border-radius: 2px;
  text-transform: uppercase;
}

.strategyBadge--compact {
  padding: 1px 4px;
  font-size: 8px;
}

.strategyBadge--simple {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
  border: 1px solid rgba(148, 163, 184, 0.3);
}

.strategyBadge--queue {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
  border: 1px solid rgba(34, 211, 238, 0.3);
}

/* Queue Item Status Badge */
.queueItemStatusBadge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  font-weight: 500;
  border-radius: 2px;
}

.queueItemStatusBadge--compact {
  padding: 1px 4px;
  font-size: 8px;
}

.queueItemStatusSymbol {
  font-size: 10px;
}

.queueItemStatusBadge--queued {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.queueItemStatusBadge--processing {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
}

.queueItemStatusBadge--completed {
  background: rgba(16, 185, 129, 0.15);
  color: #10B981;
}

.queueItemStatusBadge--failed {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.queueItemStatusBadge--skipped {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

/* Priority Badge */
.priorityBadge {
  display: inline-flex;
  align-items: center;
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  font-weight: 500;
  border-radius: 2px;
}

.priorityBadge--compact {
  padding: 1px 4px;
  font-size: 8px;
}

.priorityBadge--low {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.priorityBadge--medium {
  background: rgba(245, 158, 11, 0.15);
  color: #F59E0B;
}

.priorityBadge--high {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

/* ==================== Session Details Section ==================== */

.sessionDetailsSection {
  margin: 8px 0;
}

.sessionDetailsSection--compact {
  font-size: 10px;
}

.sessionDetailsSectionHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  background: none;
  border: none;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

.sessionDetailsSectionHeader:hover {
  color: var(--theme-primary);
}

.sessionDetailsSectionToggle {
  color: var(--muted);
}

.sessionDetailsSectionTitle {
  font-weight: 500;
}

.sessionDetailsSectionContent {
  padding-left: 16px;
}

.sessionDetailsGrid {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 4px 12px;
  font-size: 11px;
}

.sessionDetailsRow {
  display: contents;
}

.sessionDetailsLabel {
  color: var(--muted);
  white-space: nowrap;
}

.sessionDetailsValue {
  color: var(--text);
  word-break: break-word;
}

.sessionDetailsValue--mono {
  font-family: 'JetBrains Mono', monospace;
}

.sessionDetailsValue--strategy-simple {
  color: #94A3B8;
}

.sessionDetailsValue--strategy-queue {
  color: #22D3EE;
}

.sessionDetailsValue--status-spawning { color: #6B8AFD; }
.sessionDetailsValue--status-idle { color: #94A3B8; }
.sessionDetailsValue--status-working { color: #22D3EE; }
.sessionDetailsValue--status-completed { color: #10B981; }
.sessionDetailsValue--status-failed { color: #EF4444; }
.sessionDetailsValue--status-stopped { color: #94A3B8; }

.sessionDetailsValue--role-worker { color: #22D3EE; }
.sessionDetailsValue--role-orchestrator { color: #F59E0B; }

.sessionDetailsGroup {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.sessionDetailsGroupHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.sessionDetailsGroupTitle {
  font-size: 10px;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.sessionDetailsShowBtn {
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  color: var(--muted);
  cursor: pointer;
}

.sessionDetailsShowBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.sessionDetailsEnvList {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
}

.sessionDetailsEnvRow {
  display: flex;
  gap: 8px;
}

.sessionDetailsEnvKey {
  color: var(--accent);
}

.sessionDetailsEnvValue {
  color: var(--muted);
  word-break: break-all;
}

/* Session Details Summary */
.sessionDetailsSummary {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 10px;
  color: var(--muted);
  font-family: 'JetBrains Mono', monospace;
}

.sessionDetailsSummarySep {
  opacity: 0.5;
}

/* ==================== Queue Status Display ==================== */

.queueStatusDisplay {
  margin: 8px 0;
}

.queueStatusDisplay--compact {
  font-size: 10px;
}

.queueStatusHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  background: none;
  border: none;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

.queueStatusHeader:hover {
  color: var(--theme-primary);
}

.queueStatusToggle {
  color: var(--muted);
}

.queueStatusTitle {
  font-weight: 500;
}

.queueStatusCount {
  color: var(--muted);
  font-size: 10px;
}

.queueStatusProgress {
  margin-left: auto;
  font-size: 9px;
  color: var(--theme-primary);
}

.queueStatusContent {
  padding-left: 16px;
}

.queueStatusStats {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 8px;
  font-size: 10px;
}

.queueStatusStat {
  padding: 2px 6px;
  border-radius: 2px;
}

.queueStatusStat--queued {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.queueStatusStat--processing {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
}

.queueStatusStat--completed {
  background: rgba(16, 185, 129, 0.15);
  color: #10B981;
}

.queueStatusStat--failed {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.queueStatusStat--skipped {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.queueStatusItems {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.queueStatusItem {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  font-size: 11px;
  transition: all 0.15s ease;
}

.queueStatusItem:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.08);
}

.queueStatusItem--current {
  background: rgba(var(--theme-primary-rgb), 0.08);
  border-color: rgba(var(--theme-primary-rgb), 0.2);
}

.queueStatusItemPosition {
  flex-shrink: 0;
  width: 24px;
  color: var(--muted);
  font-size: 10px;
  font-weight: 500;
}

.queueStatusItemTitle {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--text);
}

.queueStatusItemMeta {
  flex-shrink: 0;
  font-size: 9px;
  color: var(--muted);
}

.queueStatusItemError {
  color: #EF4444;
}

.queueStatusItemAction {
  flex-shrink: 0;
  padding: 2px 6px;
  background: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  color: var(--muted);
  cursor: pointer;
  font-size: 10px;
}

.queueStatusItemAction:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
}

/* Queue Indicator (compact) */
.queueIndicator {
  padding: 1px 4px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 8px;
  font-weight: 500;
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
  border-radius: 2px;
}

/* ==================== Session In Task View ==================== */

.sessionInTaskView {
  margin: 4px 0;
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.02);
  transition: all 0.15s ease;
}

.sessionInTaskView:hover {
  border-color: rgba(255, 255, 255, 0.08);
}

.sessionInTaskView--expanded {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.1);
}

.sessionInTaskViewHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  cursor: pointer;
}

.sessionInTaskViewHeader:hover {
  background: rgba(255, 255, 255, 0.02);
}

.sessionInTaskViewToggle {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 10px;
  padding: 0;
  cursor: pointer;
}

.sessionInTaskViewStatus {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  font-weight: 500;
  border-radius: 2px;
}

.sessionInTaskViewStatus--spawning {
  background: rgba(107, 138, 253, 0.15);
  color: #6B8AFD;
}

.sessionInTaskViewStatus--idle {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.sessionInTaskViewStatus--working {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
}

.sessionInTaskViewStatus--completed {
  background: rgba(16, 185, 129, 0.15);
  color: #10B981;
}

.sessionInTaskViewStatus--failed {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.sessionInTaskViewStatus--stopped {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.sessionInTaskViewName {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 500;
  color: var(--text);
}

.sessionInTaskViewActivity {
  font-size: 10px;
  color: var(--muted);
}

.sessionInTaskViewActions {
  display: flex;
  gap: 4px;
}

.sessionInTaskViewJumpBtn {
  padding: 2px 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.3);
  border-radius: 2px;
  color: var(--theme-primary);
  cursor: pointer;
}

.sessionInTaskViewJumpBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.15);
}

.sessionInTaskViewRemoveBtn {
  padding: 2px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 2px;
  color: #EF4444;
  cursor: pointer;
}

.sessionInTaskViewRemoveBtn:hover {
  background: rgba(239, 68, 68, 0.15);
}

.sessionInTaskViewMeta {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px 8px 34px;
  font-size: 10px;
  color: var(--muted);
}

.sessionInTaskViewOtherTasks {
  opacity: 0.8;
}

.sessionInTaskViewQueueStatus {
  padding: 1px 4px;
  border-radius: 2px;
  font-size: 9px;
}

.sessionInTaskViewQueueStatus--queued {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.sessionInTaskViewQueueStatus--processing {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
}

.sessionInTaskViewQueueStatus--completed {
  background: rgba(16, 185, 129, 0.15);
  color: #10B981;
}

.sessionInTaskViewQueueStatus--failed {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.sessionInTaskViewQueueStatus--skipped {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.sessionInTaskViewExpanded {
  padding: 0 10px 10px 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* ==================== Maestro Session Content ==================== */

.maestroSessionContent {
  width: 100%;
  margin-top: 8px;
  padding: 8px 16px;
  font-family: 'JetBrains Mono', monospace;
}

.maestroSessionContent--loading {
  opacity: 0.6;
}

.maestroSessionContentLoading {
  font-size: 11px;
  color: var(--muted);
  font-style: italic;
  padding: 8px 0;
}

.maestroSessionContentHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.maestroSessionContentActivity {
  font-size: 10px;
  color: var(--muted);
}

.maestroSessionContentEventCount {
  font-size: 9px;
  color: var(--accent);
  margin-left: auto;
}

/* Session Tabs */
.maestroSessionTabs {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  margin-bottom: 8px;
}

.maestroSessionTab {
  background: transparent;
  border: none;
  color: var(--muted);
  padding: 4px 8px;
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  transition: all 0.15s ease;
}

.maestroSessionTab:hover {
  color: var(--text);
}

.maestroSessionTab--active {
  color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.1);
  border-radius: 3px;
}

.maestroSessionTabContent {
  min-height: 60px;
}

.maestroSessionTabPane {
  animation: tabFadeIn 0.15s ease;
}

/* Queue Section in Tasks Tab */
.maestroSessionQueueSection {
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
}

.maestroSessionQueueHeader {
  font-size: 10px;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

.maestroSessionContentSection {
  margin: 8px 0;
}

.maestroSessionContentSectionHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  background: none;
  border: none;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

.maestroSessionContentSectionHeader:hover {
  color: var(--theme-primary);
}

.maestroSessionContentSectionBody {
  padding-left: 16px;
}

.maestroSessionContentEmpty {
  font-size: 11px;
  color: var(--muted);
  font-style: italic;
  padding: 8px 0;
}

.maestroSessionContentTaskList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.maestroSessionContentTaskGroup {
  display: flex;
  flex-direction: column;
}

.maestroSessionContentTask {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 6px;
  border-radius: 2px;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.maestroSessionContentTask:hover {
  background: rgba(255, 255, 255, 0.05);
}

.maestroSessionContentTask--subtask {
  padding-left: 18px;
  font-size: 10px;
  color: var(--muted);
}

.maestroSessionContentSubtaskPrefix {
  color: var(--muted);
  opacity: 0.5;
}

.maestroSessionContentTaskStatus {
  font-size: 9px;
  padding: 1px 4px;
  border-radius: 2px;
  font-weight: 500;
}

.maestroSessionContentTaskStatus--todo {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.maestroSessionContentTaskStatus--in_progress {
  background: rgba(34, 211, 238, 0.15);
  color: #22D3EE;
}

.maestroSessionContentTaskStatus--completed {
  background: rgba(16, 185, 129, 0.15);
  color: #10B981;
}

.maestroSessionContentTaskStatus--cancelled {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.maestroSessionContentTaskStatus--blocked {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.maestroSessionContentTaskSessionStatus {
  font-size: 8px;
  padding: 1px 3px;
  border-radius: 2px;
  text-transform: uppercase;
}

.maestroSessionContentTaskSessionStatus--queued {
  background: rgba(148, 163, 184, 0.1);
  color: #94A3B8;
}

.maestroSessionContentTaskSessionStatus--working {
  background: rgba(16, 185, 129, 0.1);
  color: #10B981;
}

.maestroSessionContentTaskSessionStatus--needs_input {
  background: rgba(245, 158, 11, 0.1);
  color: #F59E0B;
}

.maestroSessionContentTaskSessionStatus--blocked {
  background: rgba(239, 68, 68, 0.1);
  color: #EF4444;
}

.maestroSessionContentTaskSessionStatus--completed {
  background: rgba(16, 185, 129, 0.1);
  color: #10B981;
}

.maestroSessionContentTaskSessionStatus--failed {
  background: rgba(239, 68, 68, 0.1);
  color: #EF4444;
}

.maestroSessionContentTaskSessionStatus--skipped {
  background: rgba(148, 163, 184, 0.1);
  color: #94A3B8;
}

.maestroSessionContentTaskTitle {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 11px;
  font-weight: 500;
  color: var(--text);
}

.maestroSessionContentTask--subtask .maestroSessionContentTaskTitle {
  font-weight: 400;
  color: var(--muted);
}

.maestroSessionContentTaskPriority {
  font-size: 9px;
  padding: 1px 4px;
  border-radius: 2px;
}

.maestroSessionContentTaskPriority--low {
  background: rgba(148, 163, 184, 0.15);
  color: #94A3B8;
}

.maestroSessionContentTaskPriority--medium {
  background: rgba(245, 158, 11, 0.15);
  color: #F59E0B;
}

.maestroSessionContentTaskPriority--high {
  background: rgba(239, 68, 68, 0.15);
  color: #EF4444;
}

.maestroSessionContentTaskJump {
  padding: 2px 6px;
  background: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  color: var(--muted);
  cursor: pointer;
  font-size: 10px;
  opacity: 0;
  transition: opacity 0.15s ease;
}

.maestroSessionContentTask:hover .maestroSessionContentTaskJump {
  opacity: 1;
}

.maestroSessionContentTaskJump:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
}

.maestroSessionContentSubtasks {
  display: flex;
  flex-direction: column;
}

/* ==================== Terminal Session Strategy Indicator ==================== */

/* Legacy - replaced by terminalSessionStrategyTag */

/* ==================== Terminal Loading Spinner ==================== */

.terminalLoadingSpinner {
  display: inline-block;
  margin-left: 6px;
  animation: terminalSpin 1s linear infinite;
}

@keyframes terminalSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ==================== Terminal Sessions List ==================== */

.terminalSessionsList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* ==================== Terminal Timeline Section ==================== */

.terminalTimelineSection {
  margin-top: 8px;
}

.terminalSessionsSection {
  margin-top: 8px;
}

/* ==================== Execution Bar ==================== */

.executionBar {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  border-bottom: 1px solid var(--terminal-border);
  background: rgba(var(--theme-primary-rgb), 0.02);
  gap: 10px;
  position: relative;
  z-index: 2;
}

.executionBar--active {
  background: rgba(var(--theme-primary-rgb), 0.06);
  border-bottom-color: var(--terminal-green);
  justify-content: space-between;
}

.executionBarStrategy {
  display: flex;
  align-items: center;
  gap: 6px;
}

.executionBarStrategyChip {
  background: transparent;
  border: 1px solid var(--terminal-border);
  color: var(--terminal-dim);
  padding: 4px 12px;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
  cursor: pointer;
  transition: all 0.15s ease;
  letter-spacing: 0.03em;
}

.executionBarStrategyChip:hover {
  border-color: var(--terminal-green);
  color: var(--terminal-text);
}

.executionBarStrategyChip--selected {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.15);
  color: var(--terminal-green);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.executionBarActions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.executionBarActions .terminalCmd:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

/* Orchestrate button */
.terminalCmdOrchestrate {
  border-color: var(--terminal-amber, #ffab00);
  background: rgba(255, 171, 0, 0.08);
  box-shadow: 0 0 8px rgba(255, 171, 0, 0.2);
}

.terminalCmdOrchestrate:hover {
  background: rgba(255, 171, 0, 0.15);
  box-shadow: 0 0 16px rgba(255, 171, 0, 0.4);
}

/* Orchestrate active mode */
.executionBar--orchestrate {
  border-bottom-color: var(--terminal-amber, #ffab00);
  background: rgba(255, 171, 0, 0.06);
}

.executionBar--orchestrate .executionBarStrategyChip:hover {
  border-color: var(--terminal-amber, #ffab00);
  color: var(--terminal-text);
}

.executionBar--orchestrate .executionBarStrategyChip--selected {
  border-color: var(--terminal-amber, #ffab00);
  background: rgba(255, 171, 0, 0.15);
  color: var(--terminal-amber, #ffab00);
  box-shadow: 0 0 8px rgba(255, 171, 0, 0.2);
}

/* ==================== Execution Mode Panel Glow ==================== */

.maestroPanel--executionMode {
  border-left-color: var(--terminal-cyan, #00e5ff) !important;
  box-shadow:
    -8px 0 32px rgba(0, 229, 255, 0.2),
    inset 0 0 60px rgba(0, 229, 255, 0.03) !important;
}

/* ==================== Task Checkbox (Selection Mode) ==================== */

.terminalTaskRow--selectable {
  cursor: pointer;
}

.terminalTaskCheckbox {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-right: 8px;
  cursor: pointer;
}

.terminalTaskCheckbox input[type="checkbox"] {
  display: none;
}

.terminalTaskCheckmark {
  width: 16px;
  height: 16px;
  border: 1px solid var(--terminal-border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: var(--terminal-green);
  transition: all 0.15s ease;
  font-family: 'JetBrains Mono', monospace;
}

.terminalTaskCheckmark--checked {
  border-color: var(--terminal-green);
  background: rgba(var(--theme-primary-rgb), 0.15);
  box-shadow: 0 0 6px rgba(var(--theme-primary-rgb), 0.3);
}

.terminalTaskCheckbox:hover .terminalTaskCheckmark {
  border-color: var(--terminal-green);
}

/* ------------------------------------------------------------------ */
/*  Themed Modal (matches projectSettingsDialog design system)         */
/* ------------------------------------------------------------------ */

.themedModalBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.themedModal {
  background: #000000;
  border: 2px solid var(--theme-primary);
  min-width: 360px;
  max-width: 500px;
  width: 100%;
  box-shadow: 0 0 30px rgba(var(--theme-primary-rgb), 0.3),
    inset 0 0 60px rgba(var(--theme-primary-rgb), 0.03);
  font-family: 'JetBrains Mono', monospace;
}

.themedModalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.themedModalTitle {
  font-size: 13px;
  font-weight: 600;
  color: var(--theme-primary);
  letter-spacing: 1px;
}

.themedModalClose {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--theme-border);
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.6);
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.themedModalClose:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.themedModalContent {
  padding: 16px;
}

.themedFormRow {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 14px;
}

.themedFormLabel {
  font-size: 11px;
  font-weight: 600;
  color: var(--theme-primary);
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.themedFormInput {
  border: 1px solid var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
  color: var(--theme-primary);
  padding: 8px 10px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  outline: none;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.themedFormInput:focus {
  border-color: var(--theme-primary);
  box-shadow: 0 0 8px rgba(var(--theme-primary-rgb), 0.2);
}

.themedFormInput::placeholder {
  color: rgba(var(--theme-primary-rgb), 0.3);
}

.themedFormSelect {
  border: 1px solid var(--theme-border);
  background: #000000;
  color: var(--theme-primary);
  padding: 8px 10px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  outline: none;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

.themedFormSelect:focus {
  border-color: var(--theme-primary);
}

.themedFormHint {
  font-size: 10px;
  color: rgba(var(--theme-primary-rgb), 0.4);
  margin-top: 2px;
}

.themedFormActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 12px 16px;
  border-top: 1px solid var(--theme-border);
}

.themedBtn {
  border: 1px solid var(--theme-border);
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.7);
  padding: 6px 14px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.themedBtn:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.themedBtnPrimary {
  border-color: var(--theme-primary);
  color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.1);
}

.themedBtnPrimary:hover {
  background: rgba(var(--theme-primary-rgb), 0.2);
  box-shadow: 0 0 10px rgba(var(--theme-primary-rgb), 0.3);
}

.themedBtnDanger {
  border-color: rgba(255, 80, 80, 0.5);
  color: #ff5050;
  background: rgba(255, 80, 80, 0.08);
}

.themedBtnDanger:hover {
  background: rgba(255, 80, 80, 0.15);
  border-color: #ff5050;
  box-shadow: 0 0 10px rgba(255, 80, 80, 0.3);
}

.themedBtnSuccess {
  border-color: rgba(16, 185, 129, 0.5);
  color: #10b981;
  background: rgba(16, 185, 129, 0.08);
}

.themedBtnSuccess:hover {
  background: rgba(16, 185, 129, 0.15);
  border-color: #10b981;
  box-shadow: 0 0 10px rgba(16, 185, 129, 0.3);
}

.themedBtn:disabled {
  opacity: 0.35;
  cursor: not-allowed;
  pointer-events: none;
}

/* ------------------------------------------------------------------ */
/*  Themed Segmented Control (priority / model selectors)              */
/* ------------------------------------------------------------------ */

.themedSegmentedControl {
  display: flex;
  gap: 0;
  border: 1px solid var(--theme-border);
}

.themedSegmentedBtn {
  border: none;
  background: transparent;
  color: rgba(var(--theme-primary-rgb), 0.5);
  padding: 5px 14px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-right: 1px solid var(--theme-border);
}

.themedSegmentedBtn:last-child {
  border-right: none;
}

.themedSegmentedBtn:hover {
  color: rgba(var(--theme-primary-rgb), 0.8);
  background: rgba(var(--theme-primary-rgb), 0.05);
}

.themedSegmentedBtn.active {
  color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.12);
  box-shadow: inset 0 0 12px rgba(var(--theme-primary-rgb), 0.08);
}

/* ------------------------------------------------------------------ */
/*  Themed Task Status Badge                                            */
/* ------------------------------------------------------------------ */

.themedTaskStatusBadge {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  padding: 2px 8px;
  border: 1px solid var(--theme-border);
  color: rgba(var(--theme-primary-rgb), 0.7);
}

.themedTaskStatusBadge[data-status="in_progress"] {
  border-color: rgba(var(--theme-primary-rgb), 0.4);
  color: var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.08);
}

.themedTaskStatusBadge[data-status="completed"] {
  border-color: rgba(16, 185, 129, 0.4);
  color: #10b981;
  background: rgba(16, 185, 129, 0.08);
}

.themedTaskStatusBadge[data-status="blocked"] {
  border-color: rgba(255, 80, 80, 0.4);
  color: #ff5050;
  background: rgba(255, 80, 80, 0.08);
}

.themedTaskStatusBadge[data-status="cancelled"] {
  border-color: rgba(var(--theme-primary-rgb), 0.2);
  color: rgba(var(--theme-primary-rgb), 0.4);
  background: rgba(var(--theme-primary-rgb), 0.03);
}

/* ------------------------------------------------------------------ */
/*  Themed Subtask Items                                                */
/* ------------------------------------------------------------------ */

.themedSubtaskItem {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: rgba(var(--theme-primary-rgb), 0.7);
  border: 1px solid transparent;
  transition: all 0.2s ease;
}

.themedSubtaskItem:hover {
  border-color: var(--theme-border);
  background: rgba(var(--theme-primary-rgb), 0.03);
}

.themedSubtaskItem[data-completed="true"] {
  opacity: 0.5;
}

.themedSubtaskCheckbox {
  cursor: pointer;
  color: var(--theme-primary);
  flex-shrink: 0;
}

.themedSubtaskTitle {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.themedPathRow {
  display: flex;
  gap: 8px;
  align-items: stretch;
}

.themedPathRow .themedFormInput {
  flex: 1;
  min-width: 0;
}

.themedPathActions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 4px;
}

.themedCheckRow {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: rgba(var(--theme-primary-rgb), 0.7);
  user-select: none;
  cursor: pointer;
}

.themedCheckRow input[type="checkbox"] {
  width: 14px;
  height: 14px;
  accent-color: var(--theme-primary);
}

/* ------------------------------------------------------------------ */
/*  Themed Modal -- Wide modifier                                      */
/* ------------------------------------------------------------------ */

.themedModal--wide {
  max-width: 720px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
}

.themedModal--wide form {
  display: flex;
  flex-direction: column;
  min-height: 0;
  flex: 1;
}

.themedModal--wide .themedModalContent {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
}

.themedModal--wide .themedModalContent::-webkit-scrollbar {
  width: 6px;
}

.themedModal--wide .themedModalContent::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

.themedModal--wide .themedModalContent::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.25);
  border-radius: 3px;
}

.themedModal--wide .themedModalContent::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.45);
}

/* ------------------------------------------------------------------ */
/*  Inline Folder Browser (themed)                                     */
/* ------------------------------------------------------------------ */

.themedFolderBrowser {
  border: 1px solid var(--theme-border);
  display: flex;
  flex-direction: column;
  max-height: 300px;
  font-family: 'JetBrains Mono', monospace;
}

.themedBreadcrumb {
  display: flex;
  align-items: center;
  padding: 6px 10px;
  border-bottom: 1px solid var(--theme-border);
  overflow-x: auto;
  white-space: nowrap;
  gap: 2px;
  flex-shrink: 0;
}

.themedBreadcrumbSegment {
  background: none;
  border: none;
  color: rgba(var(--theme-primary-rgb), 0.7);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  padding: 2px 4px;
  transition: color 0.15s ease;
}

.themedBreadcrumbSegment:hover {
  color: var(--theme-primary);
  text-decoration: underline;
}

.themedBreadcrumbSeparator {
  color: rgba(var(--theme-primary-rgb), 0.3);
  font-size: 11px;
  user-select: none;
}

.themedFolderToolbar {
  display: flex;
  padding: 6px 10px;
  border-bottom: 1px solid var(--theme-border);
  flex-shrink: 0;
}

.themedFolderList {
  flex: 1;
  overflow-y: auto;
  min-height: 0;
}

.themedFolderList::-webkit-scrollbar {
  width: 6px;
}

.themedFolderList::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

.themedFolderList::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.25);
  border-radius: 3px;
}

.themedFolderList::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.45);
}

.themedFolderItem {
  display: block;
  width: 100%;
  text-align: left;
  background: none;
  border: none;
  border-bottom: 1px solid var(--theme-border);
  color: rgba(var(--theme-primary-rgb), 0.7);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  padding: 6px 12px;
  cursor: pointer;
  transition: background 0.15s ease, color 0.15s ease;
}

.themedFolderItem:hover {
  background: rgba(var(--theme-primary-rgb), 0.1);
  color: var(--theme-primary);
}

.themedFolderItem:last-child {
  border-bottom: none;
}

.themedFolderEmpty {
  padding: 16px;
  text-align: center;
  font-size: 11px;
  color: rgba(var(--theme-primary-rgb), 0.4);
}

.themedFolderError {
  padding: 8px 12px;
  font-size: 11px;
  color: rgba(255, 100, 100, 0.9);
  background: rgba(255, 50, 50, 0.08);
  border-bottom: 1px solid var(--theme-border);
  flex-shrink: 0;
}

.themedBrowseToggle {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: 1px solid var(--theme-border);
  color: rgba(var(--theme-primary-rgb), 0.6);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  padding: 4px 10px;
  cursor: pointer;
  transition: color 0.15s ease, border-color 0.15s ease;
}

.themedBrowseToggle:hover {
  color: var(--theme-primary);
  border-color: var(--theme-primary);
}

.themedBrowseToggleArrow {
  display: inline-block;
  font-size: 8px;
  transition: transform 0.15s ease;
}

.themedBrowseToggleArrow--open {
  transform: rotate(90deg);
}

/* ------------------------------------------------------------------ */
/*  Empty State (no projects)                                          */
/* ------------------------------------------------------------------ */

.emptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 16px;
  font-family: 'JetBrains Mono', monospace;
}

.emptyStateTitle {
  font-size: 18px;
  font-weight: 700;
  color: var(--theme-primary);
  letter-spacing: 2px;
}

.emptyStateHint {
  font-size: 12px;
  color: rgba(var(--theme-primary-rgb), 0.5);
}

.emptyStateBtn {
  margin-top: 8px;
  border: 2px solid var(--theme-primary);
  background: rgba(var(--theme-primary-rgb), 0.08);
  color: var(--theme-primary);
  padding: 10px 24px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.emptyStateBtn:hover {
  background: rgba(var(--theme-primary-rgb), 0.18);
  box-shadow: 0 0 20px rgba(var(--theme-primary-rgb), 0.3);
}

/* ------------------------------------------------------------------ */
/*  Tab Drag Reorder                                                   */
/* ------------------------------------------------------------------ */

.projectTabDragging {
  opacity: 0.4;
}

.projectTabDropBefore {
  box-shadow: inset 2px 0 0 var(--theme-primary);
}

.projectTabDropAfter {
  box-shadow: inset -2px 0 0 var(--theme-primary);
}

/* ------------------------------------------------------------------ */
/*  Themed Warning (for delete error)                                  */
/* ------------------------------------------------------------------ */

.themedWarning {
  padding: 12px 16px;
  border: 1px solid rgba(255, 180, 0, 0.4);
  background: rgba(255, 180, 0, 0.06);
  color: rgba(255, 200, 60, 0.9);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  line-height: 1.5;
  margin: 0 16px 12px;
}

/* ------------------------------------------------------------------ */
/*  Session Detail Modal                                               */
/* ------------------------------------------------------------------ */

/* Status badges */
.sessionDetailStatusBadge {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 3px 7px;
  border-radius: 3px;
  border: 1px solid;
  line-height: 1;
}

.sessionDetailStatusBadge--spawning {
  background: rgba(255, 176, 0, 0.15);
  border-color: rgba(255, 176, 0, 0.35);
  color: var(--terminal-amber);
}

.sessionDetailStatusBadge--idle {
  background: rgba(128, 128, 128, 0.15);
  border-color: rgba(128, 128, 128, 0.3);
  color: var(--terminal-text-dim);
}

.sessionDetailStatusBadge--working {
  background: rgba(0, 217, 255, 0.15);
  border-color: var(--terminal-cyan);
  color: var(--terminal-cyan);
}

.sessionDetailStatusBadge--completed {
  background: rgba(var(--theme-primary-rgb), 0.15);
  border-color: var(--terminal-green);
  color: var(--terminal-green);
}

.sessionDetailStatusBadge--failed {
  background: rgba(255, 59, 59, 0.15);
  border-color: var(--terminal-red);
  color: var(--terminal-red);
}

.sessionDetailStatusBadge--stopped {
  background: rgba(128, 128, 128, 0.15);
  border-color: rgba(128, 128, 128, 0.3);
  color: var(--terminal-gray);
}

/* Model and role badges */
.sessionDetailModelBadge,
.sessionDetailRoleBadge {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 3px 7px;
  border-radius: 3px;
  line-height: 1;
  border: 1px solid rgba(128, 128, 128, 0.3);
  background: rgba(128, 128, 128, 0.1);
  color: var(--terminal-text-dim);
}

/* Info grid */
.sessionDetailInfoGrid {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.sessionDetailInfoRow {
  display: flex;
  align-items: baseline;
  gap: 8px;
  font-size: 11px;
  line-height: 1.4;
}

.sessionDetailInfoRow .terminalDetailLabel {
  min-width: 100px;
  flex-shrink: 0;
}

/* Linked task items */
.sessionDetailTaskItem {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 5px 8px;
  font-size: 11px;
  color: var(--terminal-text-dim);
  border-bottom: 1px solid var(--terminal-border);
}

.sessionDetailTaskItem:last-child {
  border-bottom: none;
}

.sessionDetailTaskTitle {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Timeline scroller */
.sessionDetailTimelineScroller {
  max-height: 400px;
  overflow-y: auto;
}

.sessionDetailTimelineScroller::-webkit-scrollbar {
  width: 6px;
}

.sessionDetailTimelineScroller::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

.sessionDetailTimelineScroller::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.25);
  border-radius: 3px;
}

.sessionDetailTimelineScroller::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.45);
}

/* Clickable session chips in TaskListItem */
.terminalSessionStatusChip--clickable {
  cursor: pointer;
}

.terminalSessionStatusChip--clickable:hover {
  filter: brightness(1.3);
  box-shadow: 0 0 6px rgba(var(--theme-primary-rgb), 0.3);
}

/* Clickable session badges in SessionsSection sidebar */
.sessionStatusBadge--clickable {
  cursor: pointer;
  transition: filter 0.15s ease, box-shadow 0.15s ease;
}

.sessionStatusBadge--clickable:hover {
  filter: brightness(1.3);
  box-shadow: 0 0 6px rgba(var(--theme-primary-rgb), 0.3);
}

/* needs-user-input session glow */
@keyframes needsInputGlow {
  0%, 100% { box-shadow: 0 0 4px rgba(251, 191, 36, 0.4); border-color: rgba(251, 191, 36, 0.5); }
  50% { box-shadow: 0 0 12px rgba(251, 191, 36, 0.7); border-color: rgba(251, 191, 36, 0.8); }
}
.sessionItemNeedsInput {
  animation: needsInputGlow 2s ease-in-out infinite;
  border: 1px solid rgba(251, 191, 36, 0.5);
}

.sessionStatusBadge--needsInput {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(251, 191, 36, 0.3);
}

/* ------------------------------------------------------------------ */
/*  Docs List                                                          */
/* ------------------------------------------------------------------ */

.docsListGrid {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.docsListCard {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: left;
  width: 100%;
  color: inherit;
  font-family: inherit;
  font-size: inherit;
}

.docsListCard:hover {
  background: rgba(var(--theme-primary-rgb), 0.06);
  border-color: rgba(var(--theme-primary-rgb), 0.2);
}

.docsListCardIcon {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  color: var(--theme-primary, #00ff41);
  font-size: 9px;
  font-weight: 700;
  font-family: 'JetBrains Mono', monospace;
  letter-spacing: -0.5px;
}

.docsListCardBody {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.docsListCardTitle {
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.docsListCardFile {
  font-size: 10px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-family: 'JetBrains Mono', monospace;
}

.docsListCardExt {
  color: rgba(var(--theme-primary-rgb), 0.6);
  margin-left: 2px;
}

.docsListCardRight {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 3px;
}

.docsListCardSession {
  font-size: 8px;
  font-weight: 600;
  text-transform: uppercase;
  padding: 1px 5px;
  border-radius: 3px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  color: var(--theme-primary, #00ff41);
  letter-spacing: 0.5px;
}

.docsListCardTime {
  font-size: 9px;
  color: var(--muted);
  opacity: 0.6;
  font-family: 'JetBrains Mono', monospace;
}

/* ------------------------------------------------------------------ */
/*  Doc Viewer Overlay / Modal                                         */
/* ------------------------------------------------------------------ */

.docViewerOverlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  animation: docViewerFadeIn 0.15s ease;
}

@keyframes docViewerFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.docViewerPanel {
  width: 90vw;
  max-width: 800px;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  background: var(--panel, #10151e);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.2);
  border-radius: 10px;
  box-shadow:
    0 0 40px rgba(0, 0, 0, 0.5),
    0 0 80px rgba(var(--theme-primary-rgb), 0.05);
  overflow: hidden;
  animation: docViewerSlideUp 0.2s ease;
}

@keyframes docViewerSlideUp {
  from { transform: translateY(10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Header */
.docViewerHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  background: rgba(0, 0, 0, 0.3);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.docViewerHeaderLeft {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

.docViewerIcon {
  flex-shrink: 0;
  width: 34px;
  height: 34px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 7px;
  background: rgba(var(--theme-primary-rgb), 0.12);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.2);
  color: var(--theme-primary, #00ff41);
  font-size: 11px;
  font-weight: 700;
  font-family: 'JetBrains Mono', monospace;
}

.docViewerHeaderInfo {
  display: flex;
  flex-direction: column;
  gap: 3px;
  min-width: 0;
}

.docViewerTitle {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.docViewerPathRow {
  display: flex;
  align-items: center;
  gap: 6px;
}

.docViewerFileName {
  font-size: 11px;
  color: var(--muted);
  font-family: 'JetBrains Mono', monospace;
}

.docViewerExtBadge {
  font-size: 9px;
  font-weight: 600;
  padding: 1px 5px;
  border-radius: 3px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  color: var(--theme-primary, #00ff41);
  font-family: 'JetBrains Mono', monospace;
  text-transform: uppercase;
}

.docViewerCloseBtn {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 6px;
  color: var(--muted);
  cursor: pointer;
  font-size: 12px;
  transition: all 0.15s ease;
}

.docViewerCloseBtn:hover {
  background: rgba(255, 80, 80, 0.15);
  border-color: rgba(255, 80, 80, 0.3);
  color: #ff6b6b;
}

/* Metadata bar */
.docViewerMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  padding: 8px 16px;
  background: rgba(0, 0, 0, 0.15);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.docViewerMetaItem {
  display: flex;
  align-items: center;
  gap: 6px;
}

.docViewerMetaLabel {
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--muted);
  opacity: 0.5;
}

.docViewerMetaValue {
  font-size: 11px;
  color: var(--muted);
  font-family: 'JetBrains Mono', monospace;
  max-width: 300px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.docViewerMetaSessionBadge {
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  padding: 1px 6px;
  border-radius: 3px;
  background: rgba(var(--theme-primary-rgb), 0.1);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.15);
  color: var(--theme-primary, #00ff41);
  letter-spacing: 0.3px;
}

/* Body */
.docViewerBody {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.docViewerBody::-webkit-scrollbar {
  width: 6px;
}

.docViewerBody::-webkit-scrollbar-track {
  background: transparent;
}

.docViewerBody::-webkit-scrollbar-thumb {
  background: rgba(var(--theme-primary-rgb), 0.2);
  border-radius: 3px;
}

.docViewerBody::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--theme-primary-rgb), 0.35);
}

/* Code (non-markdown) view */
.docViewerCode {
  margin: 0;
  padding: 16px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  line-height: 1.6;
  color: var(--text);
  white-space: pre-wrap;
  word-break: break-word;
  overflow-x: auto;
}

/* Empty state */
.docViewerEmpty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 48px 24px;
  color: var(--muted);
  opacity: 0.5;
  font-size: 13px;
}

.docViewerEmptyIcon {
  font-size: 24px;
  opacity: 0.4;
}

.docViewerEmptyPath {
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  opacity: 0.6;
}

/* ------------------------------------------------------------------ */
/*  Doc Viewer Markdown Renderer                                       */
/* ------------------------------------------------------------------ */

.docViewerMarkdown {
  font-size: 13px;
  line-height: 1.7;
  color: var(--text);
}

.docViewerMarkdown h1,
.docViewerMarkdown h2,
.docViewerMarkdown h3,
.docViewerMarkdown h4,
.docViewerMarkdown h5,
.docViewerMarkdown h6 {
  color: var(--text);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

.docViewerMarkdown h1 {
  font-size: 1.5em;
  padding-bottom: 0.3em;
  border-bottom: 1px solid rgba(var(--theme-primary-rgb), 0.15);
}

.docViewerMarkdown h2 {
  font-size: 1.3em;
  padding-bottom: 0.2em;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.docViewerMarkdown h3 { font-size: 1.1em; }
.docViewerMarkdown h4 { font-size: 1em; }
.docViewerMarkdown h5 { font-size: 0.95em; }
.docViewerMarkdown h6 { font-size: 0.9em; color: var(--muted); }

.docViewerMarkdown h1:first-child,
.docViewerMarkdown h2:first-child,
.docViewerMarkdown h3:first-child {
  margin-top: 0;
}

.docViewerMarkdown p {
  margin: 0.8em 0;
}

.docViewerMarkdown a {
  color: var(--theme-primary, #00ff41);
  text-decoration: none;
  border-bottom: 1px solid rgba(var(--theme-primary-rgb), 0.3);
  transition: border-color 0.15s ease;
}

.docViewerMarkdown a:hover {
  border-bottom-color: var(--theme-primary, #00ff41);
}

.docViewerMarkdown strong {
  font-weight: 600;
  color: var(--text);
}

.docViewerMarkdown em {
  font-style: italic;
  color: var(--muted);
}

/* Inline code */
.docViewerMarkdown code {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.88em;
  padding: 2px 6px;
  background: rgba(var(--theme-primary-rgb), 0.08);
  border: 1px solid rgba(var(--theme-primary-rgb), 0.12);
  border-radius: 4px;
  color: var(--theme-primary, #00ff41);
}

/* Code blocks */
.docViewerMarkdown pre {
  margin: 1em 0;
  padding: 14px 16px;
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  overflow-x: auto;
}

.docViewerMarkdown pre code {
  background: none;
  border: none;
  padding: 0;
  font-size: 12px;
  line-height: 1.6;
  color: var(--text);
}

/* Blockquotes */
.docViewerMarkdown blockquote {
  margin: 1em 0;
  padding: 8px 16px;
  border-left: 3px solid rgba(var(--theme-primary-rgb), 0.3);
  background: rgba(var(--theme-primary-rgb), 0.03);
  color: var(--muted);
}

.docViewerMarkdown blockquote p {
  margin: 0.3em 0;
}

/* Lists */
.docViewerMarkdown ul,
.docViewerMarkdown ol {
  margin: 0.6em 0;
  padding-left: 1.5em;
}

.docViewerMarkdown li {
  margin: 0.3em 0;
}

.docViewerMarkdown li > p {
  margin: 0.2em 0;
}

/* Tables */
.docViewerMarkdown table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
  font-size: 12px;
}

.docViewerMarkdown th,
.docViewerMarkdown td {
  padding: 8px 12px;
  text-align: left;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.docViewerMarkdown th {
  font-weight: 600;
  background: rgba(var(--theme-primary-rgb), 0.06);
  color: var(--text);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.docViewerMarkdown td {
  color: var(--muted);
}

.docViewerMarkdown tr:hover td {
  background: rgba(255, 255, 255, 0.02);
}

/* Horizontal rules */
.docViewerMarkdown hr {
  border: none;
  height: 1px;
  background: rgba(255, 255, 255, 0.08);
  margin: 1.5em 0;
}

/* Images */
.docViewerMarkdown img {
  max-width: 100%;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Task lists (GFM) */
.docViewerMarkdown input[type="checkbox"] {
  margin-right: 6px;
  accent-color: var(--theme-primary, #00ff41);
}
